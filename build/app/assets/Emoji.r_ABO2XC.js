import{bb as e,bM as t,bc as n,bN as s,r as a,bd as r,bO as i,bP as u,bQ as o,n as l,C as d}from"./index.mlCxaiYE.js";import{b as c,c as f,d as b}from"./InputSelectPermission.lb2lIKIy.js";var p=["baseId","unstable_idCountRef","unstable_virtual","rtl","orientation","items","groups","currentId","loop","wrap","shift","unstable_moves","unstable_hasActiveWidget","unstable_includesBaseElement","selectedId","panels","manual","setBaseId","registerItem","unregisterItem","registerGroup","unregisterGroup","move","next","previous","up","down","first","last","sort","unstable_setVirtual","setRTL","setOrientation","setCurrentId","setLoop","setWrap","setShift","reset","unstable_setIncludesBaseElement","unstable_setHasActiveWidget","select","setSelectedId","registerPanel","unregisterPanel"],v=p,m=[].concat(v,["tabId"]);var I=r({as:"button",memo:!0,useHook:e({name:"Tab",compose:c,keys:p,useOptions:function useOptions(e){var s=e.focusable,a=void 0===s||s,r=t(e,["focusable"]);return n({focusable:a},r)},useProps:function useProps(e,r){var i=r.onClick,u=r.onFocus,o=t(r,["onClick","onFocus"]),l=e.selectedId===e.id,d=function useTabPanelId(e){return a.useMemo((function(){var t,n;return(null===(t=e.panels)||void 0===t||null===(n=t.find((function(t){return t.groupId===e.id})))||void 0===n?void 0:n.id)||void 0}),[e.panels,e.id])}(e),c=s(i),f=s(u),b=a.useCallback((function(t){var n,s;null===(n=c.current)||void 0===n||n.call(c,t),t.defaultPrevented||e.disabled||e.id&&(l||null===(s=e.select)||void 0===s||s.call(e,e.id))}),[e.disabled,l,e.select,e.id]),p=a.useCallback((function(t){var n,s;null===(n=f.current)||void 0===n||n.call(f,t),t.defaultPrevented||e.disabled||e.manual||e.id&&(l||null===(s=e.select)||void 0===s||s.call(e,e.id))}),[e.id,e.disabled,e.manual,l,e.select]);return n({role:"tab","aria-selected":l,"aria-controls":d,onClick:b,onFocus:p},o)}})});function getTabId(e){var t,n,s=null===(t=e.panels)||void 0===t?void 0:t.find((function(t){return t.id===e.id})),a=e.tabId||(null==s?void 0:s.groupId);if(a||!s||!e.panels||!e.items)return a;var r=function getPanelIndex(e,t){return e.filter((function(e){return!e.groupId})).indexOf(t)}(e.panels,s),i=function getTabsWithoutPanel(e,t){var n=t.map((function(e){return e.groupId})).filter(Boolean);return e.filter((function(e){return-1===n.indexOf(e.id||void 0)}))}(e.items,e.panels);return(null===(n=i[r])||void 0===n?void 0:n.id)||void 0}var g=r({as:"div",useHook:e({name:"TabPanel",compose:[f,i],keys:m,useProps:function useProps2(e,s){var r=s.ref,i=t(s,["ref"]),o=a.useRef(null),l=getTabId(e),d=e.id,c=e.registerPanel,f=e.unregisterPanel;return a.useEffect((function(){if(d)return null==c||c({id:d,ref:o,groupId:l}),function(){null==f||f(d)}}),[l,d,c,f]),n({ref:u(o,r),role:"tabpanel",tabIndex:0,"aria-labelledby":l},i)},useComposeOptions:function useComposeOptions(e){var t=getTabId(e);return n({visible:!!t&&e.selectedId===t},e)}})});function useTabState(e){void 0===e&&(e={});var s=o(e),r=s.selectedId,i=s.loop,u=void 0===i||i,l=s.manual,d=void 0!==l&&l,c=t(s,["selectedId","loop","manual"]),f=b(n({loop:u,currentId:r},c)),p=b(),v=a.useState(r),m=v[0],I=v[1],g=a.useCallback((function(e){f.move(e),I(e)}),[f.move]);return a.useEffect((function(){null!==m&&(f.items.find((function(e){return e.id===m}))||f.currentId&&I(f.currentId))}),[m,f.items,f.currentId]),n(n({},f),{},{selectedId:m,panels:p.items,manual:d,select:g,setSelectedId:I,registerPanel:a.useCallback((function(e){return p.registerItem(e)}),[p.registerItem]),unregisterPanel:a.useCallback((function(e){return p.unregisterItem(e)}),[p.unregisterItem])})}const P=l.span.withConfig({componentId:"sc-7bkeuh-0"})(["font-family:",";width:",";height:",";font-size:",";"],d("fontFamilyEmoji"),(({width:e})=>"string"==typeof e?e:e?`${e}px`:"auto"),(({height:e})=>"string"==typeof e?e:e?`${e}px`:"auto"),(({size:e})=>e&&`${e}px`));export{P as E,v as T,I as a,g as b,useTabState as u};
