import{o as e,a as t,u as s,r as o,aR as a,j as r,d as i,z as n,B as m,h as c,w as l,H as p,A as u,am as d,s as h,q as j,E as f}from"./index.mlCxaiYE.js";import{A as g}from"./Actions.u9jjnQ1W.js";import{P as y}from"./PaginatedDocumentList.j-XTHEWP.js";import{S as T}from"./Scene.tZk0YIWv.js";import{T as D,a as C}from"./Tabs.dkNXhqZm.js";import{C as S}from"./InputSelectPermission.lb2lIKIy.js";import{b as w,M as x,T as b}from"./DocumentContext.hhTeDqBR.js";import{C as P}from"./Switch.3DOmHSIs.js";import{T as I}from"./TeamLogo.qV1feKYB.js";import{u as A}from"./useCurrentTeam.fRZpnoZU.js";import{u as B}from"./usePolicy.wYF8wJNp.js";import"./DocumentListItem.b25IHz8z.js";import"./Item.dGEOVRdT.js";import"./Badge.sHfYRIgC.js";import"./PlaceholderText.UNfhMHoO.js";import"./Star.r69PtoVf.js";import"./Time.rp9cc_zo.js";import"./useCurrentUser.zlImhYTS.js";import"./Highlight.XZk1WX3z.js";import"./useBoolean.4JQO1FDN.js";import"./authenticated.03alztlO.js";import"./index.esm.XsAbwjVB.js";import"./urls.doI9odX4.js";import"./Notice.4wB6_cwE.js";import"./LoadingIndicatorBar.mGaD64ZX.js";import"./ButtonLink.tgoiIjKJ.js";import"./routeHelpers.MPg4vHxP.js";import"./SharedLayoutContext.2BBc39h7.js";import"./VisualElementDragControls.jrFnrF4j.js";import"./PopoverDisclosure.OO70kItq.js";const L=e((function NewTemplateMenu(){const e=w({modal:!0}),{t:l}=t(),p=A(),{collections:u,policies:d}=s(),h=B(p);o.useEffect((()=>{u.fetchPage({limit:100})}),[u]);const j=h.createTemplate?{type:"route",to:a(),title:l("Save in workspace"),icon:r(I,{model:p})}:null,f=o.useMemo((()=>u.orderedData.reduce(((e,t)=>(d.abilities(t.id).createDocument&&e.push({type:"route",to:a(t.id),title:t.name,icon:r(P,{collection:t})}),e)),[])),[u.orderedData,d]),g=o.useMemo((()=>f.length?[{type:"heading",title:l("Choose a collection")},...f]:[]),[l,f]),y=j?g.length?[j,{type:"separator"},...g]:[j]:g;return 0===y.length?null:i(n,{children:[r(x,{...e,children:e=>i(m,{icon:r(c.PlusIcon,{}),...e,children:[l("New template"),"â€¦"]})}),r(S,{"aria-label":l("New template"),...e,children:r(b,{...e,items:y})})]})}));const E=e((function Templates(){const{documents:e}=s(),{t:a}=t(),n=l(),{fetchTemplates:m,templates:S,templatesAlphabetical:w}=e,x=n.get("sort")||"recent";return o.useEffect((()=>{e.fetchDrafts()}),[e]),i(T,{icon:r(c.ShapesIcon,{}),title:a("Templates"),actions:r(g,{children:r(L,{})}),children:[r(p,{children:a("Templates")}),r(u,{as:"p",type:"secondary",children:r(d,{children:"You can create templates to help your team create consistent and accurate documentation."})}),r(y,{heading:i(D,{children:[r(C,{to:h("templates"),exactQueryString:!0,children:a("Recently updated")}),r(C,{to:{pathname:h("templates"),search:j.stringify({sort:"alphabetical"})},exactQueryString:!0,children:a("Alphabetical")})]}),empty:r(f,{children:a("There are no templates just yet.")}),fetch:m,documents:"alphabetical"===x?w:S,showCollection:!0,showDraft:!0})]})}));export{E as default};
