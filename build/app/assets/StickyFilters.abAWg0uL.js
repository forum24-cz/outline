const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Table.sGv9zVeD.js","assets/index.mlCxaiYE.js","assets/Badge.sHfYRIgC.js","assets/Item.dGEOVRdT.js","assets/PlaceholderText.UNfhMHoO.js"])))=>i.map(i=>d[i]);
import{b as e,b2 as a,b3 as t,g as s,_ as r,k as n,i as o,w as c,r as u,j as i,n as l,F as d,ah as b,C as m}from"./index.mlCxaiYE.js";import{c as p}from"./DocumentContext.hhTeDqBR.js";import{H as f}from"./Scene.tZk0YIWv.js";function useTableRequest({data:s,sort:r,reqFn:n,reqParams:o}){const[c,u]=e.useState(),[i,l]=e.useState({value:0}),d=e.useRef(o),b=e.useRef(r),m=e.useCallback((()=>n({...o,offset:i.value,limit:25})),[n,o,i]),{request:f,loading:h,error:g}=p(m),v=e.useCallback((()=>l((e=>({value:e.value+25})))),[]),C=s?a(s,b.current.id,b.current.desc?"desc":"asc"):void 0,S=!h&&c&&C&&C.length<c?v:void 0;return e.useEffect((()=>{if(d.current!==o)return d.current=o,void l({value:0});let e=!1;return(async()=>{const a=await f();a&&!e&&(b.current=r,u(a[t]?.total))})(),()=>{e=!0}}),[r,o,i,f]),{data:C,error:g,loading:h,next:S}}const h=s((()=>r((()=>import("./Table.sGv9zVeD.js")),__vite__mapDeps([0,1,2,3,4]))));function SortableTable(e){const a=n(),t=o(),s=c(),r=u.useCallback((e=>{s.set("sort",e.id),s.set("direction",e.desc?"desc":"asc"),t.replace({pathname:a.pathname,search:s.toString()})}),[s,t,a.pathname]);return i(h,{onChangeSort:r,...e})}const g=40,v=l(d).withConfig({componentId:"sc-i52q6d-0"})(["height:","px;position:sticky;top:","px;z-index:",";background:",";"],40,f,b.header,m("background"));export{g as F,SortableTable as S,v as a,useTableRequest as u};
