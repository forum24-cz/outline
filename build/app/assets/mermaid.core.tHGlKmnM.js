const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-4EVJKHTY.GmvjgAO6.js","assets/graph.A9lZ3owi.js","assets/_baseUniq.jbqE6i7x.js","assets/layout.9OyZaRTR.js","assets/_basePickBy.pxmUilPg.js","assets/clone.2kJP-XDj.js","assets/index.mlCxaiYE.js","assets/c4Diagram-6F5ED5ID.AIfiw7bO.js","assets/chunk-ASOPGD6M.YLd0zq1e.js","assets/flowDiagram-7ASYPVHJ.VklpP3kY.js","assets/chunk-5HRBRIJM.VWpC6-kJ.js","assets/channel.hxqBetIP.js","assets/erDiagram-6RL3IURR.MEglqlfl.js","assets/gitGraphDiagram-NRZ2UAAF.BT5oUmG1.js","assets/chunk-TMUBEWPD.BM5D5cG8.js","assets/chunk-KFBOBJHC.xQGpqGI8.js","assets/mermaid-parser.core.pzFSGHE_.js","assets/ganttDiagram-NTVNEXSI.7ye9Obbz.js","assets/linear.ZugJvAkg.js","assets/init.3mU4lpXP.js","assets/infoDiagram-A4XQUW5V.yvKH4yUC.js","assets/pieDiagram-YF2LJOPJ.bsH_JCUR.js","assets/arc.c0ALUfBO.js","assets/ordinal.5UP-l5Lb.js","assets/quadrantDiagram-OS5C2QUG.6avOCsMq.js","assets/xychartDiagram-6QU3TZC5.qUvwvTK-.js","assets/requirementDiagram-MIRIMTAZ._UZVc4i8.js","assets/sequenceDiagram-G6AWOVSC.E6wc8oJW.js","assets/classDiagram-LNE6IOMH.yP26bwk7.js","assets/chunk-T2TOU4HS.DJPvUsmT.js","assets/classDiagram-v2-MQ7JQ4JX.yP26bwk7.js","assets/stateDiagram-MAYHULR4.WvJuecpE.js","assets/chunk-7U56Z5CX.rQsVbKCV.js","assets/stateDiagram-v2-4JROLMXI.LbJyftVm.js","assets/journeyDiagram-G5WM74LC.ClNaovKc.js","assets/timeline-definition-U7ZMHBDA.-bgmtvTH.js","assets/mindmap-definition-GWI6TPTV.vqatwHQM.js","assets/cytoscape.esm.OEEA-xwS.js","assets/kanban-definition-QRCXZQQD.Gge_-edq.js","assets/sankeyDiagram-Y46BX6SQ.s5WmhGjL.js","assets/diagram-QW4FP2JN.yG90XMcQ.js","assets/blockDiagram-ZHA2E4KO.YBbSDk9O.js","assets/architectureDiagram-UYN6MBPD.KCSGAzGf.js"])))=>i.map(i=>d[i]);
var d,u,g,f,M,P,tt,rt,it;import{aw as nt,aM as at,_ as st}from"./index.mlCxaiYE.js";var lt={exports:{}};const ct=at(lt.exports=function(){var d=1e3,u=6e4,g=36e5,f="millisecond",M="second",P="minute",tt="hour",rt="day",it="week",nt="month",at="quarter",st="year",lt="date",ct="Invalid Date",ht=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,dt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ut={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(d){var u=["th","st","nd","rd"],g=d%100;return"["+d+(u[(g-20)%10]||u[g]||u[0])+"]"}},m2=function(d,u,g){var f=String(d);return!f||f.length>=u?d:""+Array(u+1-f.length).join(g)+d},pt={s:m2,z:function(d){var u=-d.utcOffset(),g=Math.abs(u),f=Math.floor(g/60),M=g%60;return(u<=0?"+":"-")+m2(f,2,"0")+":"+m2(M,2,"0")},m:function t3(d,u){if(d.date()<u.date())return-t3(u,d);var g=12*(u.year()-d.year())+(u.month()-d.month()),f=d.clone().add(g,nt),M=u-f<0,P=d.clone().add(g+(M?-1:1),nt);return+(-(g+(u-f)/(M?f-P:P-f))||0)},a:function(d){return d<0?Math.ceil(d)||0:Math.floor(d)},p:function(d){return{M:nt,y:st,w:it,d:rt,D:lt,h:tt,m:P,s:M,ms:f,Q:at}[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(d){return void 0===d}},gt="en",ft={};ft[gt]=ut;var mt="$isDayjsObject",S2=function(d){return d instanceof bt||!(!d||!d[mt])},yt=function t3(d,u,g){var f;if(!d)return gt;if("string"==typeof d){var M=d.toLowerCase();ft[M]&&(f=M),u&&(ft[M]=u,f=M);var P=d.split("-");if(!f&&P.length>1)return t3(P[0])}else{var tt=d.name;ft[tt]=d,f=tt}return!g&&f&&(gt=f),f||!g&&gt},O2=function(d,u){if(S2(d))return d.clone();var g="object"==typeof u?u:{};return g.date=d,g.args=arguments,new bt(g)},xt=pt;xt.l=yt,xt.i=S2,xt.w=function(d,u){return O2(d,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var bt=function(){function M3(d){this.$L=yt(d.locale,null,!0),this.parse(d),this.$x=this.$x||d.x||{},this[mt]=!0}var ut=M3.prototype;return ut.parse=function(d){this.$d=function(d){var u=d.date,g=d.utc;if(null===u)return new Date(NaN);if(xt.u(u))return new Date;if(u instanceof Date)return new Date(u);if("string"==typeof u&&!/Z$/i.test(u)){var f=u.match(ht);if(f){var M=f[2]-1||0,P=(f[7]||"0").substring(0,3);return g?new Date(Date.UTC(f[1],M,f[3]||1,f[4]||0,f[5]||0,f[6]||0,P)):new Date(f[1],M,f[3]||1,f[4]||0,f[5]||0,f[6]||0,P)}}return new Date(u)}(d),this.init()},ut.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},ut.$utils=function(){return xt},ut.isValid=function(){return!(this.$d.toString()===ct)},ut.isSame=function(d,u){var g=O2(d);return this.startOf(u)<=g&&g<=this.endOf(u)},ut.isAfter=function(d,u){return O2(d)<this.startOf(u)},ut.isBefore=function(d,u){return this.endOf(u)<O2(d)},ut.$g=function(d,u,g){return xt.u(d)?this[u]:this.set(g,d)},ut.unix=function(){return Math.floor(this.valueOf()/1e3)},ut.valueOf=function(){return this.$d.getTime()},ut.startOf=function(d,u){var g=this,f=!!xt.u(u)||u,at=xt.p(d),l3=function(d,u){var M=xt.w(g.$u?Date.UTC(g.$y,u,d):new Date(g.$y,u,d),g);return f?M:M.endOf(rt)},$3=function(d,u){return xt.w(g.toDate()[d].apply(g.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(u)),g)},ct=this.$W,ht=this.$M,dt=this.$D,ut="set"+(this.$u?"UTC":"");switch(at){case st:return f?l3(1,0):l3(31,11);case nt:return f?l3(1,ht):l3(0,ht+1);case it:var pt=this.$locale().weekStart||0,gt=(ct<pt?ct+7:ct)-pt;return l3(f?dt-gt:dt+(6-gt),ht);case rt:case lt:return $3(ut+"Hours",0);case tt:return $3(ut+"Minutes",1);case P:return $3(ut+"Seconds",2);case M:return $3(ut+"Milliseconds",3);default:return this.clone()}},ut.endOf=function(d){return this.startOf(d,!1)},ut.$set=function(d,u){var g,it=xt.p(d),at="set"+(this.$u?"UTC":""),ct=(g={},g[rt]=at+"Date",g[lt]=at+"Date",g[nt]=at+"Month",g[st]=at+"FullYear",g[tt]=at+"Hours",g[P]=at+"Minutes",g[M]=at+"Seconds",g[f]=at+"Milliseconds",g)[it],ht=it===rt?this.$D+(u-this.$W):u;if(it===nt||it===st){var dt=this.clone().set(lt,1);dt.$d[ct](ht),dt.init(),this.$d=dt.set(lt,Math.min(this.$D,dt.daysInMonth())).$d}else ct&&this.$d[ct](ht);return this.init(),this},ut.set=function(d,u){return this.clone().$set(d,u)},ut.get=function(d){return this[xt.p(d)]()},ut.add=function(f,at){var lt,ct=this;f=Number(f);var ht=xt.p(at),y3=function(d){var u=O2(ct);return xt.w(u.date(u.date()+Math.round(d*f)),ct)};if(ht===nt)return this.set(nt,this.$M+f);if(ht===st)return this.set(st,this.$y+f);if(ht===rt)return y3(1);if(ht===it)return y3(7);var dt=(lt={},lt[P]=u,lt[tt]=g,lt[M]=d,lt)[ht]||1,ut=this.$d.getTime()+f*dt;return xt.w(ut,this)},ut.subtract=function(d,u){return this.add(-1*d,u)},ut.format=function(d){var u=this,g=this.$locale();if(!this.isValid())return g.invalidDate||ct;var f=d||"YYYY-MM-DDTHH:mm:ssZ",M=xt.z(this),P=this.$H,tt=this.$m,rt=this.$M,it=g.weekdays,nt=g.months,at=g.meridiem,h3=function(d,g,M,P){return d&&(d[g]||d(u,f))||M[g].slice(0,P)},d3=function(d){return xt.s(P%12||12,d,"0")},st=at||function(d,u,g){var f=d<12?"AM":"PM";return g?f.toLowerCase():f};return f.replace(dt,(function(d,f){return f||function(d){switch(d){case"YY":return String(u.$y).slice(-2);case"YYYY":return xt.s(u.$y,4,"0");case"M":return rt+1;case"MM":return xt.s(rt+1,2,"0");case"MMM":return h3(g.monthsShort,rt,nt,3);case"MMMM":return h3(nt,rt);case"D":return u.$D;case"DD":return xt.s(u.$D,2,"0");case"d":return String(u.$W);case"dd":return h3(g.weekdaysMin,u.$W,it,2);case"ddd":return h3(g.weekdaysShort,u.$W,it,3);case"dddd":return it[u.$W];case"H":return String(P);case"HH":return xt.s(P,2,"0");case"h":return d3(1);case"hh":return d3(2);case"a":return st(P,tt,!0);case"A":return st(P,tt,!1);case"m":return String(tt);case"mm":return xt.s(tt,2,"0");case"s":return String(u.$s);case"ss":return xt.s(u.$s,2,"0");case"SSS":return xt.s(u.$ms,3,"0");case"Z":return M}return null}(d)||M.replace(":","")}))},ut.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ut.diff=function(f,lt,ct){var ht,dt=this,ut=xt.p(lt),pt=O2(f),gt=(pt.utcOffset()-this.utcOffset())*u,ft=this-pt,D3=function(){return xt.m(dt,pt)};switch(ut){case st:ht=D3()/12;break;case nt:ht=D3();break;case at:ht=D3()/3;break;case it:ht=(ft-gt)/6048e5;break;case rt:ht=(ft-gt)/864e5;break;case tt:ht=ft/g;break;case P:ht=ft/u;break;case M:ht=ft/d;break;default:ht=ft}return ct?ht:xt.a(ht)},ut.daysInMonth=function(){return this.endOf(nt).$D},ut.$locale=function(){return ft[this.$L]},ut.locale=function(d,u){if(!d)return this.$L;var g=this.clone(),f=yt(d,u,!0);return f&&(g.$L=f),g},ut.clone=function(){return xt.w(this.$d,this)},ut.toDate=function(){return new Date(this.valueOf())},ut.toJSON=function(){return this.isValid()?this.toISOString():null},ut.toISOString=function(){return this.$d.toISOString()},ut.toString=function(){return this.$d.toUTCString()},M3}(),kt=bt.prototype;return O2.prototype=kt,[["$ms",f],["$s",M],["$m",P],["$H",tt],["$W",rt],["$M",nt],["$y",st],["$D",lt]].forEach((function(d){kt[d[1]]=function(u){return this.$g(u,d[0],d[1])}})),O2.extend=function(d,u){return d.$i||(d(u,bt,O2),d.$i=!0),O2},O2.locale=yt,O2.isDayjs=S2,O2.unix=function(d){return O2(1e3*d)},O2.en=ft[gt],O2.Ls=ft,O2.p={},O2}()),ht={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:d=>d>=255?255:d<0?0:d,g:d=>d>=255?255:d<0?0:d,b:d=>d>=255?255:d<0?0:d,h:d=>d%360,s:d=>d>=100?100:d<0?0:d,l:d=>d>=100?100:d<0?0:d,a:d=>d>=1?1:d<0?0:d},toLinear:d=>{const u=d/255;return d>.03928?Math.pow((u+.055)/1.055,2.4):u/12.92},hue2rgb:(d,u,g)=>(g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+6*(u-d)*g:g<.5?u:g<2/3?d+(u-d)*(2/3-g)*6:d),hsl2rgb:({h:d,s:u,l:g},f)=>{if(!u)return 2.55*g;d/=360,u/=100;const M=(g/=100)<.5?g*(1+u):g+u-g*u,P=2*g-M;switch(f){case"r":return 255*ht.hue2rgb(P,M,d+1/3);case"g":return 255*ht.hue2rgb(P,M,d);case"b":return 255*ht.hue2rgb(P,M,d-1/3)}},rgb2hsl:({r:d,g:u,b:g},f)=>{d/=255,u/=255,g/=255;const M=Math.max(d,u,g),P=Math.min(d,u,g),tt=(M+P)/2;if("l"===f)return 100*tt;if(M===P)return 0;const rt=M-P;if("s"===f)return 100*(tt>.5?rt/(2-M-P):rt/(M+P));switch(M){case d:return 60*((u-g)/rt+(u<g?6:0));case u:return 60*((g-d)/rt+2);case g:return 60*((d-u)/rt+4);default:return-1}}},dt={channel:ht,lang:{clamp:(d,u,g)=>u>g?Math.min(u,Math.max(g,d)):Math.min(g,Math.max(u,d)),round:d=>Math.round(1e10*d)/1e10},unit:{dec2hex:d=>{const u=Math.round(d).toString(16);return u.length>1?u:`0${u}`}}},ut={};for(let mu=0;mu<=255;mu++)ut[mu]=dt.unit.dec2hex(mu);const pt=0,gt=1,ft=2;const mt=class Type{constructor(){this.type=pt}get(){return this.type}set(d){if(this.type&&this.type!==d)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=d}reset(){this.type=pt}is(d){return this.type===d}};const yt=new class Channels{constructor(d,u){this.color=u,this.changed=!1,this.data=d,this.type=new mt}set(d,u){return this.color=u,this.changed=!1,this.data=d,this.type.type=pt,this}_ensureHSL(){const d=this.data,{h:u,s:g,l:f}=d;void 0===u&&(d.h=dt.channel.rgb2hsl(d,"h")),void 0===g&&(d.s=dt.channel.rgb2hsl(d,"s")),void 0===f&&(d.l=dt.channel.rgb2hsl(d,"l"))}_ensureRGB(){const d=this.data,{r:u,g:g,b:f}=d;void 0===u&&(d.r=dt.channel.hsl2rgb(d,"r")),void 0===g&&(d.g=dt.channel.hsl2rgb(d,"g")),void 0===f&&(d.b=dt.channel.hsl2rgb(d,"b"))}get r(){const d=this.data,u=d.r;return this.type.is(ft)||void 0===u?(this._ensureHSL(),dt.channel.hsl2rgb(d,"r")):u}get g(){const d=this.data,u=d.g;return this.type.is(ft)||void 0===u?(this._ensureHSL(),dt.channel.hsl2rgb(d,"g")):u}get b(){const d=this.data,u=d.b;return this.type.is(ft)||void 0===u?(this._ensureHSL(),dt.channel.hsl2rgb(d,"b")):u}get h(){const d=this.data,u=d.h;return this.type.is(gt)||void 0===u?(this._ensureRGB(),dt.channel.rgb2hsl(d,"h")):u}get s(){const d=this.data,u=d.s;return this.type.is(gt)||void 0===u?(this._ensureRGB(),dt.channel.rgb2hsl(d,"s")):u}get l(){const d=this.data,u=d.l;return this.type.is(gt)||void 0===u?(this._ensureRGB(),dt.channel.rgb2hsl(d,"l")):u}get a(){return this.data.a}set r(d){this.type.set(gt),this.changed=!0,this.data.r=d}set g(d){this.type.set(gt),this.changed=!0,this.data.g=d}set b(d){this.type.set(gt),this.changed=!0,this.data.b=d}set h(d){this.type.set(ft),this.changed=!0,this.data.h=d}set s(d){this.type.set(ft),this.changed=!0,this.data.s=d}set l(d){this.type.set(ft),this.changed=!0,this.data.l=d}set a(d){this.changed=!0,this.data.a=d}}({r:0,g:0,b:0,a:0},"transparent"),xt={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:d=>{if(35!==d.charCodeAt(0))return;const u=d.match(xt.re);if(!u)return;const g=u[1],f=parseInt(g,16),M=g.length,P=M%4==0,tt=M>4,rt=tt?1:17,it=tt?8:4,nt=P?0:-1,at=tt?255:15;return yt.set({r:(f>>it*(nt+3)&at)*rt,g:(f>>it*(nt+2)&at)*rt,b:(f>>it*(nt+1)&at)*rt,a:P?(f&at)*rt/255:1},d)},stringify:d=>{const{r:u,g:g,b:f,a:M}=d;return M<1?`#${ut[Math.round(u)]}${ut[Math.round(g)]}${ut[Math.round(f)]}${ut[Math.round(255*M)]}`:`#${ut[Math.round(u)]}${ut[Math.round(g)]}${ut[Math.round(f)]}`}},bt=xt,kt={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:d=>{const u=d.match(kt.hueRe);if(u){const[,d,g]=u;switch(g){case"grad":return dt.channel.clamp.h(.9*parseFloat(d));case"rad":return dt.channel.clamp.h(180*parseFloat(d)/Math.PI);case"turn":return dt.channel.clamp.h(360*parseFloat(d))}}return dt.channel.clamp.h(parseFloat(d))},parse:d=>{const u=d.charCodeAt(0);if(104!==u&&72!==u)return;const g=d.match(kt.re);if(!g)return;const[,f,M,P,tt,rt]=g;return yt.set({h:kt._hue2deg(f),s:dt.channel.clamp.s(parseFloat(M)),l:dt.channel.clamp.l(parseFloat(P)),a:tt?dt.channel.clamp.a(rt?parseFloat(tt)/100:parseFloat(tt)):1},d)},stringify:d=>{const{h:u,s:g,l:f,a:M}=d;return M<1?`hsla(${dt.lang.round(u)}, ${dt.lang.round(g)}%, ${dt.lang.round(f)}%, ${M})`:`hsl(${dt.lang.round(u)}, ${dt.lang.round(g)}%, ${dt.lang.round(f)}%)`}},Ct=kt,_t={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:d=>{d=d.toLowerCase();const u=_t.colors[d];if(u)return bt.parse(u)},stringify:d=>{const u=bt.stringify(d);for(const g in _t.colors)if(_t.colors[g]===u)return g}},wt=_t,St={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:d=>{const u=d.charCodeAt(0);if(114!==u&&82!==u)return;const g=d.match(St.re);if(!g)return;const[,f,M,P,tt,rt,it,nt,at]=g;return yt.set({r:dt.channel.clamp.r(M?2.55*parseFloat(f):parseFloat(f)),g:dt.channel.clamp.g(tt?2.55*parseFloat(P):parseFloat(P)),b:dt.channel.clamp.b(it?2.55*parseFloat(rt):parseFloat(rt)),a:nt?dt.channel.clamp.a(at?parseFloat(nt)/100:parseFloat(nt)):1},d)},stringify:d=>{const{r:u,g:g,b:f,a:M}=d;return M<1?`rgba(${dt.lang.round(u)}, ${dt.lang.round(g)}, ${dt.lang.round(f)}, ${dt.lang.round(M)})`:`rgb(${dt.lang.round(u)}, ${dt.lang.round(g)}, ${dt.lang.round(f)})`}},Tt=St,vt={format:{keyword:wt,hex:bt,rgb:Tt,rgba:Tt,hsl:Ct,hsla:Ct},parse:d=>{if("string"!=typeof d)return d;const u=bt.parse(d)||Tt.parse(d)||Ct.parse(d)||wt.parse(d);if(u)return u;throw new Error(`Unsupported color format: "${d}"`)},stringify:d=>!d.changed&&d.color?d.color:d.type.is(ft)||void 0===d.data.r?Ct.stringify(d):d.a<1||!Number.isInteger(d.r)||!Number.isInteger(d.g)||!Number.isInteger(d.b)?Tt.stringify(d):bt.stringify(d)},change$1=(d,u)=>{const g=vt.parse(d);for(const f in u)g[f]=dt.channel.clamp[f](u[f]);return vt.stringify(g)},rgba2=(d,u,g=0,f=1)=>{if("number"!=typeof d)return change$1(d,{a:u});const M=yt.set({r:dt.channel.clamp.r(d),g:dt.channel.clamp.g(u),b:dt.channel.clamp.b(g),a:dt.channel.clamp.a(f)});return vt.stringify(M)},luminance$1=d=>{const{r:u,g:g,b:f}=vt.parse(d),M=.2126*dt.channel.toLinear(u)+.7152*dt.channel.toLinear(g)+.0722*dt.channel.toLinear(f);return dt.lang.round(M)},isLight$1=d=>luminance$1(d)>=.5,isDark$1=d=>!isLight$1(d),adjustChannel$1=(d,u,g)=>{const f=vt.parse(d),M=f[u],P=dt.channel.clamp[u](M+g);return M!==P&&(f[u]=P),vt.stringify(f)},lighten$1=(d,u)=>adjustChannel$1(d,"l",u),darken$1=(d,u)=>adjustChannel$1(d,"l",-u),adjust6=(d,u)=>{const g=vt.parse(d),f={};for(const M in u)u[M]&&(f[M]=g[M]+u[M]);return change$1(d,f)},mix$1=(d,u,g=50)=>{const{r:f,g:M,b:P,a:tt}=vt.parse(d),{r:rt,g:it,b:nt,a:at}=vt.parse(u),st=g/100,lt=2*st-1,ct=tt-at,ht=((lt*ct==-1?lt:(lt+ct)/(1+lt*ct))+1)/2,dt=1-ht;return rgba2(f*ht+rt*dt,M*ht+it*dt,P*ht+nt*dt,tt*st+at*(1-st))},invert5=(d,u=100)=>{const g=vt.parse(d);return g.r=255-g.r,g.g=255-g.g,g.b=255-g.b,mix$1(g,d,u)},{entries:Bt,setPrototypeOf:Lt,isFrozen:At,getPrototypeOf:Mt,getOwnPropertyDescriptor:Ft}=Object;let{freeze:Et,seal:$t,create:Ot}=Object,{apply:Pt,construct:It}="undefined"!=typeof Reflect&&Reflect;Et||(Et=function freeze2(d){return d}),$t||($t=function seal2(d){return d}),Pt||(Pt=function apply2(d,u,g){return d.apply(u,g)}),It||(It=function construct2(d,u){return new d(...u)});const Dt=unapply(Array.prototype.forEach),Rt=unapply(Array.prototype.lastIndexOf),Nt=unapply(Array.prototype.pop),zt=unapply(Array.prototype.push),qt=unapply(Array.prototype.splice),Wt=unapply(String.prototype.toLowerCase),jt=unapply(String.prototype.toString),Ht=unapply(String.prototype.match),Yt=unapply(String.prototype.replace),Gt=unapply(String.prototype.indexOf),Ut=unapply(String.prototype.trim),Vt=unapply(Object.prototype.hasOwnProperty),Xt=unapply(RegExp.prototype.test),Zt=function unconstruct(d){return function(){for(var u=arguments.length,g=new Array(u),f=0;f<u;f++)g[f]=arguments[f];return It(d,g)}}(TypeError);function unapply(d){return function(u){for(var g=arguments.length,f=new Array(g>1?g-1:0),M=1;M<g;M++)f[M-1]=arguments[M];return Pt(d,u,f)}}function addToSet(d,u){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt;Lt&&Lt(d,null);let f=u.length;for(;f--;){let M=u[f];if("string"==typeof M){const d=g(M);d!==M&&(At(u)||(u[f]=d),M=d)}d[M]=!0}return d}function cleanArray(d){for(let u=0;u<d.length;u++){Vt(d,u)||(d[u]=null)}return d}function clone(d){const u=Ot(null);for(const[g,f]of Bt(d)){Vt(d,g)&&(Array.isArray(f)?u[g]=cleanArray(f):f&&"object"==typeof f&&f.constructor===Object?u[g]=clone(f):u[g]=f)}return u}function lookupGetter(d,u){for(;null!==d;){const g=Ft(d,u);if(g){if(g.get)return unapply(g.get);if("function"==typeof g.value)return unapply(g.value)}d=Mt(d)}return function fallbackValue(){return null}}const Qt=Et(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kt=Et(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Jt=Et(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),te=Et(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ee=Et(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),re=Et(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ie=Et(["#text"]),ne=Et(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ae=Et(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oe=Et(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),se=Et(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),le=$t(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ce=$t(/<%[\w\W]*|[\w\W]*%>/gm),he=$t(/\$\{[\w\W]*/gm),de=$t(/^data-[\-\w.\u00B7-\uFFFF]+$/),ue=$t(/^aria-[\-\w]+$/),pe=$t(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ge=$t(/^(?:\w+script|data):/i),fe=$t(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),me=$t(/^html$/i),ye=$t(/^[a-z][.\w]*(-[.\w]+)+$/i);var xe=Object.freeze({__proto__:null,ARIA_ATTR:ue,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:ye,DATA_ATTR:de,DOCTYPE_NAME:me,ERB_EXPR:ce,IS_ALLOWED_URI:pe,IS_SCRIPT_OR_DATA:ge,MUSTACHE_EXPR:le,TMPLIT_EXPR:he});const be=1,ke=3,Ce=7,_e=8,we=9;var Se,Te=function createDOMPurify(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function getGlobal2(){return"undefined"==typeof window?null:window}();const DOMPurify=d=>createDOMPurify(d);if(DOMPurify.version="3.2.4",DOMPurify.removed=[],!d||!d.document||d.document.nodeType!==we||!d.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document:u}=d;const g=u,f=g.currentScript,{DocumentFragment:M,HTMLTemplateElement:P,Node:tt,Element:rt,NodeFilter:it,NamedNodeMap:nt=d.NamedNodeMap||d.MozNamedAttrMap,HTMLFormElement:at,DOMParser:st,trustedTypes:lt}=d,ct=rt.prototype,ht=lookupGetter(ct,"cloneNode"),dt=lookupGetter(ct,"remove"),ut=lookupGetter(ct,"nextSibling"),pt=lookupGetter(ct,"childNodes"),gt=lookupGetter(ct,"parentNode");if("function"==typeof P){const d=u.createElement("template");d.content&&d.content.ownerDocument&&(u=d.content.ownerDocument)}let ft,mt="";const{implementation:yt,createNodeIterator:xt,createDocumentFragment:bt,getElementsByTagName:kt}=u,{importNode:Ct}=g;let _t={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof Bt&&"function"==typeof gt&&yt&&void 0!==yt.createHTMLDocument;const{MUSTACHE_EXPR:wt,ERB_EXPR:St,TMPLIT_EXPR:Tt,DATA_ATTR:vt,ARIA_ATTR:Lt,IS_SCRIPT_OR_DATA:At,ATTR_WHITESPACE:Mt,CUSTOM_ELEMENT:Ft}=xe;let{IS_ALLOWED_URI:$t}=xe,Pt=null;const It=addToSet({},[...Qt,...Kt,...Jt,...ee,...ie]);let le=null;const ce=addToSet({},[...ne,...ae,...oe,...se]);let he=Object.seal(Ot(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,ue=null,ge=!0,fe=!0,ye=!1,Se=!0,Te=!1,ve=!0,Be=!1,Le=!1,Ae=!1,Me=!1,Fe=!1,Ee=!1,$e=!0,Oe=!1,Pe=!0,Ie=!1,De={},Re=null;const Ne=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ze=null;const qe=addToSet({},["audio","video","img","source","image","track"]);let We=null;const je=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),He="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Ge="http://www.w3.org/1999/xhtml";let Ue=Ge,Ve=!1,Xe=null;const Ze=addToSet({},[He,Ye,Ge],jt);let Qe=addToSet({},["mi","mo","mn","ms","mtext"]),Ke=addToSet({},["annotation-xml"]);const Je=addToSet({},["title","style","font","a","script"]);let tr=null;const er=["application/xhtml+xml","text/html"];let rr=null,ir=null;const nr=u.createElement("form"),ar=function isRegexOrFunction2(d){return d instanceof RegExp||d instanceof Function},or=function _parseConfig2(){let d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ir||ir!==d){if(d&&"object"==typeof d||(d={}),d=clone(d),tr=-1===er.indexOf(d.PARSER_MEDIA_TYPE)?"text/html":d.PARSER_MEDIA_TYPE,rr="application/xhtml+xml"===tr?jt:Wt,Pt=Vt(d,"ALLOWED_TAGS")?addToSet({},d.ALLOWED_TAGS,rr):It,le=Vt(d,"ALLOWED_ATTR")?addToSet({},d.ALLOWED_ATTR,rr):ce,Xe=Vt(d,"ALLOWED_NAMESPACES")?addToSet({},d.ALLOWED_NAMESPACES,jt):Ze,We=Vt(d,"ADD_URI_SAFE_ATTR")?addToSet(clone(je),d.ADD_URI_SAFE_ATTR,rr):je,ze=Vt(d,"ADD_DATA_URI_TAGS")?addToSet(clone(qe),d.ADD_DATA_URI_TAGS,rr):qe,Re=Vt(d,"FORBID_CONTENTS")?addToSet({},d.FORBID_CONTENTS,rr):Ne,de=Vt(d,"FORBID_TAGS")?addToSet({},d.FORBID_TAGS,rr):{},ue=Vt(d,"FORBID_ATTR")?addToSet({},d.FORBID_ATTR,rr):{},De=!!Vt(d,"USE_PROFILES")&&d.USE_PROFILES,ge=!1!==d.ALLOW_ARIA_ATTR,fe=!1!==d.ALLOW_DATA_ATTR,ye=d.ALLOW_UNKNOWN_PROTOCOLS||!1,Se=!1!==d.ALLOW_SELF_CLOSE_IN_ATTR,Te=d.SAFE_FOR_TEMPLATES||!1,ve=!1!==d.SAFE_FOR_XML,Be=d.WHOLE_DOCUMENT||!1,Me=d.RETURN_DOM||!1,Fe=d.RETURN_DOM_FRAGMENT||!1,Ee=d.RETURN_TRUSTED_TYPE||!1,Ae=d.FORCE_BODY||!1,$e=!1!==d.SANITIZE_DOM,Oe=d.SANITIZE_NAMED_PROPS||!1,Pe=!1!==d.KEEP_CONTENT,Ie=d.IN_PLACE||!1,$t=d.ALLOWED_URI_REGEXP||pe,Ue=d.NAMESPACE||Ge,Qe=d.MATHML_TEXT_INTEGRATION_POINTS||Qe,Ke=d.HTML_INTEGRATION_POINTS||Ke,he=d.CUSTOM_ELEMENT_HANDLING||{},d.CUSTOM_ELEMENT_HANDLING&&ar(d.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(he.tagNameCheck=d.CUSTOM_ELEMENT_HANDLING.tagNameCheck),d.CUSTOM_ELEMENT_HANDLING&&ar(d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(he.attributeNameCheck=d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),d.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(he.allowCustomizedBuiltInElements=d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Te&&(fe=!1),Fe&&(Me=!0),De&&(Pt=addToSet({},ie),le=[],!0===De.html&&(addToSet(Pt,Qt),addToSet(le,ne)),!0===De.svg&&(addToSet(Pt,Kt),addToSet(le,ae),addToSet(le,se)),!0===De.svgFilters&&(addToSet(Pt,Jt),addToSet(le,ae),addToSet(le,se)),!0===De.mathMl&&(addToSet(Pt,ee),addToSet(le,oe),addToSet(le,se))),d.ADD_TAGS&&(Pt===It&&(Pt=clone(Pt)),addToSet(Pt,d.ADD_TAGS,rr)),d.ADD_ATTR&&(le===ce&&(le=clone(le)),addToSet(le,d.ADD_ATTR,rr)),d.ADD_URI_SAFE_ATTR&&addToSet(We,d.ADD_URI_SAFE_ATTR,rr),d.FORBID_CONTENTS&&(Re===Ne&&(Re=clone(Re)),addToSet(Re,d.FORBID_CONTENTS,rr)),Pe&&(Pt["#text"]=!0),Be&&addToSet(Pt,["html","head","body"]),Pt.table&&(addToSet(Pt,["tbody"]),delete de.tbody),d.TRUSTED_TYPES_POLICY){if("function"!=typeof d.TRUSTED_TYPES_POLICY.createHTML)throw Zt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof d.TRUSTED_TYPES_POLICY.createScriptURL)throw Zt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ft=d.TRUSTED_TYPES_POLICY,mt=ft.createHTML("")}else void 0===ft&&(ft=function _createTrustedTypesPolicy2(d,u){if("object"!=typeof d||"function"!=typeof d.createPolicy)return null;let g=null;const f="data-tt-policy-suffix";u&&u.hasAttribute(f)&&(g=u.getAttribute(f));const M="dompurify"+(g?"#"+g:"");try{return d.createPolicy(M,{createHTML:d=>d,createScriptURL:d=>d})}catch(P){return console.warn("TrustedTypes policy "+M+" could not be created."),null}}(lt,f)),null!==ft&&"string"==typeof mt&&(mt=ft.createHTML(""));Et&&Et(d),ir=d}},sr=addToSet({},[...Kt,...Jt,...te]),lr=addToSet({},[...ee,...re]),cr=function _forceRemove2(d){zt(DOMPurify.removed,{element:d});try{gt(d).removeChild(d)}catch(u){dt(d)}},hr=function _removeAttribute2(d,u){try{zt(DOMPurify.removed,{attribute:u.getAttributeNode(d),from:u})}catch(g){zt(DOMPurify.removed,{attribute:null,from:u})}if(u.removeAttribute(d),"is"===d)if(Me||Fe)try{cr(u)}catch(g){}else try{u.setAttribute(d,"")}catch(g){}},dr=function _initDocument2(d){let g=null,f=null;if(Ae)d="<remove></remove>"+d;else{const u=Ht(d,/^[\r\n\t ]+/);f=u&&u[0]}"application/xhtml+xml"===tr&&Ue===Ge&&(d='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+d+"</body></html>");const M=ft?ft.createHTML(d):d;if(Ue===Ge)try{g=(new st).parseFromString(M,tr)}catch(tt){}if(!g||!g.documentElement){g=yt.createDocument(Ue,"template",null);try{g.documentElement.innerHTML=Ve?mt:M}catch(tt){}}const P=g.body||g.documentElement;return d&&f&&P.insertBefore(u.createTextNode(f),P.childNodes[0]||null),Ue===Ge?kt.call(g,Be?"html":"body")[0]:Be?g.documentElement:P},ur=function _createNodeIterator2(d){return xt.call(d.ownerDocument||d,d,it.SHOW_ELEMENT|it.SHOW_COMMENT|it.SHOW_TEXT|it.SHOW_PROCESSING_INSTRUCTION|it.SHOW_CDATA_SECTION,null)},pr=function _isClobbered2(d){return d instanceof at&&("string"!=typeof d.nodeName||"string"!=typeof d.textContent||"function"!=typeof d.removeChild||!(d.attributes instanceof nt)||"function"!=typeof d.removeAttribute||"function"!=typeof d.setAttribute||"string"!=typeof d.namespaceURI||"function"!=typeof d.insertBefore||"function"!=typeof d.hasChildNodes)},gr=function _isNode2(d){return"function"==typeof tt&&d instanceof tt};function _executeHooks(d,u,g){Dt(d,(d=>{d.call(DOMPurify,u,g,ir)}))}const fr=function _sanitizeElements2(d){let u=null;if(_executeHooks(_t.beforeSanitizeElements,d,null),pr(d))return cr(d),!0;const g=rr(d.nodeName);if(_executeHooks(_t.uponSanitizeElement,d,{tagName:g,allowedTags:Pt}),d.hasChildNodes()&&!gr(d.firstElementChild)&&Xt(/<[/\w]/g,d.innerHTML)&&Xt(/<[/\w]/g,d.textContent))return cr(d),!0;if(d.nodeType===Ce)return cr(d),!0;if(ve&&d.nodeType===_e&&Xt(/<[/\w]/g,d.data))return cr(d),!0;if(!Pt[g]||de[g]){if(!de[g]&&yr(g)){if(he.tagNameCheck instanceof RegExp&&Xt(he.tagNameCheck,g))return!1;if(he.tagNameCheck instanceof Function&&he.tagNameCheck(g))return!1}if(Pe&&!Re[g]){const u=gt(d)||d.parentNode,g=pt(d)||d.childNodes;if(g&&u){for(let f=g.length-1;f>=0;--f){const M=ht(g[f],!0);M.__removalCount=(d.__removalCount||0)+1,u.insertBefore(M,ut(d))}}}return cr(d),!0}return d instanceof rt&&!function _checkValidNamespace2(d){let u=gt(d);u&&u.tagName||(u={namespaceURI:Ue,tagName:"template"});const g=Wt(d.tagName),f=Wt(u.tagName);return!!Xe[d.namespaceURI]&&(d.namespaceURI===Ye?u.namespaceURI===Ge?"svg"===g:u.namespaceURI===He?"svg"===g&&("annotation-xml"===f||Qe[f]):Boolean(sr[g]):d.namespaceURI===He?u.namespaceURI===Ge?"math"===g:u.namespaceURI===Ye?"math"===g&&Ke[f]:Boolean(lr[g]):d.namespaceURI===Ge?!(u.namespaceURI===Ye&&!Ke[f])&&!(u.namespaceURI===He&&!Qe[f])&&!lr[g]&&(Je[g]||!sr[g]):!("application/xhtml+xml"!==tr||!Xe[d.namespaceURI]))}(d)?(cr(d),!0):"noscript"!==g&&"noembed"!==g&&"noframes"!==g||!Xt(/<\/no(script|embed|frames)/i,d.innerHTML)?(Te&&d.nodeType===ke&&(u=d.textContent,Dt([wt,St,Tt],(d=>{u=Yt(u,d," ")})),d.textContent!==u&&(zt(DOMPurify.removed,{element:d.cloneNode()}),d.textContent=u)),_executeHooks(_t.afterSanitizeElements,d,null),!1):(cr(d),!0)},mr=function _isValidAttribute2(d,g,f){if($e&&("id"===g||"name"===g)&&(f in u||f in nr))return!1;if(fe&&!ue[g]&&Xt(vt,g));else if(ge&&Xt(Lt,g));else if(!le[g]||ue[g]){if(!(yr(d)&&(he.tagNameCheck instanceof RegExp&&Xt(he.tagNameCheck,d)||he.tagNameCheck instanceof Function&&he.tagNameCheck(d))&&(he.attributeNameCheck instanceof RegExp&&Xt(he.attributeNameCheck,g)||he.attributeNameCheck instanceof Function&&he.attributeNameCheck(g))||"is"===g&&he.allowCustomizedBuiltInElements&&(he.tagNameCheck instanceof RegExp&&Xt(he.tagNameCheck,f)||he.tagNameCheck instanceof Function&&he.tagNameCheck(f))))return!1}else if(We[g]);else if(Xt($t,Yt(f,Mt,"")));else if("src"!==g&&"xlink:href"!==g&&"href"!==g||"script"===d||0!==Gt(f,"data:")||!ze[d]){if(ye&&!Xt(At,Yt(f,Mt,"")));else if(f)return!1}else;return!0},yr=function _isBasicCustomElement2(d){return"annotation-xml"!==d&&Ht(d,Ft)},xr=function _sanitizeAttributes2(d){_executeHooks(_t.beforeSanitizeAttributes,d,null);const{attributes:u}=d;if(!u||pr(d))return;const g={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let f=u.length;for(;f--;){const P=u[f],{name:tt,namespaceURI:rt,value:it}=P,nt=rr(tt);let at="value"===tt?it:Ut(it);if(g.attrName=nt,g.attrValue=at,g.keepAttr=!0,g.forceKeepAttr=void 0,_executeHooks(_t.uponSanitizeAttribute,d,g),at=g.attrValue,!Oe||"id"!==nt&&"name"!==nt||(hr(tt,d),at="user-content-"+at),ve&&Xt(/((--!?|])>)|<\/(style|title)/i,at)){hr(tt,d);continue}if(g.forceKeepAttr)continue;if(hr(tt,d),!g.keepAttr)continue;if(!Se&&Xt(/\/>/i,at)){hr(tt,d);continue}Te&&Dt([wt,St,Tt],(d=>{at=Yt(at,d," ")}));const st=rr(d.nodeName);if(mr(st,nt,at)){if(ft&&"object"==typeof lt&&"function"==typeof lt.getAttributeType)if(rt);else switch(lt.getAttributeType(st,nt)){case"TrustedHTML":at=ft.createHTML(at);break;case"TrustedScriptURL":at=ft.createScriptURL(at)}try{rt?d.setAttributeNS(rt,tt,at):d.setAttribute(tt,at),pr(d)?cr(d):Nt(DOMPurify.removed)}catch(M){}}}_executeHooks(_t.afterSanitizeAttributes,d,null)},br=function _sanitizeShadowDOM2(d){let u=null;const g=ur(d);for(_executeHooks(_t.beforeSanitizeShadowDOM,d,null);u=g.nextNode();)_executeHooks(_t.uponSanitizeShadowNode,u,null),fr(u),xr(u),u.content instanceof M&&_sanitizeShadowDOM2(u.content);_executeHooks(_t.afterSanitizeShadowDOM,d,null)};return DOMPurify.sanitize=function(d){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=null,P=null,rt=null,it=null;if(Ve=!d,Ve&&(d="\x3c!--\x3e"),"string"!=typeof d&&!gr(d)){if("function"!=typeof d.toString)throw Zt("toString is not a function");if("string"!=typeof(d=d.toString()))throw Zt("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return d;if(Le||or(u),DOMPurify.removed=[],"string"==typeof d&&(Ie=!1),Ie){if(d.nodeName){const u=rr(d.nodeName);if(!Pt[u]||de[u])throw Zt("root node is forbidden and cannot be sanitized in-place")}}else if(d instanceof tt)f=dr("\x3c!----\x3e"),P=f.ownerDocument.importNode(d,!0),P.nodeType===be&&"BODY"===P.nodeName||"HTML"===P.nodeName?f=P:f.appendChild(P);else{if(!Me&&!Te&&!Be&&-1===d.indexOf("<"))return ft&&Ee?ft.createHTML(d):d;if(f=dr(d),!f)return Me?null:Ee?mt:""}f&&Ae&&cr(f.firstChild);const nt=ur(Ie?d:f);for(;rt=nt.nextNode();)fr(rt),xr(rt),rt.content instanceof M&&br(rt.content);if(Ie)return d;if(Me){if(Fe)for(it=bt.call(f.ownerDocument);f.firstChild;)it.appendChild(f.firstChild);else it=f;return(le.shadowroot||le.shadowrootmode)&&(it=Ct.call(g,it,!0)),it}let at=Be?f.outerHTML:f.innerHTML;return Be&&Pt["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&Xt(me,f.ownerDocument.doctype.name)&&(at="<!DOCTYPE "+f.ownerDocument.doctype.name+">\n"+at),Te&&Dt([wt,St,Tt],(d=>{at=Yt(at,d," ")})),ft&&Ee?ft.createHTML(at):at},DOMPurify.setConfig=function(){or(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Le=!0},DOMPurify.clearConfig=function(){ir=null,Le=!1},DOMPurify.isValidAttribute=function(d,u,g){ir||or({});const f=rr(d),M=rr(u);return mr(f,M,g)},DOMPurify.addHook=function(d,u){"function"==typeof u&&zt(_t[d],u)},DOMPurify.removeHook=function(d,u){if(void 0!==u){const g=Rt(_t[d],u);return-1===g?void 0:qt(_t[d],g,1)[0]}return Nt(_t[d])},DOMPurify.removeHooks=function(d){_t[d]=[]},DOMPurify.removeAllHooks=function(){_t={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}(),ve=Object.defineProperty,__name=(d,u)=>ve(d,"name",{value:u,configurable:!0}),__export=(d,u)=>{for(var g in u)ve(d,g,{get:u[g],enumerable:!0})},Be={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Le={trace:__name(((...d)=>{}),"trace"),debug:__name(((...d)=>{}),"debug"),info:__name(((...d)=>{}),"info"),warn:__name(((...d)=>{}),"warn"),error:__name(((...d)=>{}),"error"),fatal:__name(((...d)=>{}),"fatal")},Ae=__name((function(d="fatal"){let u=Be.fatal;"string"==typeof d?d.toLowerCase()in Be&&(u=Be[d]):"number"==typeof d&&(u=d),Le.trace=()=>{},Le.debug=()=>{},Le.info=()=>{},Le.warn=()=>{},Le.error=()=>{},Le.fatal=()=>{},u<=Be.fatal&&(Le.fatal=console.error?console.error.bind(console,Me("FATAL"),"color: orange"):console.log.bind(console,"[35m",Me("FATAL"))),u<=Be.error&&(Le.error=console.error?console.error.bind(console,Me("ERROR"),"color: orange"):console.log.bind(console,"[31m",Me("ERROR"))),u<=Be.warn&&(Le.warn=console.warn?console.warn.bind(console,Me("WARN"),"color: orange"):console.log.bind(console,"[33m",Me("WARN"))),u<=Be.info&&(Le.info=console.info?console.info.bind(console,Me("INFO"),"color: lightblue"):console.log.bind(console,"[34m",Me("INFO"))),u<=Be.debug&&(Le.debug=console.debug?console.debug.bind(console,Me("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",Me("DEBUG"))),u<=Be.trace&&(Le.trace=console.debug?console.debug.bind(console,Me("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",Me("TRACE")))}),"setLogLevel"),Me=__name((d=>`%c${ct().format("ss.SSS")} : ${d} : `),"format"),Fe=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,Ee=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,$e=/\s*%%.*\n/gm,Oe=(d=class extends Error{constructor(d){super(d),this.name="UnknownDiagramError"}},__name(d,"UnknownDiagramError"),d),Pe={},Ie=__name((function(d,u){d=d.replace(Fe,"").replace(Ee,"").replace($e,"\n");for(const[g,{detector:f}]of Object.entries(Pe)){if(f(d,u))return g}throw new Oe(`No diagram type detected matching given configuration for text: ${d}`)}),"detectType"),De=__name(((...d)=>{for(const{id:u,detector:g,loader:f}of d)Re(u,g,f)}),"registerLazyLoadedDiagrams"),Re=__name(((d,u,g)=>{Pe[d]&&Le.warn(`Detector with key ${d} already exists. Overwriting.`),Pe[d]={detector:u,loader:g},Le.debug(`Detector with key ${d} added${g?" with loader":""}`)}),"addDetector"),Ne=__name((d=>Pe[d].loader),"getDiagramLoader"),ze=__name(((d,u,{depth:g=2,clobber:f=!1}={})=>{const M={depth:g,clobber:f};return Array.isArray(u)&&!Array.isArray(d)?(u.forEach((u=>ze(d,u,M))),d):Array.isArray(u)&&Array.isArray(d)?(u.forEach((u=>{d.includes(u)||d.push(u)})),d):void 0===d||g<=0?null!=d&&"object"==typeof d&&"object"==typeof u?Object.assign(d,u):u:(void 0!==u&&"object"==typeof d&&"object"==typeof u&&Object.keys(u).forEach((M=>{"object"!=typeof u[M]||void 0!==d[M]&&"object"!=typeof d[M]?(f||"object"!=typeof d[M]&&"object"!=typeof u[M])&&(d[M]=u[M]):(void 0===d[M]&&(d[M]=Array.isArray(u[M])?[]:{}),d[M]=ze(d[M],u[M],{depth:g-1,clobber:f}))})),d)}),"assignWithDepth"),qe=ze,We="#ffffff",je="#f2f2f2",He=__name(((d,u)=>adjust6(d,u?{s:-40,l:10}:{s:-40,l:-10})),"mkBorder"),Ye=(__name(u=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust6(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust6(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||He(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||He(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||He(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||He(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert5(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert5(this.tertiaryColor),this.lineColor=this.lineColor||invert5(this.background),this.arrowheadColor=this.arrowheadColor||invert5(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert5(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust6(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust6(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust6(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust6(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust6(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust6(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust6(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust6(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust6(this.primaryColor,{h:330}),this.darkMode)for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScale"+u]=darken$1(this["cScale"+u],75);else for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScale"+u]=darken$1(this["cScale"+u],25);for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScaleInv"+u]=this["cScaleInv"+u]||invert5(this["cScale"+u]);for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this.darkMode?this["cScalePeer"+u]=this["cScalePeer"+u]||lighten$1(this["cScale"+u],10):this["cScalePeer"+u]=this["cScalePeer"+u]||darken$1(this["cScale"+u],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let u=0;u<this.THEME_COLOR_LIMIT;u++)this["cScaleLabel"+u]=this["cScaleLabel"+u]||this.scaleLabelColor;const d=this.darkMode?-4:-1;for(let u=0;u<5;u++)this["surface"+u]=this["surface"+u]||adjust6(this.mainBkg,{h:180,s:-15,l:d*(5+3*u)}),this["surfacePeer"+u]=this["surfacePeer"+u]||adjust6(this.mainBkg,{h:180,s:-15,l:d*(8+3*u)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust6(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust6(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust6(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust6(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust6(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust6(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust6(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust6(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust6(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust6(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust6(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust6(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust6(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust6(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust6(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust6(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust6(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust6(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust6(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust6(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust6(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust6(this.primaryColor,{h:-30}),this.git4=this.git4||adjust6(this.primaryColor,{h:-60}),this.git5=this.git5||adjust6(this.primaryColor,{h:-90}),this.git6=this.git6||adjust6(this.primaryColor,{h:60}),this.git7=this.git7||adjust6(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert5(this.git0),this.gitInv1=this.gitInv1||invert5(this.git1),this.gitInv2=this.gitInv2||invert5(this.git2),this.gitInv3=this.gitInv3||invert5(this.git3),this.gitInv4=this.gitInv4||invert5(this.git4),this.gitInv5=this.gitInv5||invert5(this.git5),this.gitInv6=this.gitInv6||invert5(this.git6),this.gitInv7=this.gitInv7||invert5(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||We,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||je}calculate(d){if("object"!=typeof d)return void this.updateColors();const u=Object.keys(d);u.forEach((u=>{this[u]=d[u]})),this.updateColors(),u.forEach((u=>{this[u]=d[u]}))}},"Theme"),u),Ge=__name((d=>{const u=new Ye;return u.calculate(d),u}),"getThemeVariables"),Ue=(__name(g=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust6(this.primaryColor,{h:-160}),this.primaryBorderColor=invert5(this.background),this.secondaryBorderColor=He(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=He(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert5(this.primaryColor),this.secondaryTextColor=invert5(this.secondaryColor),this.tertiaryTextColor=invert5(this.tertiaryColor),this.lineColor=invert5(this.background),this.textColor=invert5(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert5("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=rgba2(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken$1(this.sectionBkgColor,10),this.taskBorderColor=rgba2(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba2(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust6(this.primaryColor,{h:64}),this.fillType3=adjust6(this.secondaryColor,{h:64}),this.fillType4=adjust6(this.primaryColor,{h:-64}),this.fillType5=adjust6(this.secondaryColor,{h:-64}),this.fillType6=adjust6(this.primaryColor,{h:128}),this.fillType7=adjust6(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust6(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust6(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust6(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust6(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust6(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust6(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust6(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust6(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust6(this.primaryColor,{h:330});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||invert5(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScalePeer"+d]=this["cScalePeer"+d]||lighten$1(this["cScale"+d],10);for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||adjust6(this.mainBkg,{h:30,s:-30,l:-(4*d-10)}),this["surfacePeer"+d]=this["surfacePeer"+d]||adjust6(this.mainBkg,{h:30,s:-30,l:-(4*d-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust6(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust6(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust6(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust6(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust6(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust6(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust6(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust6(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust6(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust6(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust6(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert5(this.git0),this.gitInv1=this.gitInv1||invert5(this.git1),this.gitInv2=this.gitInv2||invert5(this.git2),this.gitInv3=this.gitInv3||invert5(this.git3),this.gitInv4=this.gitInv4||invert5(this.git4),this.gitInv5=this.gitInv5||invert5(this.git5),this.gitInv6=this.gitInv6||invert5(this.git6),this.gitInv7=this.gitInv7||invert5(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert5(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert5(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(d){if("object"!=typeof d)return void this.updateColors();const u=Object.keys(d);u.forEach((u=>{this[u]=d[u]})),this.updateColors(),u.forEach((u=>{this[u]=d[u]}))}},"Theme"),g),Ve=__name((d=>{const u=new Ue;return u.calculate(d),u}),"getThemeVariables"),Xe=(__name(f=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust6(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust6(this.primaryColor,{h:-160}),this.primaryBorderColor=He(this.primaryColor,this.darkMode),this.secondaryBorderColor=He(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=He(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert5(this.primaryColor),this.secondaryTextColor=invert5(this.secondaryColor),this.tertiaryTextColor=invert5(this.tertiaryColor),this.lineColor=invert5(this.background),this.textColor=invert5(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba2(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust6(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust6(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust6(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust6(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust6(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust6(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust6(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust6(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust6(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=darken$1(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||darken$1(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||adjust6(this["cScale"+d],{h:180});for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||adjust6(this.mainBkg,{h:30,l:-(5+5*d)}),this["surfacePeer"+d]=this["surfacePeer"+d]||adjust6(this.mainBkg,{h:30,l:-(7+5*d)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||invert5(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert5(this.labelTextColor);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust6(this.primaryColor,{h:64}),this.fillType3=adjust6(this.secondaryColor,{h:64}),this.fillType4=adjust6(this.primaryColor,{h:-64}),this.fillType5=adjust6(this.secondaryColor,{h:-64}),this.fillType6=adjust6(this.primaryColor,{h:128}),this.fillType7=adjust6(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust6(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust6(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust6(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust6(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust6(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust6(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust6(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust6(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust6(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust6(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust6(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust6(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust6(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust6(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust6(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust6(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust6(this.primaryColor,{h:-30}),this.git4=this.git4||adjust6(this.primaryColor,{h:-60}),this.git5=this.git5||adjust6(this.primaryColor,{h:-90}),this.git6=this.git6||adjust6(this.primaryColor,{h:60}),this.git7=this.git7||adjust6(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert5(this.git0),25),this.gitInv1=this.gitInv1||invert5(this.git1),this.gitInv2=this.gitInv2||invert5(this.git2),this.gitInv3=this.gitInv3||invert5(this.git3),this.gitInv4=this.gitInv4||invert5(this.git4),this.gitInv5=this.gitInv5||invert5(this.git5),this.gitInv6=this.gitInv6||invert5(this.git6),this.gitInv7=this.gitInv7||invert5(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert5(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert5(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||We,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||je}calculate(d){if("object"!=typeof d)return void this.updateColors();const u=Object.keys(d);u.forEach((u=>{this[u]=d[u]})),this.updateColors(),u.forEach((u=>{this[u]=d[u]}))}},"Theme"),f),Ze=__name((d=>{const u=new Xe;return u.calculate(d),u}),"getThemeVariables"),Qe=(__name(M=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=He(this.primaryColor,this.darkMode),this.secondaryBorderColor=He(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=He(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert5(this.primaryColor),this.secondaryTextColor=invert5(this.secondaryColor),this.tertiaryTextColor=invert5(this.primaryColor),this.lineColor=invert5(this.background),this.textColor=invert5(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust6(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust6(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust6(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust6(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust6(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust6(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust6(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust6(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust6(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScale"+d]=darken$1(this["cScale"+d],10),this["cScalePeer"+d]=this["cScalePeer"+d]||darken$1(this["cScale"+d],25);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||adjust6(this["cScale"+d],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||adjust6(this.mainBkg,{h:30,s:-30,l:-(5+5*d)}),this["surfacePeer"+d]=this["surfacePeer"+d]||adjust6(this.mainBkg,{h:30,s:-30,l:-(8+5*d)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust6(this.primaryColor,{h:64}),this.fillType3=adjust6(this.secondaryColor,{h:64}),this.fillType4=adjust6(this.primaryColor,{h:-64}),this.fillType5=adjust6(this.secondaryColor,{h:-64}),this.fillType6=adjust6(this.primaryColor,{h:128}),this.fillType7=adjust6(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust6(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust6(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust6(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust6(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust6(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust6(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust6(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust6(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust6(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust6(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust6(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust6(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust6(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust6(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust6(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust6(this.primaryColor,{h:-30}),this.git4=this.git4||adjust6(this.primaryColor,{h:-60}),this.git5=this.git5||adjust6(this.primaryColor,{h:-90}),this.git6=this.git6||adjust6(this.primaryColor,{h:60}),this.git7=this.git7||adjust6(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert5(this.git0),this.gitInv1=this.gitInv1||invert5(this.git1),this.gitInv2=this.gitInv2||invert5(this.git2),this.gitInv3=this.gitInv3||invert5(this.git3),this.gitInv4=this.gitInv4||invert5(this.git4),this.gitInv5=this.gitInv5||invert5(this.git5),this.gitInv6=this.gitInv6||invert5(this.git6),this.gitInv7=this.gitInv7||invert5(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert5(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert5(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||We,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||je}calculate(d){if("object"!=typeof d)return void this.updateColors();const u=Object.keys(d);u.forEach((u=>{this[u]=d[u]})),this.updateColors(),u.forEach((u=>{this[u]=d[u]}))}},"Theme"),M),Ke=__name((d=>{const u=new Qe;return u.calculate(d),u}),"getThemeVariables"),Je=(__name(P=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust6(this.primaryColor,{h:-160}),this.primaryBorderColor=He(this.primaryColor,this.darkMode),this.secondaryBorderColor=He(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=He(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert5(this.primaryColor),this.secondaryTextColor=invert5(this.secondaryColor),this.tertiaryTextColor=invert5(this.tertiaryColor),this.lineColor=invert5(this.background),this.textColor=invert5(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleInv"+d]=this["cScaleInv"+d]||invert5(this["cScale"+d]);for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this.darkMode?this["cScalePeer"+d]=this["cScalePeer"+d]||lighten$1(this["cScale"+d],10):this["cScalePeer"+d]=this["cScalePeer"+d]||darken$1(this["cScale"+d],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["cScaleLabel"+d]=this["cScaleLabel"+d]||this.scaleLabelColor;for(let d=0;d<5;d++)this["surface"+d]=this["surface"+d]||adjust6(this.mainBkg,{l:-(5+5*d)}),this["surfacePeer"+d]=this["surfacePeer"+d]||adjust6(this.mainBkg,{l:-(8+5*d)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust6(this.primaryColor,{h:64}),this.fillType3=adjust6(this.secondaryColor,{h:64}),this.fillType4=adjust6(this.primaryColor,{h:-64}),this.fillType5=adjust6(this.secondaryColor,{h:-64}),this.fillType6=adjust6(this.primaryColor,{h:128}),this.fillType7=adjust6(this.secondaryColor,{h:128});for(let d=0;d<this.THEME_COLOR_LIMIT;d++)this["pie"+d]=this["cScale"+d];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust6(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust6(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust6(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust6(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust6(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust6(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust6(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust6(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust6(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust6(this.primaryColor,{h:60}),this.git7=this.pie8||adjust6(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert5(this.git0),this.gitInv1=this.gitInv1||invert5(this.git1),this.gitInv2=this.gitInv2||invert5(this.git2),this.gitInv3=this.gitInv3||invert5(this.git3),this.gitInv4=this.gitInv4||invert5(this.git4),this.gitInv5=this.gitInv5||invert5(this.git5),this.gitInv6=this.gitInv6||invert5(this.git6),this.gitInv7=this.gitInv7||invert5(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||We,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||je}calculate(d){if("object"!=typeof d)return void this.updateColors();const u=Object.keys(d);u.forEach((u=>{this[u]=d[u]})),this.updateColors(),u.forEach((u=>{this[u]=d[u]}))}},"Theme"),P),tr={base:{getThemeVariables:Ge},dark:{getThemeVariables:Ve},default:{getThemeVariables:Ze},forest:{getThemeVariables:Ke},neutral:{getThemeVariables:__name((d=>{const u=new Je;return u.calculate(d),u}),"getThemeVariables")}},er={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},rr={...er,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:tr.default.getThemeVariables(),sequence:{...er.sequence,messageFont:__name((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:__name((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:__name((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...er.gantt,tickInterval:void 0,useWidth:void 0},c4:{...er.c4,useWidth:void 0,personFont:__name((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),external_personFont:__name((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:__name((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:__name((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:__name((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:__name((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:__name((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:__name((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:__name((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:__name((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:__name((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:__name((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:__name((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:__name((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:__name((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:__name((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:__name((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:__name((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:__name((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:__name((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:__name((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:__name((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...er.pie,useWidth:984},xyChart:{...er.xyChart,useWidth:void 0},requirement:{...er.requirement,useWidth:void 0},packet:{...er.packet}},ir=__name(((d,u="")=>Object.keys(d).reduce(((g,f)=>Array.isArray(d[f])?g:"object"==typeof d[f]&&null!==d[f]?[...g,u+f,...ir(d[f],"")]:[...g,u+f]),[])),"keyify"),nr=new Set(ir(rr,"")),ar=rr,or=__name((d=>{if(Le.debug("sanitizeDirective called with",d),"object"==typeof d&&null!=d)if(Array.isArray(d))d.forEach((d=>or(d)));else{for(const u of Object.keys(d)){if(Le.debug("Checking key",u),u.startsWith("__")||u.includes("proto")||u.includes("constr")||!nr.has(u)||null==d[u]){Le.debug("sanitize deleting key: ",u),delete d[u];continue}if("object"==typeof d[u]){Le.debug("sanitizing object",u),or(d[u]);continue}const g=["themeCSS","fontFamily","altFontFamily"];for(const f of g)u.includes(f)&&(Le.debug("sanitizing css option",u),d[u]=sr(d[u]))}if(d.themeVariables)for(const u of Object.keys(d.themeVariables)){const g=d.themeVariables[u];g?.match&&!g.match(/^[\d "#%(),.;A-Za-z]+$/)&&(d.themeVariables[u]="")}Le.debug("After sanitization",d)}}),"sanitizeDirective"),sr=__name((d=>{let u=0,g=0;for(const f of d){if(u<g)return"{ /* ERROR: Unbalanced CSS */ }";"{"===f?u++:"}"===f&&g++}return u!==g?"{ /* ERROR: Unbalanced CSS */ }":d}),"sanitizeCss"),lr=Object.freeze(ar),cr=qe({},lr),hr=[],dr=qe({},lr),ur=__name(((d,u)=>{let g=qe({},d),f={};for(const M of u)br(M),f=qe(f,M);if(g=qe(g,f),f.theme&&f.theme in tr){const d=qe({},Se),u=qe(d.themeVariables||{},f.themeVariables);g.theme&&g.theme in tr&&(g.themeVariables=tr[g.theme].getThemeVariables(u))}return Tr(dr=g),dr}),"updateCurrentConfig"),pr=__name((d=>(cr=qe({},lr),cr=qe(cr,d),d.theme&&tr[d.theme]&&(cr.themeVariables=tr[d.theme].getThemeVariables(d.themeVariables)),ur(cr,hr),cr)),"setSiteConfig"),gr=__name((d=>{Se=qe({},d)}),"saveConfigFromInitialize"),fr=__name((d=>(cr=qe(cr,d),ur(cr,hr),cr)),"updateSiteConfig"),mr=__name((()=>qe({},cr)),"getSiteConfig"),yr=__name((d=>(Tr(d),qe(dr,d),xr())),"setConfig"),xr=__name((()=>qe({},dr)),"getConfig"),br=__name((d=>{d&&(["secure",...cr.secure??[]].forEach((u=>{Object.hasOwn(d,u)&&(Le.debug(`Denied attempt to modify a secure key ${u}`,d[u]),delete d[u])})),Object.keys(d).forEach((u=>{u.startsWith("__")&&delete d[u]})),Object.keys(d).forEach((u=>{"string"==typeof d[u]&&(d[u].includes("<")||d[u].includes(">")||d[u].includes("url(data:"))&&delete d[u],"object"==typeof d[u]&&br(d[u])})))}),"sanitize"),kr=__name((d=>{or(d),d.fontFamily&&!d.themeVariables?.fontFamily&&(d.themeVariables={...d.themeVariables,fontFamily:d.fontFamily}),hr.push(d),ur(cr,hr)}),"addDirective"),Cr=__name(((d=cr)=>{ur(d,hr=[])}),"reset"),_r={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},wr={},Sr=__name((d=>{wr[d]||(Le.warn(_r[d]),wr[d]=!0)}),"issueWarning"),Tr=__name((d=>{d&&(d.lazyLoadedDiagrams||d.loadExternalDiagramsAtStartup)&&Sr("LAZY_LOAD_DEPRECATED")}),"checkConfig"),vr=/<br\s*\/?>/gi,Br=__name((d=>{if(!d)return[""];return Ir(d).replace(/\\n/g,"#br#").split("#br#")}),"getRows"),Lr=(()=>{let d=!1;return()=>{d||(setupDompurifyHooks(),d=!0)}})();function setupDompurifyHooks(){const d="data-temp-href-target";Te.addHook("beforeSanitizeAttributes",(u=>{u instanceof Element&&"A"===u.tagName&&u.hasAttribute("target")&&u.setAttribute(d,u.getAttribute("target")??"")})),Te.addHook("afterSanitizeAttributes",(u=>{u instanceof Element&&"A"===u.tagName&&u.hasAttribute(d)&&(u.setAttribute("target",u.getAttribute(d)??""),u.removeAttribute(d),"_blank"===u.getAttribute("target")&&u.setAttribute("rel","noopener"))}))}__name(setupDompurifyHooks,"setupDompurifyHooks");var Ar=__name((d=>{Lr();return Te.sanitize(d)}),"removeScript"),Mr=__name(((d,u)=>{if(!1!==u.flowchart?.htmlLabels){const g=u.securityLevel;"antiscript"===g||"strict"===g?d=Ar(d):"loose"!==g&&(d=(d=(d=Ir(d)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),d=Pr(d))}return d}),"sanitizeMore"),Fr=__name(((d,u)=>d?d=u.dompurifyConfig?Te.sanitize(Mr(d,u),u.dompurifyConfig).toString():Te.sanitize(Mr(d,u),{FORBID_TAGS:["style"]}).toString():d),"sanitizeText"),Er=__name(((d,u)=>"string"==typeof d?Fr(d,u):d.flat().map((d=>Fr(d,u)))),"sanitizeTextOrArray"),$r=__name((d=>vr.test(d)),"hasBreaks"),Or=__name((d=>d.split(vr)),"splitBreaks"),Pr=__name((d=>d.replace(/#br#/g,"<br/>")),"placeholderToBreak"),Ir=__name((d=>d.replace(vr,"#br#")),"breakToPlaceholder"),Dr=__name((d=>{let u="";return d&&(u=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,u=u.replaceAll(/\(/g,"\\("),u=u.replaceAll(/\)/g,"\\)")),u}),"getUrl"),Rr=__name((d=>!1!==d&&!["false","null","0"].includes(String(d).trim().toLowerCase())),"evaluate"),Nr=__name((function(...d){const u=d.filter((d=>!isNaN(d)));return Math.max(...u)}),"getMax"),zr=__name((function(...d){const u=d.filter((d=>!isNaN(d)));return Math.min(...u)}),"getMin"),qr=__name((function(d){const u=d.split(/(,)/),g=[];for(let f=0;f<u.length;f++){let d=u[f];if(","===d&&f>0&&f+1<u.length){const M=u[f-1],P=u[f+1];jr(M,P)&&(d=M+","+P,f++,g.pop())}g.push(Hr(d))}return g.join("")}),"parseGenericTypes"),Wr=__name(((d,u)=>Math.max(0,d.split(u).length-1)),"countOccurrence"),jr=__name(((d,u)=>{const g=Wr(d,"~"),f=Wr(u,"~");return 1===g&&1===f}),"shouldCombineSets"),Hr=__name((d=>{const u=Wr(d,"~");let g=!1;if(u<=1)return d;u%2!=0&&d.startsWith("~")&&(d=d.substring(1),g=!0);const f=[...d];let M=f.indexOf("~"),P=f.lastIndexOf("~");for(;-1!==M&&-1!==P&&M!==P;)f[M]="<",f[P]=">",M=f.indexOf("~"),P=f.lastIndexOf("~");return g&&f.unshift("~"),f.join("")}),"processSet"),Yr=__name((()=>void 0!==window.MathMLElement),"isMathMLSupported"),Gr=/\$\$(.*)\$\$/g,Ur=__name((d=>(d.match(Gr)?.length??0)>0),"hasKatex"),Vr=__name((async(d,u)=>{d=await Xr(d,u);const g=document.createElement("div");g.innerHTML=d,g.id="katex-temp",g.style.visibility="hidden",g.style.position="absolute",g.style.top="0";const f=document.querySelector("body");f?.insertAdjacentElement("beforeend",g);const M={width:g.clientWidth,height:g.clientHeight};return g.remove(),M}),"calculateMathMLDimensions"),Xr=__name((async(d,u)=>{if(!Ur(d))return d;if(!(Yr()||u.legacyMathML||u.forceLegacyMathML))return d.replace(Gr,"MathML is unsupported in this environment.");const{default:g}=await st((async()=>{const{default:d}=await import("./index.mlCxaiYE.js").then((d=>d.gQ));return{default:d}}),[]),f=u.forceLegacyMathML||!Yr()&&u.legacyMathML?"htmlAndMathml":"mathml";return d.split(vr).map((d=>Ur(d)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${d}</div>`:`<div>${d}</div>`)).join("").replace(Gr,((d,u)=>g.renderToString(u,{throwOnError:!0,displayMode:!0,output:f}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}),"renderKatex"),Zr={getRows:Br,sanitizeText:Fr,sanitizeTextOrArray:Er,hasBreaks:$r,splitBreaks:Or,lineBreakRegex:vr,removeScript:Ar,getUrl:Dr,evaluate:Rr,getMax:Nr,getMin:zr},Qr=__name((function(d,u){for(let g of u)d.attr(g[0],g[1])}),"d3Attrs"),Kr=__name((function(d,u,g){let f=new Map;return g?(f.set("width","100%"),f.set("style",`max-width: ${u}px;`)):(f.set("height",d),f.set("width",u)),f}),"calculateSvgSizeAttrs"),Jr=__name((function(d,u,g,f){const M=Kr(u,g,f);Qr(d,M)}),"configureSvgSize"),ti=__name((function(d,u,g,f){const M=u.node().getBBox(),P=M.width,tt=M.height;Le.info(`SVG bounds: ${P}x${tt}`,M);let rt=0,it=0;Le.info(`Graph bounds: ${rt}x${it}`,d),rt=P+2*g,it=tt+2*g,Le.info(`Calculated bounds: ${rt}x${it}`),Jr(u,it,rt,f);const nt=`${M.x-g} ${M.y-g} ${M.width+2*g} ${M.height+2*g}`;u.attr("viewBox",nt)}),"setupGraphViewbox"),ei={},ri=__name(((d,u,g)=>{let f="";return d in ei&&ei[d]?f=ei[d](g):Le.warn(`No theme found for ${d}`),` & {\n    font-family: ${g.fontFamily};\n    font-size: ${g.fontSize};\n    fill: ${g.textColor}\n  }\n\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${g.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${g.errorTextColor};\n    stroke: ${g.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${g.lineColor};\n    stroke: ${g.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${g.lineColor};\n  }\n\n  & svg {\n    font-family: ${g.fontFamily};\n    font-size: ${g.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${f}\n\n  ${u}\n`}),"getStyles"),ii=__name(((d,u)=>{void 0!==u&&(ei[d]=u)}),"addStylesForDiagram"),ni=ri,ai={};__export(ai,{clear:()=>hi,getAccDescription:()=>gi,getAccTitle:()=>ui,getDiagramTitle:()=>mi,setAccDescription:()=>pi,setAccTitle:()=>di,setDiagramTitle:()=>fi});var oi="",si="",li="",ci=__name((d=>Fr(d,xr())),"sanitizeText"),hi=__name((()=>{oi="",li="",si=""}),"clear"),di=__name((d=>{oi=ci(d).replace(/^\s+/g,"")}),"setAccTitle"),ui=__name((()=>oi),"getAccTitle"),pi=__name((d=>{li=ci(d).replace(/\n\s+/g,"\n")}),"setAccDescription"),gi=__name((()=>li),"getAccDescription"),fi=__name((d=>{si=ci(d)}),"setDiagramTitle"),mi=__name((()=>si),"getDiagramTitle"),yi=Le,xi=Ae,bi=xr,ki=yr,Ci=lr,_i=__name((d=>Fr(d,bi())),"sanitizeText"),wi=ti,Si=__name((()=>ai),"getCommonDb"),Ti={},vi=__name(((d,u,g)=>{Ti[d]&&yi.warn(`Diagram with id ${d} already registered. Overwriting.`),Ti[d]=u,g&&Re(d,g),ii(d,u.styles),u.injectUtils?.(yi,xi,bi,_i,wi,Si(),(()=>{}))}),"registerDiagram"),Bi=__name((d=>{if(d in Ti)return Ti[d];throw new Li(d)}),"getDiagram"),Li=(tt=class extends Error{constructor(d){super(`Diagram ${d} not found.`)}},__name(tt,"DiagramNotFoundError"),tt);function isNothing(d){return null==d}function isObject$1(d){return"object"==typeof d&&null!==d}function toArray(d){return Array.isArray(d)?d:isNothing(d)?[]:[d]}function extend$1(d,u){var g,f,M,P;if(u)for(g=0,f=(P=Object.keys(u)).length;g<f;g+=1)d[M=P[g]]=u[M];return d}function repeat(d,u){var g,f="";for(g=0;g<u;g+=1)f+=d;return f}function isNegativeZero(d){return 0===d&&Number.NEGATIVE_INFINITY===1/d}__name(isNothing,"isNothing"),__name(isObject$1,"isObject"),__name(toArray,"toArray"),__name(extend$1,"extend"),__name(repeat,"repeat"),__name(isNegativeZero,"isNegativeZero");var Ai={isNothing:isNothing,isObject:isObject$1,toArray:toArray,repeat:repeat,isNegativeZero:isNegativeZero,extend:extend$1};function formatError(d,u){var g="",f=d.reason||"(unknown reason)";return d.mark?(d.mark.name&&(g+='in "'+d.mark.name+'" '),g+="("+(d.mark.line+1)+":"+(d.mark.column+1)+")",!u&&d.mark.snippet&&(g+="\n\n"+d.mark.snippet),f+" "+g):f}function YAMLException$1(d,u){Error.call(this),this.name="YAMLException",this.reason=d,this.mark=u,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}__name(formatError,"formatError"),__name(YAMLException$1,"YAMLException$1"),YAMLException$1.prototype=Object.create(Error.prototype),YAMLException$1.prototype.constructor=YAMLException$1,YAMLException$1.prototype.toString=__name((function toString(d){return this.name+": "+formatError(this,d)}),"toString");var Mi=YAMLException$1;function getLine(d,u,g,f,M){var P="",tt="",rt=Math.floor(M/2)-1;return f-u>rt&&(u=f-rt+(P=" ... ").length),g-f>rt&&(g=f+rt-(tt=" ...").length),{str:P+d.slice(u,g).replace(/\t/g,"→")+tt,pos:f-u+P.length}}function padStart(d,u){return Ai.repeat(" ",u-d.length)+d}function makeSnippet(d,u){if(u=Object.create(u||null),!d.buffer)return null;u.maxLength||(u.maxLength=79),"number"!=typeof u.indent&&(u.indent=1),"number"!=typeof u.linesBefore&&(u.linesBefore=3),"number"!=typeof u.linesAfter&&(u.linesAfter=2);for(var g,f=/\r?\n|\r|\0/g,M=[0],P=[],tt=-1;g=f.exec(d.buffer);)P.push(g.index),M.push(g.index+g[0].length),d.position<=g.index&&tt<0&&(tt=M.length-2);tt<0&&(tt=M.length-1);var rt,it,nt="",at=Math.min(d.line+u.linesAfter,P.length).toString().length,st=u.maxLength-(u.indent+at+3);for(rt=1;rt<=u.linesBefore&&!(tt-rt<0);rt++)it=getLine(d.buffer,M[tt-rt],P[tt-rt],d.position-(M[tt]-M[tt-rt]),st),nt=Ai.repeat(" ",u.indent)+padStart((d.line-rt+1).toString(),at)+" | "+it.str+"\n"+nt;for(it=getLine(d.buffer,M[tt],P[tt],d.position,st),nt+=Ai.repeat(" ",u.indent)+padStart((d.line+1).toString(),at)+" | "+it.str+"\n",nt+=Ai.repeat("-",u.indent+at+3+it.pos)+"^\n",rt=1;rt<=u.linesAfter&&!(tt+rt>=P.length);rt++)it=getLine(d.buffer,M[tt+rt],P[tt+rt],d.position-(M[tt]-M[tt+rt]),st),nt+=Ai.repeat(" ",u.indent)+padStart((d.line+rt+1).toString(),at)+" | "+it.str+"\n";return nt.replace(/\n$/,"")}__name(getLine,"getLine"),__name(padStart,"padStart"),__name(makeSnippet,"makeSnippet");var Fi=makeSnippet,Ei=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$i=["scalar","sequence","mapping"];function compileStyleAliases(d){var u={};return null!==d&&Object.keys(d).forEach((function(g){d[g].forEach((function(d){u[String(d)]=g}))})),u}function Type$1(d,u){if(u=u||{},Object.keys(u).forEach((function(u){if(-1===Ei.indexOf(u))throw new Mi('Unknown option "'+u+'" is met in definition of "'+d+'" YAML type.')})),this.options=u,this.tag=d,this.kind=u.kind||null,this.resolve=u.resolve||function(){return!0},this.construct=u.construct||function(d){return d},this.instanceOf=u.instanceOf||null,this.predicate=u.predicate||null,this.represent=u.represent||null,this.representName=u.representName||null,this.defaultStyle=u.defaultStyle||null,this.multi=u.multi||!1,this.styleAliases=compileStyleAliases(u.styleAliases||null),-1===$i.indexOf(this.kind))throw new Mi('Unknown kind "'+this.kind+'" is specified for "'+d+'" YAML type.')}__name(compileStyleAliases,"compileStyleAliases"),__name(Type$1,"Type$1");var Oi=Type$1;function compileList(d,u){var g=[];return d[u].forEach((function(d){var u=g.length;g.forEach((function(g,f){g.tag===d.tag&&g.kind===d.kind&&g.multi===d.multi&&(u=f)})),g[u]=d})),g}function compileMap(){var d,u,g={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function collectType(d){d.multi?(g.multi[d.kind].push(d),g.multi.fallback.push(d)):g[d.kind][d.tag]=g.fallback[d.tag]=d}for(__name(collectType,"collectType"),d=0,u=arguments.length;d<u;d+=1)arguments[d].forEach(collectType);return g}function Schema$1(d){return this.extend(d)}__name(compileList,"compileList"),__name(compileMap,"compileMap"),__name(Schema$1,"Schema$1"),Schema$1.prototype.extend=__name((function extend2(d){var u=[],g=[];if(d instanceof Oi)g.push(d);else if(Array.isArray(d))g=g.concat(d);else{if(!d||!Array.isArray(d.implicit)&&!Array.isArray(d.explicit))throw new Mi("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");d.implicit&&(u=u.concat(d.implicit)),d.explicit&&(g=g.concat(d.explicit))}u.forEach((function(d){if(!(d instanceof Oi))throw new Mi("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(d.loadKind&&"scalar"!==d.loadKind)throw new Mi("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(d.multi)throw new Mi("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),g.forEach((function(d){if(!(d instanceof Oi))throw new Mi("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var f=Object.create(Schema$1.prototype);return f.implicit=(this.implicit||[]).concat(u),f.explicit=(this.explicit||[]).concat(g),f.compiledImplicit=compileList(f,"implicit"),f.compiledExplicit=compileList(f,"explicit"),f.compiledTypeMap=compileMap(f.compiledImplicit,f.compiledExplicit),f}),"extend");var Pi=new Schema$1({explicit:[new Oi("tag:yaml.org,2002:str",{kind:"scalar",construct:__name((function(d){return null!==d?d:""}),"construct")}),new Oi("tag:yaml.org,2002:seq",{kind:"sequence",construct:__name((function(d){return null!==d?d:[]}),"construct")}),new Oi("tag:yaml.org,2002:map",{kind:"mapping",construct:__name((function(d){return null!==d?d:{}}),"construct")})]});function resolveYamlNull(d){if(null===d)return!0;var u=d.length;return 1===u&&"~"===d||4===u&&("null"===d||"Null"===d||"NULL"===d)}function constructYamlNull(){return null}function isNull(d){return null===d}__name(resolveYamlNull,"resolveYamlNull"),__name(constructYamlNull,"constructYamlNull"),__name(isNull,"isNull");var Ii=new Oi("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:__name((function(){return"~"}),"canonical"),lowercase:__name((function(){return"null"}),"lowercase"),uppercase:__name((function(){return"NULL"}),"uppercase"),camelcase:__name((function(){return"Null"}),"camelcase"),empty:__name((function(){return""}),"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(d){if(null===d)return!1;var u=d.length;return 4===u&&("true"===d||"True"===d||"TRUE"===d)||5===u&&("false"===d||"False"===d||"FALSE"===d)}function constructYamlBoolean(d){return"true"===d||"True"===d||"TRUE"===d}function isBoolean(d){return"[object Boolean]"===Object.prototype.toString.call(d)}__name(resolveYamlBoolean,"resolveYamlBoolean"),__name(constructYamlBoolean,"constructYamlBoolean"),__name(isBoolean,"isBoolean");var Di=new Oi("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:__name((function(d){return d?"true":"false"}),"lowercase"),uppercase:__name((function(d){return d?"TRUE":"FALSE"}),"uppercase"),camelcase:__name((function(d){return d?"True":"False"}),"camelcase")},defaultStyle:"lowercase"});function isHexCode(d){return 48<=d&&d<=57||65<=d&&d<=70||97<=d&&d<=102}function isOctCode(d){return 48<=d&&d<=55}function isDecCode(d){return 48<=d&&d<=57}function resolveYamlInteger(d){if(null===d)return!1;var u,g=d.length,f=0,M=!1;if(!g)return!1;if("-"!==(u=d[f])&&"+"!==u||(u=d[++f]),"0"===u){if(f+1===g)return!0;if("b"===(u=d[++f])){for(f++;f<g;f++)if("_"!==(u=d[f])){if("0"!==u&&"1"!==u)return!1;M=!0}return M&&"_"!==u}if("x"===u){for(f++;f<g;f++)if("_"!==(u=d[f])){if(!isHexCode(d.charCodeAt(f)))return!1;M=!0}return M&&"_"!==u}if("o"===u){for(f++;f<g;f++)if("_"!==(u=d[f])){if(!isOctCode(d.charCodeAt(f)))return!1;M=!0}return M&&"_"!==u}}if("_"===u)return!1;for(;f<g;f++)if("_"!==(u=d[f])){if(!isDecCode(d.charCodeAt(f)))return!1;M=!0}return!(!M||"_"===u)}function constructYamlInteger(d){var u,g=d,f=1;if(-1!==g.indexOf("_")&&(g=g.replace(/_/g,"")),"-"!==(u=g[0])&&"+"!==u||("-"===u&&(f=-1),u=(g=g.slice(1))[0]),"0"===g)return 0;if("0"===u){if("b"===g[1])return f*parseInt(g.slice(2),2);if("x"===g[1])return f*parseInt(g.slice(2),16);if("o"===g[1])return f*parseInt(g.slice(2),8)}return f*parseInt(g,10)}function isInteger(d){return"[object Number]"===Object.prototype.toString.call(d)&&d%1==0&&!Ai.isNegativeZero(d)}__name(isHexCode,"isHexCode"),__name(isOctCode,"isOctCode"),__name(isDecCode,"isDecCode"),__name(resolveYamlInteger,"resolveYamlInteger"),__name(constructYamlInteger,"constructYamlInteger"),__name(isInteger,"isInteger");var Ri=new Oi("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:__name((function(d){return d>=0?"0b"+d.toString(2):"-0b"+d.toString(2).slice(1)}),"binary"),octal:__name((function(d){return d>=0?"0o"+d.toString(8):"-0o"+d.toString(8).slice(1)}),"octal"),decimal:__name((function(d){return d.toString(10)}),"decimal"),hexadecimal:__name((function(d){return d>=0?"0x"+d.toString(16).toUpperCase():"-0x"+d.toString(16).toUpperCase().slice(1)}),"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Ni=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(d){return null!==d&&!(!Ni.test(d)||"_"===d[d.length-1])}function constructYamlFloat(d){var u,g;return g="-"===(u=d.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(u[0])>=0&&(u=u.slice(1)),".inf"===u?1===g?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===u?NaN:g*parseFloat(u,10)}__name(resolveYamlFloat,"resolveYamlFloat"),__name(constructYamlFloat,"constructYamlFloat");var zi=/^[-+]?[0-9]+e/;function representYamlFloat(d,u){var g;if(isNaN(d))switch(u){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===d)switch(u){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===d)switch(u){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ai.isNegativeZero(d))return"-0.0";return g=d.toString(10),zi.test(g)?g.replace("e",".e"):g}function isFloat(d){return"[object Number]"===Object.prototype.toString.call(d)&&(d%1!=0||Ai.isNegativeZero(d))}__name(representYamlFloat,"representYamlFloat"),__name(isFloat,"isFloat");var qi=new Oi("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),Wi=Pi.extend({implicit:[Ii,Di,Ri,qi]}),ji=Wi,Hi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Yi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(d){return null!==d&&(null!==Hi.exec(d)||null!==Yi.exec(d))}function constructYamlTimestamp(d){var u,g,f,M,P,tt,rt,it,nt=0,at=null;if(null===(u=Hi.exec(d))&&(u=Yi.exec(d)),null===u)throw new Error("Date resolve error");if(g=+u[1],f=+u[2]-1,M=+u[3],!u[4])return new Date(Date.UTC(g,f,M));if(P=+u[4],tt=+u[5],rt=+u[6],u[7]){for(nt=u[7].slice(0,3);nt.length<3;)nt+="0";nt=+nt}return u[9]&&(at=6e4*(60*+u[10]+ +(u[11]||0)),"-"===u[9]&&(at=-at)),it=new Date(Date.UTC(g,f,M,P,tt,rt,nt)),at&&it.setTime(it.getTime()-at),it}function representYamlTimestamp(d){return d.toISOString()}__name(resolveYamlTimestamp,"resolveYamlTimestamp"),__name(constructYamlTimestamp,"constructYamlTimestamp"),__name(representYamlTimestamp,"representYamlTimestamp");var Gi=new Oi("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(d){return"<<"===d||null===d}__name(resolveYamlMerge,"resolveYamlMerge");var Ui=new Oi("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(d){if(null===d)return!1;var u,g,f=0,M=d.length,P=Vi;for(g=0;g<M;g++)if(!((u=P.indexOf(d.charAt(g)))>64)){if(u<0)return!1;f+=6}return f%8==0}function constructYamlBinary(d){var u,g,f=d.replace(/[\r\n=]/g,""),M=f.length,P=Vi,tt=0,rt=[];for(u=0;u<M;u++)u%4==0&&u&&(rt.push(tt>>16&255),rt.push(tt>>8&255),rt.push(255&tt)),tt=tt<<6|P.indexOf(f.charAt(u));return 0===(g=M%4*6)?(rt.push(tt>>16&255),rt.push(tt>>8&255),rt.push(255&tt)):18===g?(rt.push(tt>>10&255),rt.push(tt>>2&255)):12===g&&rt.push(tt>>4&255),new Uint8Array(rt)}function representYamlBinary(d){var u,g,f="",M=0,P=d.length,tt=Vi;for(u=0;u<P;u++)u%3==0&&u&&(f+=tt[M>>18&63],f+=tt[M>>12&63],f+=tt[M>>6&63],f+=tt[63&M]),M=(M<<8)+d[u];return 0===(g=P%3)?(f+=tt[M>>18&63],f+=tt[M>>12&63],f+=tt[M>>6&63],f+=tt[63&M]):2===g?(f+=tt[M>>10&63],f+=tt[M>>4&63],f+=tt[M<<2&63],f+=tt[64]):1===g&&(f+=tt[M>>2&63],f+=tt[M<<4&63],f+=tt[64],f+=tt[64]),f}function isBinary(d){return"[object Uint8Array]"===Object.prototype.toString.call(d)}__name(resolveYamlBinary,"resolveYamlBinary"),__name(constructYamlBinary,"constructYamlBinary"),__name(representYamlBinary,"representYamlBinary"),__name(isBinary,"isBinary");var Xi=new Oi("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),Zi=Object.prototype.hasOwnProperty,Qi=Object.prototype.toString;function resolveYamlOmap(d){if(null===d)return!0;var u,g,f,M,P,tt=[],rt=d;for(u=0,g=rt.length;u<g;u+=1){if(f=rt[u],P=!1,"[object Object]"!==Qi.call(f))return!1;for(M in f)if(Zi.call(f,M)){if(P)return!1;P=!0}if(!P)return!1;if(-1!==tt.indexOf(M))return!1;tt.push(M)}return!0}function constructYamlOmap(d){return null!==d?d:[]}__name(resolveYamlOmap,"resolveYamlOmap"),__name(constructYamlOmap,"constructYamlOmap");var Ki=new Oi("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),Ji=Object.prototype.toString;function resolveYamlPairs(d){if(null===d)return!0;var u,g,f,M,P,tt=d;for(P=new Array(tt.length),u=0,g=tt.length;u<g;u+=1){if(f=tt[u],"[object Object]"!==Ji.call(f))return!1;if(1!==(M=Object.keys(f)).length)return!1;P[u]=[M[0],f[M[0]]]}return!0}function constructYamlPairs(d){if(null===d)return[];var u,g,f,M,P,tt=d;for(P=new Array(tt.length),u=0,g=tt.length;u<g;u+=1)f=tt[u],M=Object.keys(f),P[u]=[M[0],f[M[0]]];return P}__name(resolveYamlPairs,"resolveYamlPairs"),__name(constructYamlPairs,"constructYamlPairs");var tn=new Oi("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),en=Object.prototype.hasOwnProperty;function resolveYamlSet(d){if(null===d)return!0;var u,g=d;for(u in g)if(en.call(g,u)&&null!==g[u])return!1;return!0}function constructYamlSet(d){return null!==d?d:{}}__name(resolveYamlSet,"resolveYamlSet"),__name(constructYamlSet,"constructYamlSet");var rn=new Oi("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),nn=ji.extend({implicit:[Gi,Ui],explicit:[Xi,Ki,tn,rn]}),an=Object.prototype.hasOwnProperty,on=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,sn=/[\x85\u2028\u2029]/,ln=/[,\[\]\{\}]/,cn=/^(?:!|!!|![a-z\-]+!)$/i,hn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(d){return Object.prototype.toString.call(d)}function is_EOL(d){return 10===d||13===d}function is_WHITE_SPACE(d){return 9===d||32===d}function is_WS_OR_EOL(d){return 9===d||32===d||10===d||13===d}function is_FLOW_INDICATOR(d){return 44===d||91===d||93===d||123===d||125===d}function fromHexCode(d){var u;return 48<=d&&d<=57?d-48:97<=(u=32|d)&&u<=102?u-97+10:-1}function escapedHexLen(d){return 120===d?2:117===d?4:85===d?8:0}function fromDecimalCode(d){return 48<=d&&d<=57?d-48:-1}function simpleEscapeSequence(d){return 48===d?"\0":97===d?"":98===d?"\b":116===d||9===d?"\t":110===d?"\n":118===d?"\v":102===d?"\f":114===d?"\r":101===d?"":32===d?" ":34===d?'"':47===d?"/":92===d?"\\":78===d?"":95===d?" ":76===d?"\u2028":80===d?"\u2029":""}function charFromCodepoint(d){return d<=65535?String.fromCharCode(d):String.fromCharCode(55296+(d-65536>>10),56320+(d-65536&1023))}__name(_class,"_class"),__name(is_EOL,"is_EOL"),__name(is_WHITE_SPACE,"is_WHITE_SPACE"),__name(is_WS_OR_EOL,"is_WS_OR_EOL"),__name(is_FLOW_INDICATOR,"is_FLOW_INDICATOR"),__name(fromHexCode,"fromHexCode"),__name(escapedHexLen,"escapedHexLen"),__name(fromDecimalCode,"fromDecimalCode"),__name(simpleEscapeSequence,"simpleEscapeSequence"),__name(charFromCodepoint,"charFromCodepoint");var dn,un=new Array(256),pn=new Array(256);for(dn=0;dn<256;dn++)un[dn]=simpleEscapeSequence(dn)?1:0,pn[dn]=simpleEscapeSequence(dn);function State$1(d,u){this.input=d,this.filename=u.filename||null,this.schema=u.schema||nn,this.onWarning=u.onWarning||null,this.legacy=u.legacy||!1,this.json=u.json||!1,this.listener=u.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=d.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(d,u){var g={name:d.filename,buffer:d.input.slice(0,-1),position:d.position,line:d.line,column:d.position-d.lineStart};return g.snippet=Fi(g),new Mi(u,g)}function throwError(d,u){throw generateError(d,u)}function throwWarning(d,u){d.onWarning&&d.onWarning.call(null,generateError(d,u))}__name(State$1,"State$1"),__name(generateError,"generateError"),__name(throwError,"throwError"),__name(throwWarning,"throwWarning");var gn={YAML:__name((function handleYamlDirective(d,u,g){var f,M,P;null!==d.version&&throwError(d,"duplication of %YAML directive"),1!==g.length&&throwError(d,"YAML directive accepts exactly one argument"),null===(f=/^([0-9]+)\.([0-9]+)$/.exec(g[0]))&&throwError(d,"ill-formed argument of the YAML directive"),M=parseInt(f[1],10),P=parseInt(f[2],10),1!==M&&throwError(d,"unacceptable YAML version of the document"),d.version=g[0],d.checkLineBreaks=P<2,1!==P&&2!==P&&throwWarning(d,"unsupported YAML version of the document")}),"handleYamlDirective"),TAG:__name((function handleTagDirective(d,u,g){var f,M;2!==g.length&&throwError(d,"TAG directive accepts exactly two arguments"),f=g[0],M=g[1],cn.test(f)||throwError(d,"ill-formed tag handle (first argument) of the TAG directive"),an.call(d.tagMap,f)&&throwError(d,'there is a previously declared suffix for "'+f+'" tag handle'),hn.test(M)||throwError(d,"ill-formed tag prefix (second argument) of the TAG directive");try{M=decodeURIComponent(M)}catch(P){throwError(d,"tag prefix is malformed: "+M)}d.tagMap[f]=M}),"handleTagDirective")};function captureSegment(d,u,g,f){var M,P,tt,rt;if(u<g){if(rt=d.input.slice(u,g),f)for(M=0,P=rt.length;M<P;M+=1)9===(tt=rt.charCodeAt(M))||32<=tt&&tt<=1114111||throwError(d,"expected valid JSON character");else on.test(rt)&&throwError(d,"the stream contains non-printable characters");d.result+=rt}}function mergeMappings(d,u,g,f){var M,P,tt,rt;for(Ai.isObject(g)||throwError(d,"cannot merge mappings; the provided source object is unacceptable"),tt=0,rt=(M=Object.keys(g)).length;tt<rt;tt+=1)P=M[tt],an.call(u,P)||(u[P]=g[P],f[P]=!0)}function storeMappingPair(d,u,g,f,M,P,tt,rt,it){var nt,at;if(Array.isArray(M))for(nt=0,at=(M=Array.prototype.slice.call(M)).length;nt<at;nt+=1)Array.isArray(M[nt])&&throwError(d,"nested arrays are not supported inside keys"),"object"==typeof M&&"[object Object]"===_class(M[nt])&&(M[nt]="[object Object]");if("object"==typeof M&&"[object Object]"===_class(M)&&(M="[object Object]"),M=String(M),null===u&&(u={}),"tag:yaml.org,2002:merge"===f)if(Array.isArray(P))for(nt=0,at=P.length;nt<at;nt+=1)mergeMappings(d,u,P[nt],g);else mergeMappings(d,u,P,g);else d.json||an.call(g,M)||!an.call(u,M)||(d.line=tt||d.line,d.lineStart=rt||d.lineStart,d.position=it||d.position,throwError(d,"duplicated mapping key")),"__proto__"===M?Object.defineProperty(u,M,{configurable:!0,enumerable:!0,writable:!0,value:P}):u[M]=P,delete g[M];return u}function readLineBreak(d){var u;10===(u=d.input.charCodeAt(d.position))?d.position++:13===u?(d.position++,10===d.input.charCodeAt(d.position)&&d.position++):throwError(d,"a line break is expected"),d.line+=1,d.lineStart=d.position,d.firstTabInLine=-1}function skipSeparationSpace(d,u,g){for(var f=0,M=d.input.charCodeAt(d.position);0!==M;){for(;is_WHITE_SPACE(M);)9===M&&-1===d.firstTabInLine&&(d.firstTabInLine=d.position),M=d.input.charCodeAt(++d.position);if(u&&35===M)do{M=d.input.charCodeAt(++d.position)}while(10!==M&&13!==M&&0!==M);if(!is_EOL(M))break;for(readLineBreak(d),M=d.input.charCodeAt(d.position),f++,d.lineIndent=0;32===M;)d.lineIndent++,M=d.input.charCodeAt(++d.position)}return-1!==g&&0!==f&&d.lineIndent<g&&throwWarning(d,"deficient indentation"),f}function testDocumentSeparator(d){var u,g=d.position;return!(45!==(u=d.input.charCodeAt(g))&&46!==u||u!==d.input.charCodeAt(g+1)||u!==d.input.charCodeAt(g+2)||(g+=3,0!==(u=d.input.charCodeAt(g))&&!is_WS_OR_EOL(u)))}function writeFoldedLines(d,u){1===u?d.result+=" ":u>1&&(d.result+=Ai.repeat("\n",u-1))}function readPlainScalar(d,u,g){var f,M,P,tt,rt,it,nt,at,st=d.kind,lt=d.result;if(is_WS_OR_EOL(at=d.input.charCodeAt(d.position))||is_FLOW_INDICATOR(at)||35===at||38===at||42===at||33===at||124===at||62===at||39===at||34===at||37===at||64===at||96===at)return!1;if((63===at||45===at)&&(is_WS_OR_EOL(f=d.input.charCodeAt(d.position+1))||g&&is_FLOW_INDICATOR(f)))return!1;for(d.kind="scalar",d.result="",M=P=d.position,tt=!1;0!==at;){if(58===at){if(is_WS_OR_EOL(f=d.input.charCodeAt(d.position+1))||g&&is_FLOW_INDICATOR(f))break}else if(35===at){if(is_WS_OR_EOL(d.input.charCodeAt(d.position-1)))break}else{if(d.position===d.lineStart&&testDocumentSeparator(d)||g&&is_FLOW_INDICATOR(at))break;if(is_EOL(at)){if(rt=d.line,it=d.lineStart,nt=d.lineIndent,skipSeparationSpace(d,!1,-1),d.lineIndent>=u){tt=!0,at=d.input.charCodeAt(d.position);continue}d.position=P,d.line=rt,d.lineStart=it,d.lineIndent=nt;break}}tt&&(captureSegment(d,M,P,!1),writeFoldedLines(d,d.line-rt),M=P=d.position,tt=!1),is_WHITE_SPACE(at)||(P=d.position+1),at=d.input.charCodeAt(++d.position)}return captureSegment(d,M,P,!1),!!d.result||(d.kind=st,d.result=lt,!1)}function readSingleQuotedScalar(d,u){var g,f,M;if(39!==(g=d.input.charCodeAt(d.position)))return!1;for(d.kind="scalar",d.result="",d.position++,f=M=d.position;0!==(g=d.input.charCodeAt(d.position));)if(39===g){if(captureSegment(d,f,d.position,!0),39!==(g=d.input.charCodeAt(++d.position)))return!0;f=d.position,d.position++,M=d.position}else is_EOL(g)?(captureSegment(d,f,M,!0),writeFoldedLines(d,skipSeparationSpace(d,!1,u)),f=M=d.position):d.position===d.lineStart&&testDocumentSeparator(d)?throwError(d,"unexpected end of the document within a single quoted scalar"):(d.position++,M=d.position);throwError(d,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(d,u){var g,f,M,P,tt,rt;if(34!==(rt=d.input.charCodeAt(d.position)))return!1;for(d.kind="scalar",d.result="",d.position++,g=f=d.position;0!==(rt=d.input.charCodeAt(d.position));){if(34===rt)return captureSegment(d,g,d.position,!0),d.position++,!0;if(92===rt){if(captureSegment(d,g,d.position,!0),is_EOL(rt=d.input.charCodeAt(++d.position)))skipSeparationSpace(d,!1,u);else if(rt<256&&un[rt])d.result+=pn[rt],d.position++;else if((tt=escapedHexLen(rt))>0){for(M=tt,P=0;M>0;M--)(tt=fromHexCode(rt=d.input.charCodeAt(++d.position)))>=0?P=(P<<4)+tt:throwError(d,"expected hexadecimal character");d.result+=charFromCodepoint(P),d.position++}else throwError(d,"unknown escape sequence");g=f=d.position}else is_EOL(rt)?(captureSegment(d,g,f,!0),writeFoldedLines(d,skipSeparationSpace(d,!1,u)),g=f=d.position):d.position===d.lineStart&&testDocumentSeparator(d)?throwError(d,"unexpected end of the document within a double quoted scalar"):(d.position++,f=d.position)}throwError(d,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(d,u){var g,f,M,P,tt,rt,it,nt,at,st,lt,ct,ht=!0,dt=d.tag,ut=d.anchor,pt=Object.create(null);if(91===(ct=d.input.charCodeAt(d.position)))tt=93,nt=!1,P=[];else{if(123!==ct)return!1;tt=125,nt=!0,P={}}for(null!==d.anchor&&(d.anchorMap[d.anchor]=P),ct=d.input.charCodeAt(++d.position);0!==ct;){if(skipSeparationSpace(d,!0,u),(ct=d.input.charCodeAt(d.position))===tt)return d.position++,d.tag=dt,d.anchor=ut,d.kind=nt?"mapping":"sequence",d.result=P,!0;ht?44===ct&&throwError(d,"expected the node content, but found ','"):throwError(d,"missed comma between flow collection entries"),lt=null,rt=it=!1,63===ct&&is_WS_OR_EOL(d.input.charCodeAt(d.position+1))&&(rt=it=!0,d.position++,skipSeparationSpace(d,!0,u)),g=d.line,f=d.lineStart,M=d.position,composeNode(d,u,1,!1,!0),st=d.tag,at=d.result,skipSeparationSpace(d,!0,u),ct=d.input.charCodeAt(d.position),!it&&d.line!==g||58!==ct||(rt=!0,ct=d.input.charCodeAt(++d.position),skipSeparationSpace(d,!0,u),composeNode(d,u,1,!1,!0),lt=d.result),nt?storeMappingPair(d,P,pt,st,at,lt,g,f,M):rt?P.push(storeMappingPair(d,null,pt,st,at,lt,g,f,M)):P.push(at),skipSeparationSpace(d,!0,u),44===(ct=d.input.charCodeAt(d.position))?(ht=!0,ct=d.input.charCodeAt(++d.position)):ht=!1}throwError(d,"unexpected end of the stream within a flow collection")}function readBlockScalar(d,u){var g,f,M,P,tt=1,rt=!1,it=!1,nt=u,at=0,st=!1;if(124===(P=d.input.charCodeAt(d.position)))f=!1;else{if(62!==P)return!1;f=!0}for(d.kind="scalar",d.result="";0!==P;)if(43===(P=d.input.charCodeAt(++d.position))||45===P)1===tt?tt=43===P?3:2:throwError(d,"repeat of a chomping mode identifier");else{if(!((M=fromDecimalCode(P))>=0))break;0===M?throwError(d,"bad explicit indentation width of a block scalar; it cannot be less than one"):it?throwError(d,"repeat of an indentation width identifier"):(nt=u+M-1,it=!0)}if(is_WHITE_SPACE(P)){do{P=d.input.charCodeAt(++d.position)}while(is_WHITE_SPACE(P));if(35===P)do{P=d.input.charCodeAt(++d.position)}while(!is_EOL(P)&&0!==P)}for(;0!==P;){for(readLineBreak(d),d.lineIndent=0,P=d.input.charCodeAt(d.position);(!it||d.lineIndent<nt)&&32===P;)d.lineIndent++,P=d.input.charCodeAt(++d.position);if(!it&&d.lineIndent>nt&&(nt=d.lineIndent),is_EOL(P))at++;else{if(d.lineIndent<nt){3===tt?d.result+=Ai.repeat("\n",rt?1+at:at):1===tt&&rt&&(d.result+="\n");break}for(f?is_WHITE_SPACE(P)?(st=!0,d.result+=Ai.repeat("\n",rt?1+at:at)):st?(st=!1,d.result+=Ai.repeat("\n",at+1)):0===at?rt&&(d.result+=" "):d.result+=Ai.repeat("\n",at):d.result+=Ai.repeat("\n",rt?1+at:at),rt=!0,it=!0,at=0,g=d.position;!is_EOL(P)&&0!==P;)P=d.input.charCodeAt(++d.position);captureSegment(d,g,d.position,!1)}}return!0}function readBlockSequence(d,u){var g,f,M=d.tag,P=d.anchor,tt=[],rt=!1;if(-1!==d.firstTabInLine)return!1;for(null!==d.anchor&&(d.anchorMap[d.anchor]=tt),f=d.input.charCodeAt(d.position);0!==f&&(-1!==d.firstTabInLine&&(d.position=d.firstTabInLine,throwError(d,"tab characters must not be used in indentation")),45===f)&&is_WS_OR_EOL(d.input.charCodeAt(d.position+1));)if(rt=!0,d.position++,skipSeparationSpace(d,!0,-1)&&d.lineIndent<=u)tt.push(null),f=d.input.charCodeAt(d.position);else if(g=d.line,composeNode(d,u,3,!1,!0),tt.push(d.result),skipSeparationSpace(d,!0,-1),f=d.input.charCodeAt(d.position),(d.line===g||d.lineIndent>u)&&0!==f)throwError(d,"bad indentation of a sequence entry");else if(d.lineIndent<u)break;return!!rt&&(d.tag=M,d.anchor=P,d.kind="sequence",d.result=tt,!0)}function readBlockMapping(d,u,g){var f,M,P,tt,rt,it,nt,at=d.tag,st=d.anchor,lt={},ct=Object.create(null),ht=null,dt=null,ut=null,pt=!1,gt=!1;if(-1!==d.firstTabInLine)return!1;for(null!==d.anchor&&(d.anchorMap[d.anchor]=lt),nt=d.input.charCodeAt(d.position);0!==nt;){if(pt||-1===d.firstTabInLine||(d.position=d.firstTabInLine,throwError(d,"tab characters must not be used in indentation")),f=d.input.charCodeAt(d.position+1),P=d.line,63!==nt&&58!==nt||!is_WS_OR_EOL(f)){if(tt=d.line,rt=d.lineStart,it=d.position,!composeNode(d,g,2,!1,!0))break;if(d.line===P){for(nt=d.input.charCodeAt(d.position);is_WHITE_SPACE(nt);)nt=d.input.charCodeAt(++d.position);if(58===nt)is_WS_OR_EOL(nt=d.input.charCodeAt(++d.position))||throwError(d,"a whitespace character is expected after the key-value separator within a block mapping"),pt&&(storeMappingPair(d,lt,ct,ht,dt,null,tt,rt,it),ht=dt=ut=null),gt=!0,pt=!1,M=!1,ht=d.tag,dt=d.result;else{if(!gt)return d.tag=at,d.anchor=st,!0;throwError(d,"can not read an implicit mapping pair; a colon is missed")}}else{if(!gt)return d.tag=at,d.anchor=st,!0;throwError(d,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===nt?(pt&&(storeMappingPair(d,lt,ct,ht,dt,null,tt,rt,it),ht=dt=ut=null),gt=!0,pt=!0,M=!0):pt?(pt=!1,M=!0):throwError(d,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),d.position+=1,nt=f;if((d.line===P||d.lineIndent>u)&&(pt&&(tt=d.line,rt=d.lineStart,it=d.position),composeNode(d,u,4,!0,M)&&(pt?dt=d.result:ut=d.result),pt||(storeMappingPair(d,lt,ct,ht,dt,ut,tt,rt,it),ht=dt=ut=null),skipSeparationSpace(d,!0,-1),nt=d.input.charCodeAt(d.position)),(d.line===P||d.lineIndent>u)&&0!==nt)throwError(d,"bad indentation of a mapping entry");else if(d.lineIndent<u)break}return pt&&storeMappingPair(d,lt,ct,ht,dt,null,tt,rt,it),gt&&(d.tag=at,d.anchor=st,d.kind="mapping",d.result=lt),gt}function readTagProperty(d){var u,g,f,M,P=!1,tt=!1;if(33!==(M=d.input.charCodeAt(d.position)))return!1;if(null!==d.tag&&throwError(d,"duplication of a tag property"),60===(M=d.input.charCodeAt(++d.position))?(P=!0,M=d.input.charCodeAt(++d.position)):33===M?(tt=!0,g="!!",M=d.input.charCodeAt(++d.position)):g="!",u=d.position,P){do{M=d.input.charCodeAt(++d.position)}while(0!==M&&62!==M);d.position<d.length?(f=d.input.slice(u,d.position),M=d.input.charCodeAt(++d.position)):throwError(d,"unexpected end of the stream within a verbatim tag")}else{for(;0!==M&&!is_WS_OR_EOL(M);)33===M&&(tt?throwError(d,"tag suffix cannot contain exclamation marks"):(g=d.input.slice(u-1,d.position+1),cn.test(g)||throwError(d,"named tag handle cannot contain such characters"),tt=!0,u=d.position+1)),M=d.input.charCodeAt(++d.position);f=d.input.slice(u,d.position),ln.test(f)&&throwError(d,"tag suffix cannot contain flow indicator characters")}f&&!hn.test(f)&&throwError(d,"tag name cannot contain such characters: "+f);try{f=decodeURIComponent(f)}catch(rt){throwError(d,"tag name is malformed: "+f)}return P?d.tag=f:an.call(d.tagMap,g)?d.tag=d.tagMap[g]+f:"!"===g?d.tag="!"+f:"!!"===g?d.tag="tag:yaml.org,2002:"+f:throwError(d,'undeclared tag handle "'+g+'"'),!0}function readAnchorProperty(d){var u,g;if(38!==(g=d.input.charCodeAt(d.position)))return!1;for(null!==d.anchor&&throwError(d,"duplication of an anchor property"),g=d.input.charCodeAt(++d.position),u=d.position;0!==g&&!is_WS_OR_EOL(g)&&!is_FLOW_INDICATOR(g);)g=d.input.charCodeAt(++d.position);return d.position===u&&throwError(d,"name of an anchor node must contain at least one character"),d.anchor=d.input.slice(u,d.position),!0}function readAlias(d){var u,g,f;if(42!==(f=d.input.charCodeAt(d.position)))return!1;for(f=d.input.charCodeAt(++d.position),u=d.position;0!==f&&!is_WS_OR_EOL(f)&&!is_FLOW_INDICATOR(f);)f=d.input.charCodeAt(++d.position);return d.position===u&&throwError(d,"name of an alias node must contain at least one character"),g=d.input.slice(u,d.position),an.call(d.anchorMap,g)||throwError(d,'unidentified alias "'+g+'"'),d.result=d.anchorMap[g],skipSeparationSpace(d,!0,-1),!0}function composeNode(d,u,g,f,M){var P,tt,rt,it,nt,at,st,lt,ct,ht=1,dt=!1,ut=!1;if(null!==d.listener&&d.listener("open",d),d.tag=null,d.anchor=null,d.kind=null,d.result=null,P=tt=rt=4===g||3===g,f&&skipSeparationSpace(d,!0,-1)&&(dt=!0,d.lineIndent>u?ht=1:d.lineIndent===u?ht=0:d.lineIndent<u&&(ht=-1)),1===ht)for(;readTagProperty(d)||readAnchorProperty(d);)skipSeparationSpace(d,!0,-1)?(dt=!0,rt=P,d.lineIndent>u?ht=1:d.lineIndent===u?ht=0:d.lineIndent<u&&(ht=-1)):rt=!1;if(rt&&(rt=dt||M),1!==ht&&4!==g||(lt=1===g||2===g?u:u+1,ct=d.position-d.lineStart,1===ht?rt&&(readBlockSequence(d,ct)||readBlockMapping(d,ct,lt))||readFlowCollection(d,lt)?ut=!0:(tt&&readBlockScalar(d,lt)||readSingleQuotedScalar(d,lt)||readDoubleQuotedScalar(d,lt)?ut=!0:readAlias(d)?(ut=!0,null===d.tag&&null===d.anchor||throwError(d,"alias node should not have any properties")):readPlainScalar(d,lt,1===g)&&(ut=!0,null===d.tag&&(d.tag="?")),null!==d.anchor&&(d.anchorMap[d.anchor]=d.result)):0===ht&&(ut=rt&&readBlockSequence(d,ct))),null===d.tag)null!==d.anchor&&(d.anchorMap[d.anchor]=d.result);else if("?"===d.tag){for(null!==d.result&&"scalar"!==d.kind&&throwError(d,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+d.kind+'"'),it=0,nt=d.implicitTypes.length;it<nt;it+=1)if((st=d.implicitTypes[it]).resolve(d.result)){d.result=st.construct(d.result),d.tag=st.tag,null!==d.anchor&&(d.anchorMap[d.anchor]=d.result);break}}else if("!"!==d.tag){if(an.call(d.typeMap[d.kind||"fallback"],d.tag))st=d.typeMap[d.kind||"fallback"][d.tag];else for(st=null,it=0,nt=(at=d.typeMap.multi[d.kind||"fallback"]).length;it<nt;it+=1)if(d.tag.slice(0,at[it].tag.length)===at[it].tag){st=at[it];break}st||throwError(d,"unknown tag !<"+d.tag+">"),null!==d.result&&st.kind!==d.kind&&throwError(d,"unacceptable node kind for !<"+d.tag+'> tag; it should be "'+st.kind+'", not "'+d.kind+'"'),st.resolve(d.result,d.tag)?(d.result=st.construct(d.result,d.tag),null!==d.anchor&&(d.anchorMap[d.anchor]=d.result)):throwError(d,"cannot resolve a node with !<"+d.tag+"> explicit tag")}return null!==d.listener&&d.listener("close",d),null!==d.tag||null!==d.anchor||ut}function readDocument(d){var u,g,f,M,P=d.position,tt=!1;for(d.version=null,d.checkLineBreaks=d.legacy,d.tagMap=Object.create(null),d.anchorMap=Object.create(null);0!==(M=d.input.charCodeAt(d.position))&&(skipSeparationSpace(d,!0,-1),M=d.input.charCodeAt(d.position),!(d.lineIndent>0||37!==M));){for(tt=!0,M=d.input.charCodeAt(++d.position),u=d.position;0!==M&&!is_WS_OR_EOL(M);)M=d.input.charCodeAt(++d.position);for(f=[],(g=d.input.slice(u,d.position)).length<1&&throwError(d,"directive name must not be less than one character in length");0!==M;){for(;is_WHITE_SPACE(M);)M=d.input.charCodeAt(++d.position);if(35===M){do{M=d.input.charCodeAt(++d.position)}while(0!==M&&!is_EOL(M));break}if(is_EOL(M))break;for(u=d.position;0!==M&&!is_WS_OR_EOL(M);)M=d.input.charCodeAt(++d.position);f.push(d.input.slice(u,d.position))}0!==M&&readLineBreak(d),an.call(gn,g)?gn[g](d,g,f):throwWarning(d,'unknown document directive "'+g+'"')}skipSeparationSpace(d,!0,-1),0===d.lineIndent&&45===d.input.charCodeAt(d.position)&&45===d.input.charCodeAt(d.position+1)&&45===d.input.charCodeAt(d.position+2)?(d.position+=3,skipSeparationSpace(d,!0,-1)):tt&&throwError(d,"directives end mark is expected"),composeNode(d,d.lineIndent-1,4,!1,!0),skipSeparationSpace(d,!0,-1),d.checkLineBreaks&&sn.test(d.input.slice(P,d.position))&&throwWarning(d,"non-ASCII line breaks are interpreted as content"),d.documents.push(d.result),d.position===d.lineStart&&testDocumentSeparator(d)?46===d.input.charCodeAt(d.position)&&(d.position+=3,skipSeparationSpace(d,!0,-1)):d.position<d.length-1&&throwError(d,"end of the stream or a document separator is expected")}function loadDocuments(d,u){u=u||{},0!==(d=String(d)).length&&(10!==d.charCodeAt(d.length-1)&&13!==d.charCodeAt(d.length-1)&&(d+="\n"),65279===d.charCodeAt(0)&&(d=d.slice(1)));var g=new State$1(d,u),f=d.indexOf("\0");for(-1!==f&&(g.position=f,throwError(g,"null byte is not allowed in input")),g.input+="\0";32===g.input.charCodeAt(g.position);)g.lineIndent+=1,g.position+=1;for(;g.position<g.length-1;)readDocument(g);return g.documents}function loadAll$1(d,u,g){null!==u&&"object"==typeof u&&void 0===g&&(g=u,u=null);var f=loadDocuments(d,g);if("function"!=typeof u)return f;for(var M=0,P=f.length;M<P;M+=1)u(f[M])}function load$1(d,u){var g=loadDocuments(d,u);if(0!==g.length){if(1===g.length)return g[0];throw new Mi("expected a single document in the stream, but found more")}}__name(captureSegment,"captureSegment"),__name(mergeMappings,"mergeMappings"),__name(storeMappingPair,"storeMappingPair"),__name(readLineBreak,"readLineBreak"),__name(skipSeparationSpace,"skipSeparationSpace"),__name(testDocumentSeparator,"testDocumentSeparator"),__name(writeFoldedLines,"writeFoldedLines"),__name(readPlainScalar,"readPlainScalar"),__name(readSingleQuotedScalar,"readSingleQuotedScalar"),__name(readDoubleQuotedScalar,"readDoubleQuotedScalar"),__name(readFlowCollection,"readFlowCollection"),__name(readBlockScalar,"readBlockScalar"),__name(readBlockSequence,"readBlockSequence"),__name(readBlockMapping,"readBlockMapping"),__name(readTagProperty,"readTagProperty"),__name(readAnchorProperty,"readAnchorProperty"),__name(readAlias,"readAlias"),__name(composeNode,"composeNode"),__name(readDocument,"readDocument"),__name(loadDocuments,"loadDocuments"),__name(loadAll$1,"loadAll$1"),__name(load$1,"load$1");var fn={loadAll:loadAll$1,load:load$1},mn=Object.prototype.toString,yn=Object.prototype.hasOwnProperty,xn=65279,bn={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},kn=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Cn=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(d,u){var g,f,M,P,tt,rt,it;if(null===u)return{};for(g={},M=0,P=(f=Object.keys(u)).length;M<P;M+=1)tt=f[M],rt=String(u[tt]),"!!"===tt.slice(0,2)&&(tt="tag:yaml.org,2002:"+tt.slice(2)),(it=d.compiledTypeMap.fallback[tt])&&yn.call(it.styleAliases,rt)&&(rt=it.styleAliases[rt]),g[tt]=rt;return g}function encodeHex(d){var u,g,f;if(u=d.toString(16).toUpperCase(),d<=255)g="x",f=2;else if(d<=65535)g="u",f=4;else{if(!(d<=4294967295))throw new Mi("code point within a string may not be greater than 0xFFFFFFFF");g="U",f=8}return"\\"+g+Ai.repeat("0",f-u.length)+u}__name(compileStyleMap,"compileStyleMap"),__name(encodeHex,"encodeHex");function State(d){this.schema=d.schema||nn,this.indent=Math.max(1,d.indent||2),this.noArrayIndent=d.noArrayIndent||!1,this.skipInvalid=d.skipInvalid||!1,this.flowLevel=Ai.isNothing(d.flowLevel)?-1:d.flowLevel,this.styleMap=compileStyleMap(this.schema,d.styles||null),this.sortKeys=d.sortKeys||!1,this.lineWidth=d.lineWidth||80,this.noRefs=d.noRefs||!1,this.noCompatMode=d.noCompatMode||!1,this.condenseFlow=d.condenseFlow||!1,this.quotingType='"'===d.quotingType?2:1,this.forceQuotes=d.forceQuotes||!1,this.replacer="function"==typeof d.replacer?d.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(d,u){for(var g,f=Ai.repeat(" ",u),M=0,P=-1,tt="",rt=d.length;M<rt;)-1===(P=d.indexOf("\n",M))?(g=d.slice(M),M=rt):(g=d.slice(M,P+1),M=P+1),g.length&&"\n"!==g&&(tt+=f),tt+=g;return tt}function generateNextLine(d,u){return"\n"+Ai.repeat(" ",d.indent*u)}function testImplicitResolving(d,u){var g,f;for(g=0,f=d.implicitTypes.length;g<f;g+=1)if(d.implicitTypes[g].resolve(u))return!0;return!1}function isWhitespace(d){return 32===d||9===d}function isPrintable(d){return 32<=d&&d<=126||161<=d&&d<=55295&&8232!==d&&8233!==d||57344<=d&&d<=65533&&d!==xn||65536<=d&&d<=1114111}function isNsCharOrWhitespace(d){return isPrintable(d)&&d!==xn&&13!==d&&10!==d}function isPlainSafe(d,u,g){var f=isNsCharOrWhitespace(d),M=f&&!isWhitespace(d);return(g?f:f&&44!==d&&91!==d&&93!==d&&123!==d&&125!==d)&&35!==d&&!(58===u&&!M)||isNsCharOrWhitespace(u)&&!isWhitespace(u)&&35===d||58===u&&M}function isPlainSafeFirst(d){return isPrintable(d)&&d!==xn&&!isWhitespace(d)&&45!==d&&63!==d&&58!==d&&44!==d&&91!==d&&93!==d&&123!==d&&125!==d&&35!==d&&38!==d&&42!==d&&33!==d&&124!==d&&61!==d&&62!==d&&39!==d&&34!==d&&37!==d&&64!==d&&96!==d}function isPlainSafeLast(d){return!isWhitespace(d)&&58!==d}function codePointAt(d,u){var g,f=d.charCodeAt(u);return f>=55296&&f<=56319&&u+1<d.length&&(g=d.charCodeAt(u+1))>=56320&&g<=57343?1024*(f-55296)+g-56320+65536:f}function needIndentIndicator(d){return/^\n* /.test(d)}__name(State,"State"),__name(indentString,"indentString"),__name(generateNextLine,"generateNextLine"),__name(testImplicitResolving,"testImplicitResolving"),__name(isWhitespace,"isWhitespace"),__name(isPrintable,"isPrintable"),__name(isNsCharOrWhitespace,"isNsCharOrWhitespace"),__name(isPlainSafe,"isPlainSafe"),__name(isPlainSafeFirst,"isPlainSafeFirst"),__name(isPlainSafeLast,"isPlainSafeLast"),__name(codePointAt,"codePointAt"),__name(needIndentIndicator,"needIndentIndicator");function chooseScalarStyle(d,u,g,f,M,P,tt,rt){var it,nt=0,at=null,st=!1,lt=!1,ct=-1!==f,ht=-1,dt=isPlainSafeFirst(codePointAt(d,0))&&isPlainSafeLast(codePointAt(d,d.length-1));if(u||tt)for(it=0;it<d.length;nt>=65536?it+=2:it++){if(!isPrintable(nt=codePointAt(d,it)))return 5;dt=dt&&isPlainSafe(nt,at,rt),at=nt}else{for(it=0;it<d.length;nt>=65536?it+=2:it++){if(10===(nt=codePointAt(d,it)))st=!0,ct&&(lt=lt||it-ht-1>f&&" "!==d[ht+1],ht=it);else if(!isPrintable(nt))return 5;dt=dt&&isPlainSafe(nt,at,rt),at=nt}lt=lt||ct&&it-ht-1>f&&" "!==d[ht+1]}return st||lt?g>9&&needIndentIndicator(d)?5:tt?2===P?5:2:lt?4:3:!dt||tt||M(d)?2===P?5:2:1}function writeScalar(d,u,g,f,M){d.dump=function(){if(0===u.length)return 2===d.quotingType?'""':"''";if(!d.noCompatMode&&(-1!==kn.indexOf(u)||Cn.test(u)))return 2===d.quotingType?'"'+u+'"':"'"+u+"'";var P=d.indent*Math.max(1,g),tt=-1===d.lineWidth?-1:Math.max(Math.min(d.lineWidth,40),d.lineWidth-P),rt=f||d.flowLevel>-1&&g>=d.flowLevel;function testAmbiguity(u){return testImplicitResolving(d,u)}switch(__name(testAmbiguity,"testAmbiguity"),chooseScalarStyle(u,rt,d.indent,tt,testAmbiguity,d.quotingType,d.forceQuotes&&!f,M)){case 1:return u;case 2:return"'"+u.replace(/'/g,"''")+"'";case 3:return"|"+blockHeader(u,d.indent)+dropEndingNewline(indentString(u,P));case 4:return">"+blockHeader(u,d.indent)+dropEndingNewline(indentString(foldString(u,tt),P));case 5:return'"'+escapeString(u)+'"';default:throw new Mi("impossible error: invalid scalar style")}}()}function blockHeader(d,u){var g=needIndentIndicator(d)?String(u):"",f="\n"===d[d.length-1];return g+(f&&("\n"===d[d.length-2]||"\n"===d)?"+":f?"":"-")+"\n"}function dropEndingNewline(d){return"\n"===d[d.length-1]?d.slice(0,-1):d}function foldString(d,u){for(var g,f,M,P=/(\n+)([^\n]*)/g,tt=(g=-1!==(g=d.indexOf("\n"))?g:d.length,P.lastIndex=g,foldLine(d.slice(0,g),u)),rt="\n"===d[0]||" "===d[0];M=P.exec(d);){var it=M[1],nt=M[2];f=" "===nt[0],tt+=it+(rt||f||""===nt?"":"\n")+foldLine(nt,u),rt=f}return tt}function foldLine(d,u){if(""===d||" "===d[0])return d;for(var g,f,M=/ [^ ]/g,P=0,tt=0,rt=0,it="";g=M.exec(d);)(rt=g.index)-P>u&&(f=tt>P?tt:rt,it+="\n"+d.slice(P,f),P=f+1),tt=rt;return it+="\n",d.length-P>u&&tt>P?it+=d.slice(P,tt)+"\n"+d.slice(tt+1):it+=d.slice(P),it.slice(1)}function escapeString(d){for(var u,g="",f=0,M=0;M<d.length;f>=65536?M+=2:M++)f=codePointAt(d,M),!(u=bn[f])&&isPrintable(f)?(g+=d[M],f>=65536&&(g+=d[M+1])):g+=u||encodeHex(f);return g}function writeFlowSequence(d,u,g){var f,M,P,tt="",rt=d.tag;for(f=0,M=g.length;f<M;f+=1)P=g[f],d.replacer&&(P=d.replacer.call(g,String(f),P)),(writeNode(d,u,P,!1,!1)||void 0===P&&writeNode(d,u,null,!1,!1))&&(""!==tt&&(tt+=","+(d.condenseFlow?"":" ")),tt+=d.dump);d.tag=rt,d.dump="["+tt+"]"}function writeBlockSequence(d,u,g,f){var M,P,tt,rt="",it=d.tag;for(M=0,P=g.length;M<P;M+=1)tt=g[M],d.replacer&&(tt=d.replacer.call(g,String(M),tt)),(writeNode(d,u+1,tt,!0,!0,!1,!0)||void 0===tt&&writeNode(d,u+1,null,!0,!0,!1,!0))&&(f&&""===rt||(rt+=generateNextLine(d,u)),d.dump&&10===d.dump.charCodeAt(0)?rt+="-":rt+="- ",rt+=d.dump);d.tag=it,d.dump=rt||"[]"}function writeFlowMapping(d,u,g){var f,M,P,tt,rt,it="",nt=d.tag,at=Object.keys(g);for(f=0,M=at.length;f<M;f+=1)rt="",""!==it&&(rt+=", "),d.condenseFlow&&(rt+='"'),tt=g[P=at[f]],d.replacer&&(tt=d.replacer.call(g,P,tt)),writeNode(d,u,P,!1,!1)&&(d.dump.length>1024&&(rt+="? "),rt+=d.dump+(d.condenseFlow?'"':"")+":"+(d.condenseFlow?"":" "),writeNode(d,u,tt,!1,!1)&&(it+=rt+=d.dump));d.tag=nt,d.dump="{"+it+"}"}function writeBlockMapping(d,u,g,f){var M,P,tt,rt,it,nt,at="",st=d.tag,lt=Object.keys(g);if(!0===d.sortKeys)lt.sort();else if("function"==typeof d.sortKeys)lt.sort(d.sortKeys);else if(d.sortKeys)throw new Mi("sortKeys must be a boolean or a function");for(M=0,P=lt.length;M<P;M+=1)nt="",f&&""===at||(nt+=generateNextLine(d,u)),rt=g[tt=lt[M]],d.replacer&&(rt=d.replacer.call(g,tt,rt)),writeNode(d,u+1,tt,!0,!0,!0)&&((it=null!==d.tag&&"?"!==d.tag||d.dump&&d.dump.length>1024)&&(d.dump&&10===d.dump.charCodeAt(0)?nt+="?":nt+="? "),nt+=d.dump,it&&(nt+=generateNextLine(d,u)),writeNode(d,u+1,rt,!0,it)&&(d.dump&&10===d.dump.charCodeAt(0)?nt+=":":nt+=": ",at+=nt+=d.dump));d.tag=st,d.dump=at||"{}"}function detectType(d,u,g){var f,M,P,tt,rt,it;for(P=0,tt=(M=g?d.explicitTypes:d.implicitTypes).length;P<tt;P+=1)if(((rt=M[P]).instanceOf||rt.predicate)&&(!rt.instanceOf||"object"==typeof u&&u instanceof rt.instanceOf)&&(!rt.predicate||rt.predicate(u))){if(g?rt.multi&&rt.representName?d.tag=rt.representName(u):d.tag=rt.tag:d.tag="?",rt.represent){if(it=d.styleMap[rt.tag]||rt.defaultStyle,"[object Function]"===mn.call(rt.represent))f=rt.represent(u,it);else{if(!yn.call(rt.represent,it))throw new Mi("!<"+rt.tag+'> tag resolver accepts not "'+it+'" style');f=rt.represent[it](u,it)}d.dump=f}return!0}return!1}function writeNode(d,u,g,f,M,P,tt){d.tag=null,d.dump=g,detectType(d,g,!1)||detectType(d,g,!0);var rt,it=mn.call(d.dump),nt=f;f&&(f=d.flowLevel<0||d.flowLevel>u);var at,st,lt="[object Object]"===it||"[object Array]"===it;if(lt&&(st=-1!==(at=d.duplicates.indexOf(g))),(null!==d.tag&&"?"!==d.tag||st||2!==d.indent&&u>0)&&(M=!1),st&&d.usedDuplicates[at])d.dump="*ref_"+at;else{if(lt&&st&&!d.usedDuplicates[at]&&(d.usedDuplicates[at]=!0),"[object Object]"===it)f&&0!==Object.keys(d.dump).length?(writeBlockMapping(d,u,d.dump,M),st&&(d.dump="&ref_"+at+d.dump)):(writeFlowMapping(d,u,d.dump),st&&(d.dump="&ref_"+at+" "+d.dump));else if("[object Array]"===it)f&&0!==d.dump.length?(d.noArrayIndent&&!tt&&u>0?writeBlockSequence(d,u-1,d.dump,M):writeBlockSequence(d,u,d.dump,M),st&&(d.dump="&ref_"+at+d.dump)):(writeFlowSequence(d,u,d.dump),st&&(d.dump="&ref_"+at+" "+d.dump));else{if("[object String]"!==it){if("[object Undefined]"===it)return!1;if(d.skipInvalid)return!1;throw new Mi("unacceptable kind of an object to dump "+it)}"?"!==d.tag&&writeScalar(d,d.dump,u,P,nt)}null!==d.tag&&"?"!==d.tag&&(rt=encodeURI("!"===d.tag[0]?d.tag.slice(1):d.tag).replace(/!/g,"%21"),rt="!"===d.tag[0]?"!"+rt:"tag:yaml.org,2002:"===rt.slice(0,18)?"!!"+rt.slice(18):"!<"+rt+">",d.dump=rt+" "+d.dump)}return!0}function getDuplicateReferences(d,u){var g,f,M=[],P=[];for(inspectNode(d,M,P),g=0,f=P.length;g<f;g+=1)u.duplicates.push(M[P[g]]);u.usedDuplicates=new Array(f)}function inspectNode(d,u,g){var f,M,P;if(null!==d&&"object"==typeof d)if(-1!==(M=u.indexOf(d)))-1===g.indexOf(M)&&g.push(M);else if(u.push(d),Array.isArray(d))for(M=0,P=d.length;M<P;M+=1)inspectNode(d[M],u,g);else for(M=0,P=(f=Object.keys(d)).length;M<P;M+=1)inspectNode(d[f[M]],u,g)}__name(chooseScalarStyle,"chooseScalarStyle"),__name(writeScalar,"writeScalar"),__name(blockHeader,"blockHeader"),__name(dropEndingNewline,"dropEndingNewline"),__name(foldString,"foldString"),__name(foldLine,"foldLine"),__name(escapeString,"escapeString"),__name(writeFlowSequence,"writeFlowSequence"),__name(writeBlockSequence,"writeBlockSequence"),__name(writeFlowMapping,"writeFlowMapping"),__name(writeBlockMapping,"writeBlockMapping"),__name(detectType,"detectType"),__name(writeNode,"writeNode"),__name(getDuplicateReferences,"getDuplicateReferences"),__name(inspectNode,"inspectNode"),__name((function dump$1(d,u){var g=new State(u=u||{});g.noRefs||getDuplicateReferences(d,g);var f=d;return g.replacer&&(f=g.replacer.call({"":f},"",f)),writeNode(g,0,f,!0,!0)?g.dump+"\n":""}),"dump$1"),__name((function renamed(d,u){return function(){throw new Error("Function yaml."+d+" is removed in js-yaml 4. Use yaml."+u+" instead, which is now safe by default.")}}),"renamed");var _n=Wi,wn=fn.load;
/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
const Sn=Object.freeze({left:0,top:0,width:16,height:16}),Tn=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),vn=Object.freeze({...Sn,...Tn}),Bn=Object.freeze({...vn,body:"",hidden:!1}),Ln=Object.freeze({width:null,height:null}),An=Object.freeze({...Ln,...Tn}),Mn=/^[a-z0-9]+(-[a-z0-9]+)*$/,validateIconName=(d,u)=>!!d&&!(""!==d.provider&&!d.provider.match(Mn)||!(u&&""===d.prefix||d.prefix.match(Mn))||!d.name.match(Mn));function mergeIconData(d,u){const g=function mergeIconTransformations(d,u){const g={};!d.hFlip!=!u.hFlip&&(g.hFlip=!0),!d.vFlip!=!u.vFlip&&(g.vFlip=!0);const f=((d.rotate||0)+(u.rotate||0))%4;return f&&(g.rotate=f),g}(d,u);for(const f in Bn)f in Tn?f in d&&!(f in g)&&(g[f]=Tn[f]):f in u?g[f]=u[f]:f in d&&(g[f]=d[f]);return g}function internalGetIconData(d,u,g){const f=d.icons,M=d.aliases||Object.create(null);let P={};function parse3(d){P=mergeIconData(f[d]||M[d],P)}return parse3(u),g.forEach(parse3),mergeIconData(d,P)}function getIconData(d,u){if(d.icons[u])return internalGetIconData(d,u,[]);const g=function getIconsTree(d,u){const g=d.icons,f=d.aliases||Object.create(null),M=Object.create(null);return(u||Object.keys(g).concat(Object.keys(f))).forEach((function resolve(d){if(g[d])return M[d]=[];if(!(d in M)){M[d]=null;const u=f[d]&&f[d].parent,g=u&&resolve(u);g&&(M[d]=[u].concat(g))}return M[d]})),M}(d,[u])[u];return g?internalGetIconData(d,u,g):null}const Fn=/(-?[0-9.]*[0-9]+[0-9.]*)/g,En=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(d,u,g){if(1===u)return d;if(g=g||100,"number"==typeof d)return Math.ceil(d*u*g)/g;if("string"!=typeof d)return d;const f=d.split(Fn);if(null===f||!f.length)return d;const M=[];let P=f.shift(),tt=En.test(P);for(;;){if(tt){const d=parseFloat(P);isNaN(d)?M.push(P):M.push(Math.ceil(d*u*g)/g)}else M.push(P);if(P=f.shift(),void 0===P)return M.join("");tt=!tt}}const $n=/\sid="(\S+)"/g,On="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let Pn=0;var In={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Dn=new Map,Rn=new Map,Nn=__name((d=>{for(const u of d){if(!u.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Le.debug("Registering icon pack:",u.name),"loader"in u)Rn.set(u.name,u.loader);else{if(!("icons"in u))throw Le.error("Invalid icon loader:",u),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');Dn.set(u.name,u.icons)}}}),"registerIconPacks"),zn=__name((async(d,u)=>{const g=((d,u,g,f="")=>{const M=d.split(":");if("@"===d.slice(0,1)){if(M.length<2||M.length>3)return null;f=M.shift().slice(1)}if(M.length>3||!M.length)return null;if(M.length>1){const d=M.pop(),g=M.pop(),P={provider:M.length>0?M[0]:f,prefix:g,name:d};return u&&!validateIconName(P)?null:P}const P=M[0],tt=P.split("-");if(tt.length>1){const d={provider:f,prefix:tt.shift(),name:tt.join("-")};return u&&!validateIconName(d)?null:d}if(g&&""===f){const d={provider:f,prefix:"",name:P};return u&&!validateIconName(d,g)?null:d}return null})(d,!0,void 0!==u);if(!g)throw new Error(`Invalid icon name: ${d}`);const f=g.prefix||u;if(!f)throw new Error(`Icon name must contain a prefix: ${d}`);let M=Dn.get(f);if(!M){const d=Rn.get(f);if(!d)throw new Error(`Icon set not found: ${g.prefix}`);try{M={...await d(),prefix:f},Dn.set(f,M)}catch(tt){throw Le.error(tt),new Error(`Failed to load icon set: ${g.prefix}`)}}const P=getIconData(M,g.name);if(!P)throw new Error(`Icon not found: ${d}`);return P}),"getRegisteredIconData"),qn=__name((async(d,u)=>{let g;try{g=await zn(d,u?.fallbackPrefix)}catch(M){Le.error(M),g=In}const f=function iconToSVG(d,u){const g={...vn,...d},f={...An,...u},M={left:g.left,top:g.top,width:g.width,height:g.height};let P=g.body;[g,f].forEach((d=>{const u=[],g=d.hFlip,f=d.vFlip;let tt,rt=d.rotate;switch(g?f?rt+=2:(u.push("translate("+(M.width+M.left).toString()+" "+(0-M.top).toString()+")"),u.push("scale(-1 1)"),M.top=M.left=0):f&&(u.push("translate("+(0-M.left).toString()+" "+(M.height+M.top).toString()+")"),u.push("scale(1 -1)"),M.top=M.left=0),rt<0&&(rt-=4*Math.floor(rt/4)),rt%=4,rt){case 1:tt=M.height/2+M.top,u.unshift("rotate(90 "+tt.toString()+" "+tt.toString()+")");break;case 2:u.unshift("rotate(180 "+(M.width/2+M.left).toString()+" "+(M.height/2+M.top).toString()+")");break;case 3:tt=M.width/2+M.left,u.unshift("rotate(-90 "+tt.toString()+" "+tt.toString()+")")}rt%2==1&&(M.left!==M.top&&(tt=M.left,M.left=M.top,M.top=tt),M.width!==M.height&&(tt=M.width,M.width=M.height,M.height=tt)),u.length&&(P=function wrapSVGContent(d,u,g){const f=function splitSVGDefs(d,u="defs"){let g="";const f=d.indexOf("<"+u);for(;f>=0;){const M=d.indexOf(">",f),P=d.indexOf("</"+u);if(-1===M||-1===P)break;const tt=d.indexOf(">",P);if(-1===tt)break;g+=d.slice(M+1,P).trim(),d=d.slice(0,f).trim()+d.slice(tt+1)}return{defs:g,content:d}}(d);return function mergeDefsAndContent(d,u){return d?"<defs>"+d+"</defs>"+u:u}(f.defs,u+f.content+g)}(P,'<g transform="'+u.join(" ")+'">',"</g>"))}));const tt=f.width,rt=f.height,it=M.width,nt=M.height;let at,st;null===tt?(st=null===rt?"1em":"auto"===rt?nt:rt,at=calculateSize(st,it/nt)):(at="auto"===tt?it:tt,st=null===rt?calculateSize(at,nt/it):"auto"===rt?nt:rt);const lt={},setAttr=(d,u)=>{(d=>"unset"===d||"undefined"===d||"none"===d)(u)||(lt[d]=u.toString())};setAttr("width",at),setAttr("height",st);const ct=[M.left,M.top,it,nt];return lt.viewBox=ct.join(" "),{attributes:lt,viewBox:ct,body:P}}(g,u);return function iconToHTML(d,u){let g=-1===d.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const f in u)g+=" "+f+'="'+u[f]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+g+">"+d+"</svg>"}(function replaceIDs(d,u=On){const g=[];let f;for(;f=$n.exec(d);)g.push(f[1]);if(!g.length)return d;const M="suffix"+(16777216*Math.random()|Date.now()).toString(16);return g.forEach((g=>{const f="function"==typeof u?u(g):u+(Pn++).toString(),P=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");d=d.replace(new RegExp('([#;"])('+P+')([")]|\\.[a-z])',"g"),"$1"+f+M+"$3")})),d=d.replace(new RegExp(M,"g"),"")}(f.body),f.attributes)}),"getIconSVG"),Wn=__name((({flowchart:d})=>{const u=d?.subGraphTitleMargin?.top??0,g=d?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin:u,subGraphTitleBottomMargin:g,subGraphTitleTotalMargin:u+g}}),"getSubGraphTitleMargins"),jn={},Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.BLANK_URL=Hn.relativeFirstCharacters=Hn.whitespaceEscapeCharsRegex=Hn.urlSchemeRegex=Hn.ctrlCharactersRegex=Hn.htmlCtrlEntityRegex=Hn.htmlEntitiesRegex=Hn.invalidProtocolRegex=void 0,Hn.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Hn.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Hn.htmlCtrlEntityRegex=/&(newline|tab);/gi,Hn.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Hn.urlSchemeRegex=/^.+(:|&colon;)/gim,Hn.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Hn.relativeFirstCharacters=[".","/"],Hn.BLANK_URL="about:blank",Object.defineProperty(jn,"__esModule",{value:!0});var Yn=jn.sanitizeUrl=void 0,Gn=Hn;function decodeURI(d){try{return decodeURIComponent(d)}catch(u){return d}}Yn=jn.sanitizeUrl=function sanitizeUrl(d){if(!d)return Gn.BLANK_URL;var u,g,f=decodeURI(d.trim());do{u=(f=decodeURI(f=(g=f,g.replace(Gn.ctrlCharactersRegex,"").replace(Gn.htmlEntitiesRegex,(function(d,u){return String.fromCharCode(u)}))).replace(Gn.htmlCtrlEntityRegex,"").replace(Gn.ctrlCharactersRegex,"").replace(Gn.whitespaceEscapeCharsRegex,"").trim())).match(Gn.ctrlCharactersRegex)||f.match(Gn.htmlEntitiesRegex)||f.match(Gn.htmlCtrlEntityRegex)||f.match(Gn.whitespaceEscapeCharsRegex)}while(u&&u.length>0);var M=f;if(!M)return Gn.BLANK_URL;if(function isRelativeUrlWithoutProtocol(d){return Gn.relativeFirstCharacters.indexOf(d[0])>-1}(M))return M;var P=M.trimStart(),tt=P.match(Gn.urlSchemeRegex);if(!tt)return M;var rt=tt[0].toLowerCase().trim();if(Gn.invalidProtocolRegex.test(rt))return Gn.BLANK_URL;var it=P.replace(/\\/g,"/");if("mailto:"===rt||rt.includes("://"))return it;if("http:"===rt||"https:"===rt){if(!function isValidUrl(d){return URL.canParse(d)}(it))return Gn.BLANK_URL;var nt=new URL(it);return nt.protocol=nt.protocol.toLowerCase(),nt.hostname=nt.hostname.toLowerCase(),nt.toString()}return it};var Un={value:()=>{}};function dispatch(){for(var d,u=0,g=arguments.length,f={};u<g;++u){if(!(d=arguments[u]+"")||d in f||/[\s.]/.test(d))throw new Error("illegal type: "+d);f[d]=[]}return new Dispatch(f)}function Dispatch(d){this._=d}function get$1(d,u){for(var g,f=0,M=d.length;f<M;++f)if((g=d[f]).name===u)return g.value}function set$1(d,u,g){for(var f=0,M=d.length;f<M;++f)if(d[f].name===u){d[f]=Un,d=d.slice(0,f).concat(d.slice(f+1));break}return null!=g&&d.push({name:u,value:g}),d}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(d,u){var g,f=this._,M=function parseTypenames$1(d,u){return d.trim().split(/^|\s+/).map((function(d){var g="",f=d.indexOf(".");if(f>=0&&(g=d.slice(f+1),d=d.slice(0,f)),d&&!u.hasOwnProperty(d))throw new Error("unknown type: "+d);return{type:d,name:g}}))}(d+"",f),P=-1,tt=M.length;if(!(arguments.length<2)){if(null!=u&&"function"!=typeof u)throw new Error("invalid callback: "+u);for(;++P<tt;)if(g=(d=M[P]).type)f[g]=set$1(f[g],d.name,u);else if(null==u)for(g in f)f[g]=set$1(f[g],d.name,null);return this}for(;++P<tt;)if((g=(d=M[P]).type)&&(g=get$1(f[g],d.name)))return g},copy:function(){var d={},u=this._;for(var g in u)d[g]=u[g].slice();return new Dispatch(d)},call:function(d,u){if((g=arguments.length-2)>0)for(var g,f,M=new Array(g),P=0;P<g;++P)M[P]=arguments[P+2];if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(P=0,g=(f=this._[d]).length;P<g;++P)f[P].value.apply(u,M)},apply:function(d,u,g){if(!this._.hasOwnProperty(d))throw new Error("unknown type: "+d);for(var f=this._[d],M=0,P=f.length;M<P;++M)f[M].value.apply(u,g)}};var Vn="http://www.w3.org/1999/xhtml";const Xn={svg:"http://www.w3.org/2000/svg",xhtml:Vn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(d){var u=d+="",g=u.indexOf(":");return g>=0&&"xmlns"!==(u=d.slice(0,g))&&(d=d.slice(g+1)),Xn.hasOwnProperty(u)?{space:Xn[u],local:d}:d}function creatorInherit(d){return function(){var u=this.ownerDocument,g=this.namespaceURI;return g===Vn&&u.documentElement.namespaceURI===Vn?u.createElement(d):u.createElementNS(g,d)}}function creatorFixed(d){return function(){return this.ownerDocument.createElementNS(d.space,d.local)}}function creator(d){var u=namespace(d);return(u.local?creatorFixed:creatorInherit)(u)}function none(){}function selector(d){return null==d?none:function(){return this.querySelector(d)}}function empty(){return[]}function selectorAll(d){return null==d?empty:function(){return this.querySelectorAll(d)}}function arrayAll(d){return function(){return function array$1(d){return null==d?[]:Array.isArray(d)?d:Array.from(d)}(d.apply(this,arguments))}}function matcher(d){return function(){return this.matches(d)}}function childMatcher(d){return function(u){return u.matches(d)}}var Zn=Array.prototype.find;function childFirst(){return this.firstElementChild}var Qn=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(d){return new Array(d.length)}function EnterNode(d,u){this.ownerDocument=d.ownerDocument,this.namespaceURI=d.namespaceURI,this._next=null,this._parent=d,this.__data__=u}function bindIndex(d,u,g,f,M,P){for(var tt,rt=0,it=u.length,nt=P.length;rt<nt;++rt)(tt=u[rt])?(tt.__data__=P[rt],f[rt]=tt):g[rt]=new EnterNode(d,P[rt]);for(;rt<it;++rt)(tt=u[rt])&&(M[rt]=tt)}function bindKey(d,u,g,f,M,P,tt){var rt,it,nt,at=new Map,st=u.length,lt=P.length,ct=new Array(st);for(rt=0;rt<st;++rt)(it=u[rt])&&(ct[rt]=nt=tt.call(it,it.__data__,rt,u)+"",at.has(nt)?M[rt]=it:at.set(nt,it));for(rt=0;rt<lt;++rt)nt=tt.call(d,P[rt],rt,P)+"",(it=at.get(nt))?(f[rt]=it,it.__data__=P[rt],at.delete(nt)):g[rt]=new EnterNode(d,P[rt]);for(rt=0;rt<st;++rt)(it=u[rt])&&at.get(ct[rt])===it&&(M[rt]=it)}function datum(d){return d.__data__}function arraylike(d){return"object"==typeof d&&"length"in d?d:Array.from(d)}function ascending(d,u){return d<u?-1:d>u?1:d>=u?0:NaN}function attrRemove$1(d){return function(){this.removeAttribute(d)}}function attrRemoveNS$1(d){return function(){this.removeAttributeNS(d.space,d.local)}}function attrConstant$1(d,u){return function(){this.setAttribute(d,u)}}function attrConstantNS$1(d,u){return function(){this.setAttributeNS(d.space,d.local,u)}}function attrFunction$1(d,u){return function(){var g=u.apply(this,arguments);null==g?this.removeAttribute(d):this.setAttribute(d,g)}}function attrFunctionNS$1(d,u){return function(){var g=u.apply(this,arguments);null==g?this.removeAttributeNS(d.space,d.local):this.setAttributeNS(d.space,d.local,g)}}function defaultView(d){return d.ownerDocument&&d.ownerDocument.defaultView||d.document&&d||d.defaultView}function styleRemove$1(d){return function(){this.style.removeProperty(d)}}function styleConstant$1(d,u,g){return function(){this.style.setProperty(d,u,g)}}function styleFunction$1(d,u,g){return function(){var f=u.apply(this,arguments);null==f?this.style.removeProperty(d):this.style.setProperty(d,f,g)}}function styleValue(d,u){return d.style.getPropertyValue(u)||defaultView(d).getComputedStyle(d,null).getPropertyValue(u)}function propertyRemove(d){return function(){delete this[d]}}function propertyConstant(d,u){return function(){this[d]=u}}function propertyFunction(d,u){return function(){var g=u.apply(this,arguments);null==g?delete this[d]:this[d]=g}}function classArray(d){return d.trim().split(/^|\s+/)}function classList(d){return d.classList||new ClassList(d)}function ClassList(d){this._node=d,this._names=classArray(d.getAttribute("class")||"")}function classedAdd(d,u){for(var g=classList(d),f=-1,M=u.length;++f<M;)g.add(u[f])}function classedRemove(d,u){for(var g=classList(d),f=-1,M=u.length;++f<M;)g.remove(u[f])}function classedTrue(d){return function(){classedAdd(this,d)}}function classedFalse(d){return function(){classedRemove(this,d)}}function classedFunction(d,u){return function(){(u.apply(this,arguments)?classedAdd:classedRemove)(this,d)}}function textRemove(){this.textContent=""}function textConstant$1(d){return function(){this.textContent=d}}function textFunction$1(d){return function(){var u=d.apply(this,arguments);this.textContent=null==u?"":u}}function htmlRemove(){this.innerHTML=""}function htmlConstant(d){return function(){this.innerHTML=d}}function htmlFunction(d){return function(){var u=d.apply(this,arguments);this.innerHTML=null==u?"":u}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function constantNull(){return null}function remove(){var d=this.parentNode;d&&d.removeChild(this)}function selection_cloneShallow(){var d=this.cloneNode(!1),u=this.parentNode;return u?u.insertBefore(d,this.nextSibling):d}function selection_cloneDeep(){var d=this.cloneNode(!0),u=this.parentNode;return u?u.insertBefore(d,this.nextSibling):d}function onRemove(d){return function(){var u=this.__on;if(u){for(var g,f=0,M=-1,P=u.length;f<P;++f)g=u[f],d.type&&g.type!==d.type||g.name!==d.name?u[++M]=g:this.removeEventListener(g.type,g.listener,g.options);++M?u.length=M:delete this.__on}}}function onAdd(d,u,g){return function(){var f,M=this.__on,P=function contextListener(d){return function(u){d.call(this,u,this.__data__)}}(u);if(M)for(var tt=0,rt=M.length;tt<rt;++tt)if((f=M[tt]).type===d.type&&f.name===d.name)return this.removeEventListener(f.type,f.listener,f.options),this.addEventListener(f.type,f.listener=P,f.options=g),void(f.value=u);this.addEventListener(d.type,P,g),f={type:d.type,name:d.name,value:u,listener:P,options:g},M?M.push(f):this.__on=[f]}}function dispatchEvent(d,u,g){var f=defaultView(d),M=f.CustomEvent;"function"==typeof M?M=new M(u,g):(M=f.document.createEvent("Event"),g?(M.initEvent(u,g.bubbles,g.cancelable),M.detail=g.detail):M.initEvent(u,!1,!1)),d.dispatchEvent(M)}function dispatchConstant(d,u){return function(){return dispatchEvent(this,d,u)}}function dispatchFunction(d,u){return function(){return dispatchEvent(this,d,u.apply(this,arguments))}}EnterNode.prototype={constructor:EnterNode,appendChild:function(d){return this._parent.insertBefore(d,this._next)},insertBefore:function(d,u){return this._parent.insertBefore(d,u)},querySelector:function(d){return this._parent.querySelector(d)},querySelectorAll:function(d){return this._parent.querySelectorAll(d)}},ClassList.prototype={add:function(d){this._names.indexOf(d)<0&&(this._names.push(d),this._node.setAttribute("class",this._names.join(" ")))},remove:function(d){var u=this._names.indexOf(d);u>=0&&(this._names.splice(u,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(d){return this._names.indexOf(d)>=0}};var Kn=[null];function Selection$1(d,u){this._groups=d,this._parents=u}function selection(){return new Selection$1([[document.documentElement]],Kn)}function select(d){return"string"==typeof d?new Selection$1([[document.querySelector(d)]],[document.documentElement]):new Selection$1([[d]],Kn)}function define(d,u,g){d.prototype=u.prototype=g,g.constructor=d}function extend(d,u){var g=Object.create(d.prototype);for(var f in u)g[f]=u[f];return g}function Color(){}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:function selection_select(d){"function"!=typeof d&&(d=selector(d));for(var u=this._groups,g=u.length,f=new Array(g),M=0;M<g;++M)for(var P,tt,rt=u[M],it=rt.length,nt=f[M]=new Array(it),at=0;at<it;++at)(P=rt[at])&&(tt=d.call(P,P.__data__,at,rt))&&("__data__"in P&&(tt.__data__=P.__data__),nt[at]=tt);return new Selection$1(f,this._parents)},selectAll:function selection_selectAll(d){d="function"==typeof d?arrayAll(d):selectorAll(d);for(var u=this._groups,g=u.length,f=[],M=[],P=0;P<g;++P)for(var tt,rt=u[P],it=rt.length,nt=0;nt<it;++nt)(tt=rt[nt])&&(f.push(d.call(tt,tt.__data__,nt,rt)),M.push(tt));return new Selection$1(f,M)},selectChild:function selection_selectChild(d){return this.select(null==d?childFirst:function childFind(d){return function(){return Zn.call(this.children,d)}}("function"==typeof d?d:childMatcher(d)))},selectChildren:function selection_selectChildren(d){return this.selectAll(null==d?children:function childrenFilter(d){return function(){return Qn.call(this.children,d)}}("function"==typeof d?d:childMatcher(d)))},filter:function selection_filter(d){"function"!=typeof d&&(d=matcher(d));for(var u=this._groups,g=u.length,f=new Array(g),M=0;M<g;++M)for(var P,tt=u[M],rt=tt.length,it=f[M]=[],nt=0;nt<rt;++nt)(P=tt[nt])&&d.call(P,P.__data__,nt,tt)&&it.push(P);return new Selection$1(f,this._parents)},data:function selection_data(d,u){if(!arguments.length)return Array.from(this,datum);var g=u?bindKey:bindIndex,f=this._parents,M=this._groups;"function"!=typeof d&&(d=function constant$3(d){return function(){return d}}(d));for(var P=M.length,tt=new Array(P),rt=new Array(P),it=new Array(P),nt=0;nt<P;++nt){var at=f[nt],st=M[nt],lt=st.length,ct=arraylike(d.call(at,at&&at.__data__,nt,f)),ht=ct.length,dt=rt[nt]=new Array(ht),ut=tt[nt]=new Array(ht);g(at,st,dt,ut,it[nt]=new Array(lt),ct,u);for(var pt,gt,ft=0,mt=0;ft<ht;++ft)if(pt=dt[ft]){for(ft>=mt&&(mt=ft+1);!(gt=ut[mt])&&++mt<ht;);pt._next=gt||null}}return(tt=new Selection$1(tt,f))._enter=rt,tt._exit=it,tt},enter:function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)},exit:function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)},join:function selection_join(d,u,g){var f=this.enter(),M=this,P=this.exit();return"function"==typeof d?(f=d(f))&&(f=f.selection()):f=f.append(d+""),null!=u&&(M=u(M))&&(M=M.selection()),null==g?P.remove():g(P),f&&M?f.merge(M).order():M},merge:function selection_merge(d){for(var u=d.selection?d.selection():d,g=this._groups,f=u._groups,M=g.length,P=f.length,tt=Math.min(M,P),rt=new Array(M),it=0;it<tt;++it)for(var nt,at=g[it],st=f[it],lt=at.length,ct=rt[it]=new Array(lt),ht=0;ht<lt;++ht)(nt=at[ht]||st[ht])&&(ct[ht]=nt);for(;it<M;++it)rt[it]=g[it];return new Selection$1(rt,this._parents)},selection:function selection_selection(){return this},order:function selection_order(){for(var d=this._groups,u=-1,g=d.length;++u<g;)for(var f,M=d[u],P=M.length-1,tt=M[P];--P>=0;)(f=M[P])&&(tt&&4^f.compareDocumentPosition(tt)&&tt.parentNode.insertBefore(f,tt),tt=f);return this},sort:function selection_sort(d){function compareNode(u,g){return u&&g?d(u.__data__,g.__data__):!u-!g}d||(d=ascending);for(var u=this._groups,g=u.length,f=new Array(g),M=0;M<g;++M){for(var P,tt=u[M],rt=tt.length,it=f[M]=new Array(rt),nt=0;nt<rt;++nt)(P=tt[nt])&&(it[nt]=P);it.sort(compareNode)}return new Selection$1(f,this._parents).order()},call:function selection_call(){var d=arguments[0];return arguments[0]=this,d.apply(null,arguments),this},nodes:function selection_nodes(){return Array.from(this)},node:function selection_node(){for(var d=this._groups,u=0,g=d.length;u<g;++u)for(var f=d[u],M=0,P=f.length;M<P;++M){var tt=f[M];if(tt)return tt}return null},size:function selection_size(){let d=0;for(const u of this)++d;return d},empty:function selection_empty(){return!this.node()},each:function selection_each(d){for(var u=this._groups,g=0,f=u.length;g<f;++g)for(var M,P=u[g],tt=0,rt=P.length;tt<rt;++tt)(M=P[tt])&&d.call(M,M.__data__,tt,P);return this},attr:function selection_attr(d,u){var g=namespace(d);if(arguments.length<2){var f=this.node();return g.local?f.getAttributeNS(g.space,g.local):f.getAttribute(g)}return this.each((null==u?g.local?attrRemoveNS$1:attrRemove$1:"function"==typeof u?g.local?attrFunctionNS$1:attrFunction$1:g.local?attrConstantNS$1:attrConstant$1)(g,u))},style:function selection_style(d,u,g){return arguments.length>1?this.each((null==u?styleRemove$1:"function"==typeof u?styleFunction$1:styleConstant$1)(d,u,null==g?"":g)):styleValue(this.node(),d)},property:function selection_property(d,u){return arguments.length>1?this.each((null==u?propertyRemove:"function"==typeof u?propertyFunction:propertyConstant)(d,u)):this.node()[d]},classed:function selection_classed(d,u){var g=classArray(d+"");if(arguments.length<2){for(var f=classList(this.node()),M=-1,P=g.length;++M<P;)if(!f.contains(g[M]))return!1;return!0}return this.each(("function"==typeof u?classedFunction:u?classedTrue:classedFalse)(g,u))},text:function selection_text(d){return arguments.length?this.each(null==d?textRemove:("function"==typeof d?textFunction$1:textConstant$1)(d)):this.node().textContent},html:function selection_html(d){return arguments.length?this.each(null==d?htmlRemove:("function"==typeof d?htmlFunction:htmlConstant)(d)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function selection_append(d){var u="function"==typeof d?d:creator(d);return this.select((function(){return this.appendChild(u.apply(this,arguments))}))},insert:function selection_insert(d,u){var g="function"==typeof d?d:creator(d),f=null==u?constantNull:"function"==typeof u?u:selector(u);return this.select((function(){return this.insertBefore(g.apply(this,arguments),f.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function selection_clone(d){return this.select(d?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(d){return arguments.length?this.property("__data__",d):this.node().__data__},on:function selection_on(d,u,g){var f,M,P=function parseTypenames(d){return d.trim().split(/^|\s+/).map((function(d){var u="",g=d.indexOf(".");return g>=0&&(u=d.slice(g+1),d=d.slice(0,g)),{type:d,name:u}}))}(d+""),tt=P.length;if(!(arguments.length<2)){for(rt=u?onAdd:onRemove,f=0;f<tt;++f)this.each(rt(P[f],u,g));return this}var rt=this.node().__on;if(rt)for(var it,nt=0,at=rt.length;nt<at;++nt)for(f=0,it=rt[nt];f<tt;++f)if((M=P[f]).type===it.type&&M.name===it.name)return it.value},dispatch:function selection_dispatch(d,u){return this.each(("function"==typeof u?dispatchFunction:dispatchConstant)(d,u))},[Symbol.iterator]:function*selection_iterator(){for(var d=this._groups,u=0,g=d.length;u<g;++u)for(var f,M=d[u],P=0,tt=M.length;P<tt;++P)(f=M[P])&&(yield f)}};var Jn=.7,ta=1/Jn,ea="\\s*([+-]?\\d+)\\s*",ra="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ia="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",na=/^#([0-9a-f]{3,8})$/,aa=new RegExp(`^rgb\\(${ea},${ea},${ea}\\)$`),oa=new RegExp(`^rgb\\(${ia},${ia},${ia}\\)$`),sa=new RegExp(`^rgba\\(${ea},${ea},${ea},${ra}\\)$`),la=new RegExp(`^rgba\\(${ia},${ia},${ia},${ra}\\)$`),ca=new RegExp(`^hsl\\(${ra},${ia},${ia}\\)$`),ha=new RegExp(`^hsla\\(${ra},${ia},${ia},${ra}\\)$`),da={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(d){var u,g;return d=(d+"").trim().toLowerCase(),(u=na.exec(d))?(g=u[1].length,u=parseInt(u[1],16),6===g?rgbn(u):3===g?new Rgb(u>>8&15|u>>4&240,u>>4&15|240&u,(15&u)<<4|15&u,1):8===g?rgba(u>>24&255,u>>16&255,u>>8&255,(255&u)/255):4===g?rgba(u>>12&15|u>>8&240,u>>8&15|u>>4&240,u>>4&15|240&u,((15&u)<<4|15&u)/255):null):(u=aa.exec(d))?new Rgb(u[1],u[2],u[3],1):(u=oa.exec(d))?new Rgb(255*u[1]/100,255*u[2]/100,255*u[3]/100,1):(u=sa.exec(d))?rgba(u[1],u[2],u[3],u[4]):(u=la.exec(d))?rgba(255*u[1]/100,255*u[2]/100,255*u[3]/100,u[4]):(u=ca.exec(d))?hsla(u[1],u[2]/100,u[3]/100,1):(u=ha.exec(d))?hsla(u[1],u[2]/100,u[3]/100,u[4]):da.hasOwnProperty(d)?rgbn(da[d]):"transparent"===d?new Rgb(NaN,NaN,NaN,0):null}function rgbn(d){return new Rgb(d>>16&255,d>>8&255,255&d,1)}function rgba(d,u,g,f){return f<=0&&(d=u=g=NaN),new Rgb(d,u,g,f)}function rgbConvert(d){return d instanceof Color||(d=color(d)),d?new Rgb((d=d.rgb()).r,d.g,d.b,d.opacity):new Rgb}function rgb(d,u,g,f){return 1===arguments.length?rgbConvert(d):new Rgb(d,u,g,null==f?1:f)}function Rgb(d,u,g,f){this.r=+d,this.g=+u,this.b=+g,this.opacity=+f}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const d=clampa(this.opacity);return`${1===d?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===d?")":`, ${d})`}`}function clampa(d){return isNaN(d)?1:Math.max(0,Math.min(1,d))}function clampi(d){return Math.max(0,Math.min(255,Math.round(d)||0))}function hex(d){return((d=clampi(d))<16?"0":"")+d.toString(16)}function hsla(d,u,g,f){return f<=0?d=u=g=NaN:g<=0||g>=1?d=u=NaN:u<=0&&(d=NaN),new Hsl(d,u,g,f)}function hslConvert(d){if(d instanceof Hsl)return new Hsl(d.h,d.s,d.l,d.opacity);if(d instanceof Color||(d=color(d)),!d)return new Hsl;if(d instanceof Hsl)return d;var u=(d=d.rgb()).r/255,g=d.g/255,f=d.b/255,M=Math.min(u,g,f),P=Math.max(u,g,f),tt=NaN,rt=P-M,it=(P+M)/2;return rt?(tt=u===P?(g-f)/rt+6*(g<f):g===P?(f-u)/rt+2:(u-g)/rt+4,rt/=it<.5?P+M:2-P-M,tt*=60):rt=it>0&&it<1?0:tt,new Hsl(tt,rt,it,d.opacity)}function Hsl(d,u,g,f){this.h=+d,this.s=+u,this.l=+g,this.opacity=+f}function clamph(d){return(d=(d||0)%360)<0?d+360:d}function clampt(d){return Math.max(0,Math.min(1,d||0))}function hsl2rgb(d,u,g){return 255*(d<60?u+(g-u)*d/60:d<180?g:d<240?u+(g-u)*(240-d)/60:u)}define(Color,color,{copy(d){return Object.assign(new this.constructor,this,d)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb,extend(Color,{brighter(d){return d=null==d?ta:Math.pow(ta,d),new Rgb(this.r*d,this.g*d,this.b*d,this.opacity)},darker(d){return d=null==d?Jn:Math.pow(Jn,d),new Rgb(this.r*d,this.g*d,this.b*d,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,(function hsl(d,u,g,f){return 1===arguments.length?hslConvert(d):new Hsl(d,u,g,null==f?1:f)}),extend(Color,{brighter(d){return d=null==d?ta:Math.pow(ta,d),new Hsl(this.h,this.s,this.l*d,this.opacity)},darker(d){return d=null==d?Jn:Math.pow(Jn,d),new Hsl(this.h,this.s,this.l*d,this.opacity)},rgb(){var d=this.h%360+360*(this.h<0),u=isNaN(d)||isNaN(this.s)?0:this.s,g=this.l,f=g+(g<.5?g:1-g)*u,M=2*g-f;return new Rgb(hsl2rgb(d>=240?d-240:d+120,M,f),hsl2rgb(d,M,f),hsl2rgb(d<120?d+240:d-120,M,f),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const d=clampa(this.opacity);return`${1===d?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===d?")":`, ${d})`}`}}));const constant$2=d=>()=>d;function linear(d,u){return function(g){return d+g*u}}function hue(d,u){var g=u-d;return g?linear(d,g>180||g<-180?g-360*Math.round(g/360):g):constant$2(isNaN(d)?u:d)}function gamma(d){return 1==(d=+d)?nogamma:function(u,g){return g-u?function exponential(d,u,g){return d=Math.pow(d,g),u=Math.pow(u,g)-d,g=1/g,function(f){return Math.pow(d+f*u,g)}}(u,g,d):constant$2(isNaN(u)?g:u)}}function nogamma(d,u){var g=u-d;return g?linear(d,g):constant$2(isNaN(d)?u:d)}const ua=function rgbGamma(d){var u=gamma(d);function rgb$1(d,g){var f=u((d=rgb(d)).r,(g=rgb(g)).r),M=u(d.g,g.g),P=u(d.b,g.b),tt=nogamma(d.opacity,g.opacity);return function(u){return d.r=f(u),d.g=M(u),d.b=P(u),d.opacity=tt(u),d+""}}return rgb$1.gamma=rgbGamma,rgb$1}(1);function interpolateNumber(d,u){return d=+d,u=+u,function(g){return d*(1-g)+u*g}}var pa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ga=new RegExp(pa.source,"g");function interpolateString(d,u){var g,f,M,P=pa.lastIndex=ga.lastIndex=0,tt=-1,rt=[],it=[];for(d+="",u+="";(g=pa.exec(d))&&(f=ga.exec(u));)(M=f.index)>P&&(M=u.slice(P,M),rt[tt]?rt[tt]+=M:rt[++tt]=M),(g=g[0])===(f=f[0])?rt[tt]?rt[tt]+=f:rt[++tt]=f:(rt[++tt]=null,it.push({i:tt,x:interpolateNumber(g,f)})),P=ga.lastIndex;return P<u.length&&(M=u.slice(P),rt[tt]?rt[tt]+=M:rt[++tt]=M),rt.length<2?it[0]?function one(d){return function(u){return d(u)+""}}(it[0].x):function zero(d){return function(){return d}}(u):(u=it.length,function(d){for(var g,f=0;f<u;++f)rt[(g=it[f]).i]=g.x(d);return rt.join("")})}var fa,ma=180/Math.PI,ya={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(d,u,g,f,M,P){var tt,rt,it;return(tt=Math.sqrt(d*d+u*u))&&(d/=tt,u/=tt),(it=d*g+u*f)&&(g-=d*it,f-=u*it),(rt=Math.sqrt(g*g+f*f))&&(g/=rt,f/=rt,it/=rt),d*f<u*g&&(d=-d,u=-u,it=-it,tt=-tt),{translateX:M,translateY:P,rotate:Math.atan2(u,d)*ma,skewX:Math.atan(it)*ma,scaleX:tt,scaleY:rt}}function interpolateTransform(d,u,g,f){function pop(d){return d.length?d.pop()+" ":""}return function(M,P){var tt=[],rt=[];return M=d(M),P=d(P),function translate(d,f,M,P,tt,rt){if(d!==M||f!==P){var it=tt.push("translate(",null,u,null,g);rt.push({i:it-4,x:interpolateNumber(d,M)},{i:it-2,x:interpolateNumber(f,P)})}else(M||P)&&tt.push("translate("+M+u+P+g)}(M.translateX,M.translateY,P.translateX,P.translateY,tt,rt),function rotate(d,u,g,M){d!==u?(d-u>180?u+=360:u-d>180&&(d+=360),M.push({i:g.push(pop(g)+"rotate(",null,f)-2,x:interpolateNumber(d,u)})):u&&g.push(pop(g)+"rotate("+u+f)}(M.rotate,P.rotate,tt,rt),function skewX(d,u,g,M){d!==u?M.push({i:g.push(pop(g)+"skewX(",null,f)-2,x:interpolateNumber(d,u)}):u&&g.push(pop(g)+"skewX("+u+f)}(M.skewX,P.skewX,tt,rt),function scale(d,u,g,f,M,P){if(d!==g||u!==f){var tt=M.push(pop(M)+"scale(",null,",",null,")");P.push({i:tt-4,x:interpolateNumber(d,g)},{i:tt-2,x:interpolateNumber(u,f)})}else 1===g&&1===f||M.push(pop(M)+"scale("+g+","+f+")")}(M.scaleX,M.scaleY,P.scaleX,P.scaleY,tt,rt),M=P=null,function(d){for(var u,g=-1,f=rt.length;++g<f;)tt[(u=rt[g]).i]=u.x(d);return tt.join("")}}}var xa,ba,ka=interpolateTransform((function parseCss(d){const u=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(d+"");return u.isIdentity?ya:decompose(u.a,u.b,u.c,u.d,u.e,u.f)}),"px, ","px)","deg)"),Ca=interpolateTransform((function parseSvg(d){return null==d?ya:(fa||(fa=document.createElementNS("http://www.w3.org/2000/svg","g")),fa.setAttribute("transform",d),(d=fa.transform.baseVal.consolidate())?decompose((d=d.matrix).a,d.b,d.c,d.d,d.e,d.f):ya)}),", ",")",")"),_a=0,wa=0,Sa=0,Ta=0,va=0,Ba=0,La="object"==typeof performance&&performance.now?performance:Date,Aa="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(d){setTimeout(d,17)};function now(){return va||(Aa(clearNow),va=La.now()+Ba)}function clearNow(){va=0}function Timer(){this._call=this._time=this._next=null}function timer(d,u,g){var f=new Timer;return f.restart(d,u,g),f}function wake(){va=(Ta=La.now())+Ba,_a=wa=0;try{!function timerFlush(){now(),++_a;for(var d,u=xa;u;)(d=va-u._time)>=0&&u._call.call(void 0,d),u=u._next;--_a}()}finally{_a=0,function nap(){var d,u,g=xa,f=1/0;for(;g;)g._call?(f>g._time&&(f=g._time),d=g,g=g._next):(u=g._next,g._next=null,g=d?d._next=u:xa=u);ba=d,sleep(f)}(),va=0}}function poke(){var d=La.now(),u=d-Ta;u>1e3&&(Ba-=u,Ta=d)}function sleep(d){_a||(wa&&(wa=clearTimeout(wa)),d-va>24?(d<1/0&&(wa=setTimeout(wake,d-La.now()-Ba)),Sa&&(Sa=clearInterval(Sa))):(Sa||(Ta=La.now(),Sa=setInterval(poke,1e3)),_a=1,Aa(wake)))}function timeout(d,u,g){var f=new Timer;return u=null==u?0:+u,f.restart((g=>{f.stop(),d(g+u)}),u,g),f}Timer.prototype=timer.prototype={constructor:Timer,restart:function(d,u,g){if("function"!=typeof d)throw new TypeError("callback is not a function");g=(null==g?now():+g)+(null==u?0:+u),this._next||ba===this||(ba?ba._next=this:xa=this,ba=this),this._call=d,this._time=g,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var Ma=dispatch("start","end","cancel","interrupt"),Fa=[];function schedule(d,u,g,f,M,P){var tt=d.__transition;if(tt){if(g in tt)return}else d.__transition={};!function create(d,u,g){var f,M=d.__transition;function schedule2(d){g.state=1,g.timer.restart(start2,g.delay,g.time),g.delay<=d&&start2(d-g.delay)}function start2(P){var tt,rt,it,nt;if(1!==g.state)return stop();for(tt in M)if((nt=M[tt]).name===g.name){if(3===nt.state)return timeout(start2);4===nt.state?(nt.state=6,nt.timer.stop(),nt.on.call("interrupt",d,d.__data__,nt.index,nt.group),delete M[tt]):+tt<u&&(nt.state=6,nt.timer.stop(),nt.on.call("cancel",d,d.__data__,nt.index,nt.group),delete M[tt])}if(timeout((function(){3===g.state&&(g.state=4,g.timer.restart(tick,g.delay,g.time),tick(P))})),g.state=2,g.on.call("start",d,d.__data__,g.index,g.group),2===g.state){for(g.state=3,f=new Array(it=g.tween.length),tt=0,rt=-1;tt<it;++tt)(nt=g.tween[tt].value.call(d,d.__data__,g.index,g.group))&&(f[++rt]=nt);f.length=rt+1}}function tick(u){for(var M=u<g.duration?g.ease.call(null,u/g.duration):(g.timer.restart(stop),g.state=5,1),P=-1,tt=f.length;++P<tt;)f[P].call(d,M);5===g.state&&(g.on.call("end",d,d.__data__,g.index,g.group),stop())}function stop(){for(var f in g.state=6,g.timer.stop(),delete M[u],M)return;delete d.__transition}M[u]=g,g.timer=timer(schedule2,0,g.time)}(d,g,{name:u,index:f,group:M,on:Ma,tween:Fa,time:P.time,delay:P.delay,duration:P.duration,ease:P.ease,timer:null,state:0})}function init$1(d,u){var g=get(d,u);if(g.state>0)throw new Error("too late; already scheduled");return g}function set(d,u){var g=get(d,u);if(g.state>3)throw new Error("too late; already running");return g}function get(d,u){var g=d.__transition;if(!g||!(g=g[u]))throw new Error("transition not found");return g}function tweenRemove(d,u){var g,f;return function(){var M=set(this,d),P=M.tween;if(P!==g)for(var tt=0,rt=(f=g=P).length;tt<rt;++tt)if(f[tt].name===u){(f=f.slice()).splice(tt,1);break}M.tween=f}}function tweenFunction(d,u,g){var f,M;if("function"!=typeof g)throw new Error;return function(){var P=set(this,d),tt=P.tween;if(tt!==f){M=(f=tt).slice();for(var rt={name:u,value:g},it=0,nt=M.length;it<nt;++it)if(M[it].name===u){M[it]=rt;break}it===nt&&M.push(rt)}P.tween=M}}function tweenValue(d,u,g){var f=d._id;return d.each((function(){var d=set(this,f);(d.value||(d.value={}))[u]=g.apply(this,arguments)})),function(d){return get(d,f).value[u]}}function interpolate(d,u){var g;return("number"==typeof u?interpolateNumber:u instanceof color?ua:(g=color(u))?(u=g,ua):interpolateString)(d,u)}function attrRemove(d){return function(){this.removeAttribute(d)}}function attrRemoveNS(d){return function(){this.removeAttributeNS(d.space,d.local)}}function attrConstant(d,u,g){var f,M,P=g+"";return function(){var tt=this.getAttribute(d);return tt===P?null:tt===f?M:M=u(f=tt,g)}}function attrConstantNS(d,u,g){var f,M,P=g+"";return function(){var tt=this.getAttributeNS(d.space,d.local);return tt===P?null:tt===f?M:M=u(f=tt,g)}}function attrFunction(d,u,g){var f,M,P;return function(){var tt,rt,it=g(this);if(null!=it)return(tt=this.getAttribute(d))===(rt=it+"")?null:tt===f&&rt===M?P:(M=rt,P=u(f=tt,it));this.removeAttribute(d)}}function attrFunctionNS(d,u,g){var f,M,P;return function(){var tt,rt,it=g(this);if(null!=it)return(tt=this.getAttributeNS(d.space,d.local))===(rt=it+"")?null:tt===f&&rt===M?P:(M=rt,P=u(f=tt,it));this.removeAttributeNS(d.space,d.local)}}function attrTweenNS(d,u){var g,f;function tween(){var M=u.apply(this,arguments);return M!==f&&(g=(f=M)&&function attrInterpolateNS(d,u){return function(g){this.setAttributeNS(d.space,d.local,u.call(this,g))}}(d,M)),g}return tween._value=u,tween}function attrTween(d,u){var g,f;function tween(){var M=u.apply(this,arguments);return M!==f&&(g=(f=M)&&function attrInterpolate(d,u){return function(g){this.setAttribute(d,u.call(this,g))}}(d,M)),g}return tween._value=u,tween}function delayFunction(d,u){return function(){init$1(this,d).delay=+u.apply(this,arguments)}}function delayConstant(d,u){return u=+u,function(){init$1(this,d).delay=u}}function durationFunction(d,u){return function(){set(this,d).duration=+u.apply(this,arguments)}}function durationConstant(d,u){return u=+u,function(){set(this,d).duration=u}}var Ea=selection.prototype.constructor;function styleRemove(d){return function(){this.style.removeProperty(d)}}var $a=0;function Transition(d,u,g,f){this._groups=d,this._parents=u,this._name=g,this._id=f}function newId(){return++$a}var Oa=selection.prototype;Transition.prototype={constructor:Transition,select:function transition_select(d){var u=this._name,g=this._id;"function"!=typeof d&&(d=selector(d));for(var f=this._groups,M=f.length,P=new Array(M),tt=0;tt<M;++tt)for(var rt,it,nt=f[tt],at=nt.length,st=P[tt]=new Array(at),lt=0;lt<at;++lt)(rt=nt[lt])&&(it=d.call(rt,rt.__data__,lt,nt))&&("__data__"in rt&&(it.__data__=rt.__data__),st[lt]=it,schedule(st[lt],u,g,lt,st,get(rt,g)));return new Transition(P,this._parents,u,g)},selectAll:function transition_selectAll(d){var u=this._name,g=this._id;"function"!=typeof d&&(d=selectorAll(d));for(var f=this._groups,M=f.length,P=[],tt=[],rt=0;rt<M;++rt)for(var it,nt=f[rt],at=nt.length,st=0;st<at;++st)if(it=nt[st]){for(var lt,ct=d.call(it,it.__data__,st,nt),ht=get(it,g),dt=0,ut=ct.length;dt<ut;++dt)(lt=ct[dt])&&schedule(lt,u,g,dt,ct,ht);P.push(ct),tt.push(it)}return new Transition(P,tt,u,g)},selectChild:Oa.selectChild,selectChildren:Oa.selectChildren,filter:function transition_filter(d){"function"!=typeof d&&(d=matcher(d));for(var u=this._groups,g=u.length,f=new Array(g),M=0;M<g;++M)for(var P,tt=u[M],rt=tt.length,it=f[M]=[],nt=0;nt<rt;++nt)(P=tt[nt])&&d.call(P,P.__data__,nt,tt)&&it.push(P);return new Transition(f,this._parents,this._name,this._id)},merge:function transition_merge(d){if(d._id!==this._id)throw new Error;for(var u=this._groups,g=d._groups,f=u.length,M=g.length,P=Math.min(f,M),tt=new Array(f),rt=0;rt<P;++rt)for(var it,nt=u[rt],at=g[rt],st=nt.length,lt=tt[rt]=new Array(st),ct=0;ct<st;++ct)(it=nt[ct]||at[ct])&&(lt[ct]=it);for(;rt<f;++rt)tt[rt]=u[rt];return new Transition(tt,this._parents,this._name,this._id)},selection:function transition_selection(){return new Ea(this._groups,this._parents)},transition:function transition_transition(){for(var d=this._name,u=this._id,g=newId(),f=this._groups,M=f.length,P=0;P<M;++P)for(var tt,rt=f[P],it=rt.length,nt=0;nt<it;++nt)if(tt=rt[nt]){var at=get(tt,u);schedule(tt,d,g,nt,rt,{time:at.time+at.delay+at.duration,delay:0,duration:at.duration,ease:at.ease})}return new Transition(f,this._parents,d,g)},call:Oa.call,nodes:Oa.nodes,node:Oa.node,size:Oa.size,empty:Oa.empty,each:Oa.each,on:function transition_on(d,u){var g=this._id;return arguments.length<2?get(this.node(),g).on.on(d):this.each(function onFunction(d,u,g){var f,M,P=function start(d){return(d+"").trim().split(/^|\s+/).every((function(d){var u=d.indexOf(".");return u>=0&&(d=d.slice(0,u)),!d||"start"===d}))}(u)?init$1:set;return function(){var tt=P(this,d),rt=tt.on;rt!==f&&(M=(f=rt).copy()).on(u,g),tt.on=M}}(g,d,u))},attr:function transition_attr(d,u){var g=namespace(d),f="transform"===g?Ca:interpolate;return this.attrTween(d,"function"==typeof u?(g.local?attrFunctionNS:attrFunction)(g,f,tweenValue(this,"attr."+d,u)):null==u?(g.local?attrRemoveNS:attrRemove)(g):(g.local?attrConstantNS:attrConstant)(g,f,u))},attrTween:function transition_attrTween(d,u){var g="attr."+d;if(arguments.length<2)return(g=this.tween(g))&&g._value;if(null==u)return this.tween(g,null);if("function"!=typeof u)throw new Error;var f=namespace(d);return this.tween(g,(f.local?attrTweenNS:attrTween)(f,u))},style:function transition_style(d,u,g){var f="transform"==(d+="")?ka:interpolate;return null==u?this.styleTween(d,function styleNull(d,u){var g,f,M;return function(){var P=styleValue(this,d),tt=(this.style.removeProperty(d),styleValue(this,d));return P===tt?null:P===g&&tt===f?M:M=u(g=P,f=tt)}}(d,f)).on("end.style."+d,styleRemove(d)):"function"==typeof u?this.styleTween(d,function styleFunction(d,u,g){var f,M,P;return function(){var tt=styleValue(this,d),rt=g(this),it=rt+"";return null==rt&&(this.style.removeProperty(d),it=rt=styleValue(this,d)),tt===it?null:tt===f&&it===M?P:(M=it,P=u(f=tt,rt))}}(d,f,tweenValue(this,"style."+d,u))).each(function styleMaybeRemove(d,u){var g,f,M,P,tt="style."+u,rt="end."+tt;return function(){var it=set(this,d),nt=it.on,at=null==it.value[tt]?P||(P=styleRemove(u)):void 0;nt===g&&M===at||(f=(g=nt).copy()).on(rt,M=at),it.on=f}}(this._id,d)):this.styleTween(d,function styleConstant(d,u,g){var f,M,P=g+"";return function(){var tt=styleValue(this,d);return tt===P?null:tt===f?M:M=u(f=tt,g)}}(d,f,u),g).on("end.style."+d,null)},styleTween:function transition_styleTween(d,u,g){var f="style."+(d+="");if(arguments.length<2)return(f=this.tween(f))&&f._value;if(null==u)return this.tween(f,null);if("function"!=typeof u)throw new Error;return this.tween(f,function styleTween(d,u,g){var f,M;function tween(){var P=u.apply(this,arguments);return P!==M&&(f=(M=P)&&function styleInterpolate(d,u,g){return function(f){this.style.setProperty(d,u.call(this,f),g)}}(d,P,g)),f}return tween._value=u,tween}(d,u,null==g?"":g))},text:function transition_text(d){return this.tween("text","function"==typeof d?function textFunction(d){return function(){var u=d(this);this.textContent=null==u?"":u}}(tweenValue(this,"text",d)):function textConstant(d){return function(){this.textContent=d}}(null==d?"":d+""))},textTween:function transition_textTween(d){var u="text";if(arguments.length<1)return(u=this.tween(u))&&u._value;if(null==d)return this.tween(u,null);if("function"!=typeof d)throw new Error;return this.tween(u,function textTween(d){var u,g;function tween(){var f=d.apply(this,arguments);return f!==g&&(u=(g=f)&&function textInterpolate(d){return function(u){this.textContent=d.call(this,u)}}(f)),u}return tween._value=d,tween}(d))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(d){return function(){var u=this.parentNode;for(var g in this.__transition)if(+g!==d)return;u&&u.removeChild(this)}}(this._id))},tween:function transition_tween(d,u){var g=this._id;if(d+="",arguments.length<2){for(var f,M=get(this.node(),g).tween,P=0,tt=M.length;P<tt;++P)if((f=M[P]).name===d)return f.value;return null}return this.each((null==u?tweenRemove:tweenFunction)(g,d,u))},delay:function transition_delay(d){var u=this._id;return arguments.length?this.each(("function"==typeof d?delayFunction:delayConstant)(u,d)):get(this.node(),u).delay},duration:function transition_duration(d){var u=this._id;return arguments.length?this.each(("function"==typeof d?durationFunction:durationConstant)(u,d)):get(this.node(),u).duration},ease:function transition_ease(d){var u=this._id;return arguments.length?this.each(function easeConstant(d,u){if("function"!=typeof u)throw new Error;return function(){set(this,d).ease=u}}(u,d)):get(this.node(),u).ease},easeVarying:function transition_easeVarying(d){if("function"!=typeof d)throw new Error;return this.each(function easeVarying(d,u){return function(){var g=u.apply(this,arguments);if("function"!=typeof g)throw new Error;set(this,d).ease=g}}(this._id,d))},end:function transition_end(){var d,u,g=this,f=g._id,M=g.size();return new Promise((function(P,tt){var rt={value:tt},it={value:function(){0==--M&&P()}};g.each((function(){var g=set(this,f),M=g.on;M!==d&&((u=(d=M).copy())._.cancel.push(rt),u._.interrupt.push(rt),u._.end.push(it)),g.on=u})),0===M&&P()}))},[Symbol.iterator]:Oa[Symbol.iterator]};var Pa={time:null,delay:0,duration:250,ease:function cubicInOut(d){return((d*=2)<=1?d*d*d:(d-=2)*d*d+2)/2}};function inherit(d,u){for(var g;!(g=d.__transition)||!(g=g[u]);)if(!(d=d.parentNode))throw new Error(`transition ${u} not found`);return g}selection.prototype.interrupt=function selection_interrupt(d){return this.each((function(){!function interrupt(d,u){var g,f,M,P=d.__transition,tt=!0;if(P){for(M in u=null==u?null:u+"",P)(g=P[M]).name===u?(f=g.state>2&&g.state<5,g.state=6,g.timer.stop(),g.on.call(f?"interrupt":"cancel",d,d.__data__,g.index,g.group),delete P[M]):tt=!1;tt&&delete d.__transition}}(this,d)}))},selection.prototype.transition=function selection_transition(d){var u,g;d instanceof Transition?(u=d._id,d=d._name):(u=newId(),(g=Pa).time=now(),d=null==d?null:d+"");for(var f=this._groups,M=f.length,P=0;P<M;++P)for(var tt,rt=f[P],it=rt.length,nt=0;nt<it;++nt)(tt=rt[nt])&&schedule(tt,d,u,nt,rt,g||inherit(tt,u));return new Transition(f,this._parents,d,u)};const Ia=Math.PI,Da=2*Ia,Ra=1e-6,Na=Da-Ra;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}function constant$1(d){return function constant2(){return d}}Path.prototype=path.prototype={constructor:Path,moveTo:function(d,u){this._+="M"+(this._x0=this._x1=+d)+","+(this._y0=this._y1=+u)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(d,u){this._+="L"+(this._x1=+d)+","+(this._y1=+u)},quadraticCurveTo:function(d,u,g,f){this._+="Q"+ +d+","+ +u+","+(this._x1=+g)+","+(this._y1=+f)},bezierCurveTo:function(d,u,g,f,M,P){this._+="C"+ +d+","+ +u+","+ +g+","+ +f+","+(this._x1=+M)+","+(this._y1=+P)},arcTo:function(d,u,g,f,M){d=+d,u=+u,g=+g,f=+f,M=+M;var P=this._x1,tt=this._y1,rt=g-d,it=f-u,nt=P-d,at=tt-u,st=nt*nt+at*at;if(M<0)throw new Error("negative radius: "+M);if(null===this._x1)this._+="M"+(this._x1=d)+","+(this._y1=u);else if(st>Ra)if(Math.abs(at*rt-it*nt)>Ra&&M){var lt=g-P,ct=f-tt,ht=rt*rt+it*it,dt=lt*lt+ct*ct,ut=Math.sqrt(ht),pt=Math.sqrt(st),gt=M*Math.tan((Ia-Math.acos((ht+st-dt)/(2*ut*pt)))/2),ft=gt/pt,mt=gt/ut;Math.abs(ft-1)>Ra&&(this._+="L"+(d+ft*nt)+","+(u+ft*at)),this._+="A"+M+","+M+",0,0,"+ +(at*lt>nt*ct)+","+(this._x1=d+mt*rt)+","+(this._y1=u+mt*it)}else this._+="L"+(this._x1=d)+","+(this._y1=u);else;},arc:function(d,u,g,f,M,P){d=+d,u=+u,P=!!P;var tt=(g=+g)*Math.cos(f),rt=g*Math.sin(f),it=d+tt,nt=u+rt,at=1^P,st=P?f-M:M-f;if(g<0)throw new Error("negative radius: "+g);null===this._x1?this._+="M"+it+","+nt:(Math.abs(this._x1-it)>Ra||Math.abs(this._y1-nt)>Ra)&&(this._+="L"+it+","+nt),g&&(st<0&&(st=st%Da+Da),st>Na?this._+="A"+g+","+g+",0,1,"+at+","+(d-tt)+","+(u-rt)+"A"+g+","+g+",0,1,"+at+","+(this._x1=it)+","+(this._y1=nt):st>Ra&&(this._+="A"+g+","+g+",0,"+ +(st>=Ia)+","+at+","+(this._x1=d+g*Math.cos(M))+","+(this._y1=u+g*Math.sin(M))))},rect:function(d,u,g,f){this._+="M"+(this._x0=this._x1=+d)+","+(this._y0=this._y1=+u)+"h"+ +g+"v"+ +f+"h"+-g+"Z"},toString:function(){return this._}};const za=Math.abs,qa=Math.atan2,Wa=Math.cos,ja=Math.max,Ha=Math.min,Ya=Math.sin,Ga=Math.sqrt,Ua=1e-12,Va=Math.PI,Xa=Va/2,Za=2*Va;function acos(d){return d>1?0:d<-1?Va:Math.acos(d)}function asin(d){return d>=1?Xa:d<=-1?-Xa:Math.asin(d)}function array(d){return"object"==typeof d&&"length"in d?d:Array.from(d)}function Linear(d){this._context=d}function curveLinear(d){return new Linear(d)}function x$1(d){return d[0]}function y$1(d){return d[1]}function line$1(d,u){var g=constant$1(!0),f=null,M=curveLinear,P=null;function line2(tt){var rt,it,nt,at=(tt=array(tt)).length,st=!1;for(null==f&&(P=M(nt=path())),rt=0;rt<=at;++rt)!(rt<at&&g(it=tt[rt],rt,tt))===st&&((st=!st)?P.lineStart():P.lineEnd()),st&&P.point(+d(it,rt,tt),+u(it,rt,tt));if(nt)return P=null,nt+""||null}return d="function"==typeof d?d:void 0===d?x$1:constant$1(d),u="function"==typeof u?u:void 0===u?y$1:constant$1(u),line2.x=function(u){return arguments.length?(d="function"==typeof u?u:constant$1(+u),line2):d},line2.y=function(d){return arguments.length?(u="function"==typeof d?d:constant$1(+d),line2):u},line2.defined=function(d){return arguments.length?(g="function"==typeof d?d:constant$1(!!d),line2):g},line2.curve=function(d){return arguments.length?(M=d,null!=f&&(P=M(f)),line2):M},line2.context=function(d){return arguments.length?(null==d?f=P=null:P=M(f=d),line2):f},line2}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;default:this._context.lineTo(d,u)}}};class Bump{constructor(d,u){this._context=d,this._x=u}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+d)/2,this._y0,this._x0,u,d,u):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+u)/2,d,this._y0,d,u)}this._x0=d,this._y0=u}}function noop(){}function point$4(d,u,g){d._context.bezierCurveTo((2*d._x0+d._x1)/3,(2*d._y0+d._y1)/3,(d._x0+2*d._x1)/3,(d._y0+2*d._y1)/3,(d._x0+4*d._x1+u)/6,(d._y0+4*d._y1+g)/6)}function Basis(d){this._context=d}function curveBasis(d){return new Basis(d)}function BasisClosed(d){this._context=d}function BasisOpen(d){this._context=d}function Bundle(d,u){this._basis=new Basis(d),this._beta=u}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$4(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$4(this,d,u)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=u}},BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._x2=d,this._y2=u;break;case 1:this._point=2,this._x3=d,this._y3=u;break;case 2:this._point=3,this._x4=d,this._y4=u,this._context.moveTo((this._x0+4*this._x1+d)/6,(this._y0+4*this._y1+u)/6);break;default:point$4(this,d,u)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=u}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var g=(this._x0+4*this._x1+d)/6,f=(this._y0+4*this._y1+u)/6;this._line?this._context.lineTo(g,f):this._context.moveTo(g,f);break;case 3:this._point=4;default:point$4(this,d,u)}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=u}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var d=this._x,u=this._y,g=d.length-1;if(g>0)for(var f,M=d[0],P=u[0],tt=d[g]-M,rt=u[g]-P,it=-1;++it<=g;)f=it/g,this._basis.point(this._beta*d[it]+(1-this._beta)*(M+f*tt),this._beta*u[it]+(1-this._beta)*(P+f*rt));this._x=this._y=null,this._basis.lineEnd()},point:function(d,u){this._x.push(+d),this._y.push(+u)}};const Qa=function custom(d){function bundle(u){return 1===d?new Basis(u):new Bundle(u,d)}return bundle.beta=function(d){return custom(+d)},bundle}(.85);function point$3(d,u,g){d._context.bezierCurveTo(d._x1+d._k*(d._x2-d._x0),d._y1+d._k*(d._y2-d._y0),d._x2+d._k*(d._x1-u),d._y2+d._k*(d._y1-g),d._x2,d._y2)}function Cardinal(d,u){this._context=d,this._k=(1-u)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$3(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2,this._x1=d,this._y1=u;break;case 2:this._point=3;default:point$3(this,d,u)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const Ka=function custom2(d){function cardinal(u){return new Cardinal(u,d)}return cardinal.tension=function(d){return custom2(+d)},cardinal}(0);function CardinalClosed(d,u){this._context=d,this._k=(1-u)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._x3=d,this._y3=u;break;case 1:this._point=2,this._context.moveTo(this._x4=d,this._y4=u);break;case 2:this._point=3,this._x5=d,this._y5=u;break;default:point$3(this,d,u)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const Ja=function custom3(d){function cardinal(u){return new CardinalClosed(u,d)}return cardinal.tension=function(d){return custom3(+d)},cardinal}(0);function CardinalOpen(d,u){this._context=d,this._k=(1-u)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$3(this,d,u)}this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const to=function custom4(d){function cardinal(u){return new CardinalOpen(u,d)}return cardinal.tension=function(d){return custom4(+d)},cardinal}(0);function point$2(d,u,g){var f=d._x1,M=d._y1,P=d._x2,tt=d._y2;if(d._l01_a>Ua){var rt=2*d._l01_2a+3*d._l01_a*d._l12_a+d._l12_2a,it=3*d._l01_a*(d._l01_a+d._l12_a);f=(f*rt-d._x0*d._l12_2a+d._x2*d._l01_2a)/it,M=(M*rt-d._y0*d._l12_2a+d._y2*d._l01_2a)/it}if(d._l23_a>Ua){var nt=2*d._l23_2a+3*d._l23_a*d._l12_a+d._l12_2a,at=3*d._l23_a*(d._l23_a+d._l12_a);P=(P*nt+d._x1*d._l23_2a-u*d._l12_2a)/at,tt=(tt*nt+d._y1*d._l23_2a-g*d._l12_2a)/at}d._context.bezierCurveTo(f,M,P,tt,d._x2,d._y2)}function CatmullRom(d,u){this._context=d,this._alpha=u}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){if(d=+d,u=+u,this._point){var g=this._x2-d,f=this._y2-u;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(g*g+f*f,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;break;case 2:this._point=3;default:point$2(this,d,u)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const eo=function custom5(d){function catmullRom(u){return d?new CatmullRom(u,d):new Cardinal(u,0)}return catmullRom.alpha=function(d){return custom5(+d)},catmullRom}(.5);function CatmullRomClosed(d,u){this._context=d,this._alpha=u}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(d,u){if(d=+d,u=+u,this._point){var g=this._x2-d,f=this._y2-u;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(g*g+f*f,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=d,this._y3=u;break;case 1:this._point=2,this._context.moveTo(this._x4=d,this._y4=u);break;case 2:this._point=3,this._x5=d,this._y5=u;break;default:point$2(this,d,u)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const ro=function custom6(d){function catmullRom(u){return d?new CatmullRomClosed(u,d):new CardinalClosed(u,0)}return catmullRom.alpha=function(d){return custom6(+d)},catmullRom}(.5);function CatmullRomOpen(d,u){this._context=d,this._alpha=u}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){if(d=+d,u=+u,this._point){var g=this._x2-d,f=this._y2-u;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(g*g+f*f,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,d,u)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=d,this._y0=this._y1,this._y1=this._y2,this._y2=u}};const io=function custom7(d){function catmullRom(u){return d?new CatmullRomOpen(u,d):new CardinalOpen(u,0)}return catmullRom.alpha=function(d){return custom7(+d)},catmullRom}(.5);function LinearClosed(d){this._context=d}function sign(d){return d<0?-1:1}function slope3(d,u,g){var f=d._x1-d._x0,M=u-d._x1,P=(d._y1-d._y0)/(f||M<0&&-0),tt=(g-d._y1)/(M||f<0&&-0),rt=(P*M+tt*f)/(f+M);return(sign(P)+sign(tt))*Math.min(Math.abs(P),Math.abs(tt),.5*Math.abs(rt))||0}function slope2(d,u){var g=d._x1-d._x0;return g?(3*(d._y1-d._y0)/g-u)/2:u}function point$1(d,u,g){var f=d._x0,M=d._y0,P=d._x1,tt=d._y1,rt=(P-f)/3;d._context.bezierCurveTo(f+rt,M+rt*u,P-rt,tt-rt*g,P,tt)}function MonotoneX(d){this._context=d}function MonotoneY(d){this._context=new ReflectContext(d)}function ReflectContext(d){this._context=d}function Natural(d){this._context=d}function controlPoints(d){var u,g,f=d.length-1,M=new Array(f),P=new Array(f),tt=new Array(f);for(M[0]=0,P[0]=2,tt[0]=d[0]+2*d[1],u=1;u<f-1;++u)M[u]=1,P[u]=4,tt[u]=4*d[u]+2*d[u+1];for(M[f-1]=2,P[f-1]=7,tt[f-1]=8*d[f-1]+d[f],u=1;u<f;++u)g=M[u]/P[u-1],P[u]-=g,tt[u]-=g*tt[u-1];for(M[f-1]=tt[f-1]/P[f-1],u=f-2;u>=0;--u)M[u]=(tt[u]-M[u+1])/P[u];for(P[f-1]=(d[f]+M[f-1])/2,u=0;u<f-1;++u)P[u]=2*d[u+1]-M[u+1];return[M,P]}function Step(d,u){this._context=d,this._t=u}function Transform(d,u,g){this.k=d,this.x=u,this.y=g}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(d,u){d=+d,u=+u,this._point?this._context.lineTo(d,u):(this._point=1,this._context.moveTo(d,u))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(d,u){var g=NaN;if(u=+u,(d=+d)!==this._x1||u!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,g=slope3(this,d,u)),g);break;default:point$1(this,this._t0,g=slope3(this,d,u))}this._x0=this._x1,this._x1=d,this._y0=this._y1,this._y1=u,this._t0=g}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(d,u){MonotoneX.prototype.point.call(this,u,d)},ReflectContext.prototype={moveTo:function(d,u){this._context.moveTo(u,d)},closePath:function(){this._context.closePath()},lineTo:function(d,u){this._context.lineTo(u,d)},bezierCurveTo:function(d,u,g,f,M,P){this._context.bezierCurveTo(u,d,f,g,P,M)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var d=this._x,u=this._y,g=d.length;if(g)if(this._line?this._context.lineTo(d[0],u[0]):this._context.moveTo(d[0],u[0]),2===g)this._context.lineTo(d[1],u[1]);else for(var f=controlPoints(d),M=controlPoints(u),P=0,tt=1;tt<g;++P,++tt)this._context.bezierCurveTo(f[0][P],M[0][P],f[1][P],M[1][P],d[tt],u[tt]);(this._line||0!==this._line&&1===g)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(d,u){this._x.push(+d),this._y.push(+u)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(d,u){switch(d=+d,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(d,u):this._context.moveTo(d,u);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,u),this._context.lineTo(d,u);else{var g=this._x*(1-this._t)+d*this._t;this._context.lineTo(g,this._y),this._context.lineTo(g,u)}}this._x=d,this._y=u}},Transform.prototype={constructor:Transform,scale:function(d){return 1===d?this:new Transform(this.k*d,this.x,this.y)},translate:function(d,u){return 0===d&0===u?this:new Transform(this.k,this.x+this.k*d,this.y+this.k*u)},apply:function(d){return[d[0]*this.k+this.x,d[1]*this.k+this.y]},applyX:function(d){return d*this.k+this.x},applyY:function(d){return d*this.k+this.y},invert:function(d){return[(d[0]-this.x)/this.k,(d[1]-this.y)/this.k]},invertX:function(d){return(d-this.x)/this.k},invertY:function(d){return(d-this.y)/this.k},rescaleX:function(d){return d.copy().domain(d.range().map(this.invertX,this).map(d.invert,d))},rescaleY:function(d){return d.copy().domain(d.range().map(this.invertY,this).map(d.invert,d))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Transform.prototype;const no="object"==typeof global&&global&&global.Object===Object&&global;var ao="object"==typeof self&&self&&self.Object===Object&&self;const oo=no||ao||Function("return this")();const so=oo.Symbol;var lo=Object.prototype,co=lo.hasOwnProperty,ho=lo.toString,uo=so?so.toStringTag:void 0;var po=Object.prototype.toString;var go=so?so.toStringTag:void 0;function baseGetTag(d){return null==d?void 0===d?"[object Undefined]":"[object Null]":go&&go in Object(d)?function getRawTag(d){var u=co.call(d,uo),g=d[uo];try{d[uo]=void 0;var f=!0}catch(P){}var M=ho.call(d);return f&&(u?d[uo]=g:delete d[uo]),M}(d):function objectToString(d){return po.call(d)}(d)}function isObject(d){var u=typeof d;return null!=d&&("object"==u||"function"==u)}function isFunction(d){if(!isObject(d))return!1;var u=baseGetTag(d);return"[object Function]"==u||"[object GeneratorFunction]"==u||"[object AsyncFunction]"==u||"[object Proxy]"==u}const fo=oo["__core-js_shared__"];var mo,yo=(mo=/[^.]+$/.exec(fo&&fo.keys&&fo.keys.IE_PROTO||""))?"Symbol(src)_1."+mo:"";var xo=Function.prototype.toString;function toSource(d){if(null!=d){try{return xo.call(d)}catch(u){}try{return d+""}catch(u){}}return""}var bo=/^\[object .+?Constructor\]$/,ko=Function.prototype,Co=Object.prototype,_o=ko.toString,wo=Co.hasOwnProperty,So=RegExp("^"+_o.call(wo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(d){return!(!isObject(d)||function isMasked(d){return!!yo&&yo in d}(d))&&(isFunction(d)?So:bo).test(toSource(d))}function getNative(d,u){var g=function getValue(d,u){return null==d?void 0:d[u]}(d,u);return baseIsNative(g)?g:void 0}const To=getNative(Object,"create");var vo=Object.prototype.hasOwnProperty;var Bo=Object.prototype.hasOwnProperty;function Hash(d){var u=-1,g=null==d?0:d.length;for(this.clear();++u<g;){var f=d[u];this.set(f[0],f[1])}}function eq(d,u){return d===u||d!=d&&u!=u}function assocIndexOf(d,u){for(var g=d.length;g--;)if(eq(d[g][0],u))return g;return-1}Hash.prototype.clear=function hashClear(){this.__data__=To?To(null):{},this.size=0},Hash.prototype.delete=function hashDelete(d){var u=this.has(d)&&delete this.__data__[d];return this.size-=u?1:0,u},Hash.prototype.get=function hashGet(d){var u=this.__data__;if(To){var g=u[d];return"__lodash_hash_undefined__"===g?void 0:g}return vo.call(u,d)?u[d]:void 0},Hash.prototype.has=function hashHas(d){var u=this.__data__;return To?void 0!==u[d]:Bo.call(u,d)},Hash.prototype.set=function hashSet(d,u){var g=this.__data__;return this.size+=this.has(d)?0:1,g[d]=To&&void 0===u?"__lodash_hash_undefined__":u,this};var Lo=Array.prototype.splice;function ListCache(d){var u=-1,g=null==d?0:d.length;for(this.clear();++u<g;){var f=d[u];this.set(f[0],f[1])}}ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(d){var u=this.__data__,g=assocIndexOf(u,d);return!(g<0)&&(g==u.length-1?u.pop():Lo.call(u,g,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(d){var u=this.__data__,g=assocIndexOf(u,d);return g<0?void 0:u[g][1]},ListCache.prototype.has=function listCacheHas(d){return assocIndexOf(this.__data__,d)>-1},ListCache.prototype.set=function listCacheSet(d,u){var g=this.__data__,f=assocIndexOf(g,d);return f<0?(++this.size,g.push([d,u])):g[f][1]=u,this};const Ao=getNative(oo,"Map");function getMapData(d,u){var g=d.__data__;return function isKeyable(d){var u=typeof d;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==d:null===d}(u)?g["string"==typeof u?"string":"hash"]:g.map}function MapCache(d){var u=-1,g=null==d?0:d.length;for(this.clear();++u<g;){var f=d[u];this.set(f[0],f[1])}}MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Ao||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(d){var u=getMapData(this,d).delete(d);return this.size-=u?1:0,u},MapCache.prototype.get=function mapCacheGet(d){return getMapData(this,d).get(d)},MapCache.prototype.has=function mapCacheHas(d){return getMapData(this,d).has(d)},MapCache.prototype.set=function mapCacheSet(d,u){var g=getMapData(this,d),f=g.size;return g.set(d,u),this.size+=g.size==f?0:1,this};function memoize(d,u){if("function"!=typeof d||null!=u&&"function"!=typeof u)throw new TypeError("Expected a function");var memoized=function(){var g=arguments,f=u?u.apply(this,g):g[0],M=memoized.cache;if(M.has(f))return M.get(f);var P=d.apply(this,g);return memoized.cache=M.set(f,P)||M,P};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;function Stack(d){var u=this.__data__=new ListCache(d);this.size=u.size}Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(d){var u=this.__data__,g=u.delete(d);return this.size=u.size,g},Stack.prototype.get=function stackGet(d){return this.__data__.get(d)},Stack.prototype.has=function stackHas(d){return this.__data__.has(d)},Stack.prototype.set=function stackSet(d,u){var g=this.__data__;if(g instanceof ListCache){var f=g.__data__;if(!Ao||f.length<199)return f.push([d,u]),this.size=++g.size,this;g=this.__data__=new MapCache(f)}return g.set(d,u),this.size=g.size,this};const Mo=function(){try{var d=getNative(Object,"defineProperty");return d({},"",{}),d}catch(u){}}();function baseAssignValue(d,u,g){"__proto__"==u&&Mo?Mo(d,u,{configurable:!0,enumerable:!0,value:g,writable:!0}):d[u]=g}function assignMergeValue(d,u,g){(void 0!==g&&!eq(d[u],g)||void 0===g&&!(u in d))&&baseAssignValue(d,u,g)}const Fo=function createBaseFor(d){return function(u,g,f){for(var M=-1,P=Object(u),tt=f(u),rt=tt.length;rt--;){var it=tt[d?rt:++M];if(!1===g(P[it],it,P))break}return u}}();var Eo="object"==typeof exports&&exports&&!exports.nodeType&&exports,$o=Eo&&"object"==typeof module&&module&&!module.nodeType&&module,Oo=$o&&$o.exports===Eo?oo.Buffer:void 0,Po=Oo?Oo.allocUnsafe:void 0;function cloneBuffer(d,u){if(u)return d.slice();var g=d.length,f=Po?Po(g):new d.constructor(g);return d.copy(f),f}const Io=oo.Uint8Array;function cloneArrayBuffer(d){var u=new d.constructor(d.byteLength);return new Io(u).set(new Io(d)),u}function cloneTypedArray(d,u){var g=u?cloneArrayBuffer(d.buffer):d.buffer;return new d.constructor(g,d.byteOffset,d.length)}function copyArray(d,u){var g=-1,f=d.length;for(u||(u=Array(f));++g<f;)u[g]=d[g];return u}var Do=Object.create;const Ro=function(){function object(){}return function(d){if(!isObject(d))return{};if(Do)return Do(d);object.prototype=d;var u=new object;return object.prototype=void 0,u}}();function overArg(d,u){return function(g){return d(u(g))}}const No=overArg(Object.getPrototypeOf,Object);var zo=Object.prototype;function isPrototype(d){var u=d&&d.constructor;return d===("function"==typeof u&&u.prototype||zo)}function initCloneObject(d){return"function"!=typeof d.constructor||isPrototype(d)?{}:Ro(No(d))}function isObjectLike(d){return null!=d&&"object"==typeof d}function baseIsArguments(d){return isObjectLike(d)&&"[object Arguments]"==baseGetTag(d)}var qo=Object.prototype,Wo=qo.hasOwnProperty,jo=qo.propertyIsEnumerable;const Ho=baseIsArguments(function(){return arguments}())?baseIsArguments:function(d){return isObjectLike(d)&&Wo.call(d,"callee")&&!jo.call(d,"callee")};const Yo=Array.isArray;function isLength(d){return"number"==typeof d&&d>-1&&d%1==0&&d<=9007199254740991}function isArrayLike(d){return null!=d&&isLength(d.length)&&!isFunction(d)}function isArrayLikeObject(d){return isObjectLike(d)&&isArrayLike(d)}var Go="object"==typeof exports&&exports&&!exports.nodeType&&exports,Uo=Go&&"object"==typeof module&&module&&!module.nodeType&&module,Vo=Uo&&Uo.exports===Go?oo.Buffer:void 0;const Xo=(Vo?Vo.isBuffer:void 0)||function stubFalse(){return!1};var Zo=Function.prototype,Qo=Object.prototype,Ko=Zo.toString,Jo=Qo.hasOwnProperty,ts=Ko.call(Object);var es={};function baseUnary(d){return function(u){return d(u)}}es["[object Float32Array]"]=es["[object Float64Array]"]=es["[object Int8Array]"]=es["[object Int16Array]"]=es["[object Int32Array]"]=es["[object Uint8Array]"]=es["[object Uint8ClampedArray]"]=es["[object Uint16Array]"]=es["[object Uint32Array]"]=!0,es["[object Arguments]"]=es["[object Array]"]=es["[object ArrayBuffer]"]=es["[object Boolean]"]=es["[object DataView]"]=es["[object Date]"]=es["[object Error]"]=es["[object Function]"]=es["[object Map]"]=es["[object Number]"]=es["[object Object]"]=es["[object RegExp]"]=es["[object Set]"]=es["[object String]"]=es["[object WeakMap]"]=!1;var rs="object"==typeof exports&&exports&&!exports.nodeType&&exports,is=rs&&"object"==typeof module&&module&&!module.nodeType&&module,ns=is&&is.exports===rs&&no.process;const as=function(){try{var d=is&&is.require&&is.require("util").types;return d||ns&&ns.binding&&ns.binding("util")}catch(u){}}();var os=as&&as.isTypedArray;const ss=os?baseUnary(os):function baseIsTypedArray(d){return isObjectLike(d)&&isLength(d.length)&&!!es[baseGetTag(d)]};function safeGet(d,u){if(("constructor"!==u||"function"!=typeof d[u])&&"__proto__"!=u)return d[u]}var ls=Object.prototype.hasOwnProperty;function assignValue(d,u,g){var f=d[u];ls.call(d,u)&&eq(f,g)&&(void 0!==g||u in d)||baseAssignValue(d,u,g)}function copyObject(d,u,g,f){var M=!g;g||(g={});for(var P=-1,tt=u.length;++P<tt;){var rt=u[P],it=f?f(g[rt],d[rt],rt,g,d):void 0;void 0===it&&(it=d[rt]),M?baseAssignValue(g,rt,it):assignValue(g,rt,it)}return g}var cs=/^(?:0|[1-9]\d*)$/;function isIndex(d,u){var g=typeof d;return!!(u=null==u?9007199254740991:u)&&("number"==g||"symbol"!=g&&cs.test(d))&&d>-1&&d%1==0&&d<u}var hs=Object.prototype.hasOwnProperty;function arrayLikeKeys(d,u){var g=Yo(d),f=!g&&Ho(d),M=!g&&!f&&Xo(d),P=!g&&!f&&!M&&ss(d),tt=g||f||M||P,rt=tt?function baseTimes(d,u){for(var g=-1,f=Array(d);++g<d;)f[g]=u(g);return f}(d.length,String):[],it=rt.length;for(var nt in d)!u&&!hs.call(d,nt)||tt&&("length"==nt||M&&("offset"==nt||"parent"==nt)||P&&("buffer"==nt||"byteLength"==nt||"byteOffset"==nt)||isIndex(nt,it))||rt.push(nt);return rt}var ds=Object.prototype.hasOwnProperty;function baseKeysIn(d){if(!isObject(d))return function nativeKeysIn(d){var u=[];if(null!=d)for(var g in Object(d))u.push(g);return u}(d);var u=isPrototype(d),g=[];for(var f in d)("constructor"!=f||!u&&ds.call(d,f))&&g.push(f);return g}function keysIn(d){return isArrayLike(d)?arrayLikeKeys(d,!0):baseKeysIn(d)}function baseMergeDeep(d,u,g,f,M,P,tt){var rt=safeGet(d,g),it=safeGet(u,g),nt=tt.get(it);if(nt)assignMergeValue(d,g,nt);else{var at=P?P(rt,it,g+"",d,u,tt):void 0,st=void 0===at;if(st){var lt=Yo(it),ct=!lt&&Xo(it),ht=!lt&&!ct&&ss(it);at=it,lt||ct||ht?Yo(rt)?at=rt:isArrayLikeObject(rt)?at=copyArray(rt):ct?(st=!1,at=cloneBuffer(it,!0)):ht?(st=!1,at=cloneTypedArray(it,!0)):at=[]:function isPlainObject(d){if(!isObjectLike(d)||"[object Object]"!=baseGetTag(d))return!1;var u=No(d);if(null===u)return!0;var g=Jo.call(u,"constructor")&&u.constructor;return"function"==typeof g&&g instanceof g&&Ko.call(g)==ts}(it)||Ho(it)?(at=rt,Ho(rt)?at=function toPlainObject(d){return copyObject(d,keysIn(d))}(rt):isObject(rt)&&!isFunction(rt)||(at=initCloneObject(it))):st=!1}st&&(tt.set(it,at),M(at,it,f,P,tt),tt.delete(it)),assignMergeValue(d,g,at)}}function baseMerge(d,u,g,f,M){d!==u&&Fo(u,(function(P,tt){if(M||(M=new Stack),isObject(P))baseMergeDeep(d,u,tt,g,baseMerge,f,M);else{var rt=f?f(safeGet(d,tt),P,tt+"",d,u,M):void 0;void 0===rt&&(rt=P),assignMergeValue(d,tt,rt)}}),keysIn)}function identity(d){return d}var us=Math.max;function overRest(d,u,g){return u=us(void 0===u?d.length-1:u,0),function(){for(var f=arguments,M=-1,P=us(f.length-u,0),tt=Array(P);++M<P;)tt[M]=f[u+M];M=-1;for(var rt=Array(u+1);++M<u;)rt[M]=f[M];return rt[u]=g(tt),function apply(d,u,g){switch(g.length){case 0:return d.call(u);case 1:return d.call(u,g[0]);case 2:return d.call(u,g[0],g[1]);case 3:return d.call(u,g[0],g[1],g[2])}return d.apply(u,g)}(d,this,rt)}}function constant(d){return function(){return d}}const ps=Mo?function(d,u){return Mo(d,"toString",{configurable:!0,enumerable:!1,value:constant(u),writable:!0})}:identity;var gs=Date.now;const fs=function shortOut(d){var u=0,g=0;return function(){var f=gs(),M=16-(f-g);if(g=f,M>0){if(++u>=800)return arguments[0]}else u=0;return d.apply(void 0,arguments)}}(ps);function baseRest(d,u){return fs(overRest(d,u,identity),d+"")}function isIterateeCall(d,u,g){if(!isObject(g))return!1;var f=typeof u;return!!("number"==f?isArrayLike(g)&&isIndex(u,g.length):"string"==f&&u in g)&&eq(g[u],d)}function createAssigner(d){return baseRest((function(u,g){var f=-1,M=g.length,P=M>1?g[M-1]:void 0,tt=M>2?g[2]:void 0;for(P=d.length>3&&"function"==typeof P?(M--,P):void 0,tt&&isIterateeCall(g[0],g[1],tt)&&(P=M<3?void 0:P,M=1),u=Object(u);++f<M;){var rt=g[f];rt&&d(u,rt,f,P)}return u}))}const ms=createAssigner((function(d,u,g){baseMerge(d,u,g)}));var ys="​",xs={curveBasis:curveBasis,curveBasisClosed:function curveBasisClosed(d){return new BasisClosed(d)},curveBasisOpen:function curveBasisOpen(d){return new BasisOpen(d)},curveBumpX:function bumpX(d){return new Bump(d,!0)},curveBumpY:function bumpY(d){return new Bump(d,!1)},curveBundle:Qa,curveCardinalClosed:Ja,curveCardinalOpen:to,curveCardinal:Ka,curveCatmullRomClosed:ro,curveCatmullRomOpen:io,curveCatmullRom:eo,curveLinear:curveLinear,curveLinearClosed:function curveLinearClosed(d){return new LinearClosed(d)},curveMonotoneX:function monotoneX(d){return new MonotoneX(d)},curveMonotoneY:function monotoneY(d){return new MonotoneY(d)},curveNatural:function curveNatural(d){return new Natural(d)},curveStep:function curveStep(d){return new Step(d,.5)},curveStepAfter:function stepAfter(d){return new Step(d,1)},curveStepBefore:function stepBefore(d){return new Step(d,0)}},bs=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,ks=__name((function(d,u){const g=Cs(d,/(?:init\b)|(?:initialize\b)/);let f={};if(Array.isArray(g)){const d=g.map((d=>d.args));or(d),f=qe(f,[...d])}else f=g.args;if(!f)return;let M=Ie(d,u);const P="config";return void 0!==f[P]&&("flowchart-v2"===M&&(M="flowchart"),f[M]=f[P],delete f[P]),f}),"detectInit"),Cs=__name((function(d,u=null){try{const g=new RegExp(`[%]{2}(?![{]${bs.source})(?=[}][%]{2}).*\n`,"ig");let f;d=d.trim().replace(g,"").replace(/'/gm,'"'),Le.debug(`Detecting diagram directive${null!==u?" type:"+u:""} based on the text:${d}`);const M=[];for(;null!==(f=Ee.exec(d));)if(f.index===Ee.lastIndex&&Ee.lastIndex++,f&&!u||u&&f[1]?.match(u)||u&&f[2]?.match(u)){const d=f[1]?f[1]:f[2],u=f[3]?f[3].trim():f[4]?JSON.parse(f[4].trim()):null;M.push({type:d,args:u})}return 0===M.length?{type:d,args:null}:1===M.length?M[0]:M}catch(g){return Le.error(`ERROR: ${g.message} - Unable to parse directive type: '${u}' based on the text: '${d}'`),{type:void 0,args:null}}}),"detectDirective"),_s=__name((function(d){return d.replace(Ee,"")}),"removeDirectives"),ws=__name((function(d,u){for(const[g,f]of u.entries())if(f.match(d))return g;return-1}),"isSubstringInArray");function interpolateToCurve(d,u){if(!d)return u;const g=`curve${d.charAt(0).toUpperCase()+d.slice(1)}`;return xs[g]??u}function formatUrl(d,u){const g=d.trim();if(g)return"loose"!==u.securityLevel?Yn(g):g}__name(interpolateToCurve,"interpolateToCurve"),__name(formatUrl,"formatUrl");var Ss=__name(((d,...u)=>{const g=d.split("."),f=g.length-1,M=g[f];let P=window;for(let tt=0;tt<f;tt++)if(P=P[g[tt]],!P)return void Le.error(`Function name: ${d} not found in window`);P[M](...u)}),"runFunc");function distance(d,u){return d&&u?Math.sqrt(Math.pow(u.x-d.x,2)+Math.pow(u.y-d.y,2)):0}function traverseEdge(d){let u,g=0;d.forEach((d=>{g+=distance(d,u),u=d}));return vs(d,g/2)}function calcLabelPosition(d){return 1===d.length?d[0]:traverseEdge(d)}__name(distance,"distance"),__name(traverseEdge,"traverseEdge"),__name(calcLabelPosition,"calcLabelPosition");var Ts=__name(((d,u=2)=>{const g=Math.pow(10,u);return Math.round(d*g)/g}),"roundNumber"),vs=__name(((d,u)=>{let g,f=u;for(const M of d){if(g){const d=distance(M,g);if(d<f)f-=d;else{const u=f/d;if(u<=0)return g;if(u>=1)return{x:M.x,y:M.y};if(u>0&&u<1)return{x:Ts((1-u)*g.x+u*M.x,5),y:Ts((1-u)*g.y+u*M.y,5)}}}g=M}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint"),Bs=__name(((d,u,g)=>{Le.info(`our points ${JSON.stringify(u)}`),u[0]!==g&&(u=u.reverse());const f=vs(u,25),M=d?10:5,P=Math.atan2(u[0].y-f.y,u[0].x-f.x),tt={x:0,y:0};return tt.x=Math.sin(P)*M+(u[0].x+f.x)/2,tt.y=-Math.cos(P)*M+(u[0].y+f.y)/2,tt}),"calcCardinalityPosition");function calcTerminalLabelPosition(d,u,g){const f=structuredClone(g);Le.info("our points",f),"start_left"!==u&&"start_right"!==u&&f.reverse();const M=vs(f,25+d),P=10+.5*d,tt=Math.atan2(f[0].y-M.y,f[0].x-M.x),rt={x:0,y:0};return"start_left"===u?(rt.x=Math.sin(tt+Math.PI)*P+(f[0].x+M.x)/2,rt.y=-Math.cos(tt+Math.PI)*P+(f[0].y+M.y)/2):"end_right"===u?(rt.x=Math.sin(tt-Math.PI)*P+(f[0].x+M.x)/2-5,rt.y=-Math.cos(tt-Math.PI)*P+(f[0].y+M.y)/2-5):"end_left"===u?(rt.x=Math.sin(tt)*P+(f[0].x+M.x)/2-5,rt.y=-Math.cos(tt)*P+(f[0].y+M.y)/2-5):(rt.x=Math.sin(tt)*P+(f[0].x+M.x)/2,rt.y=-Math.cos(tt)*P+(f[0].y+M.y)/2),rt}function getStylesFromArray(d){let u="",g="";for(const f of d)void 0!==f&&(f.startsWith("color:")||f.startsWith("text-align:")?g=g+f+";":u=u+f+";");return{style:u,labelStyle:g}}__name(calcTerminalLabelPosition,"calcTerminalLabelPosition"),__name(getStylesFromArray,"getStylesFromArray");var Ls=0,As=__name((()=>(Ls++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Ls)),"generateId");function makeRandomHex(d){let u="";const g="0123456789abcdef";for(let f=0;f<d;f++)u+=g.charAt(Math.floor(16*Math.random()));return u}__name(makeRandomHex,"makeRandomHex");var Ms=__name((d=>makeRandomHex(d.length)),"random"),Fs=__name((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj"),Es=__name((function(d,u){const g=u.text.replace(Zr.lineBreakRegex," "),[,f]=zs(u.fontSize),M=d.append("text");M.attr("x",u.x),M.attr("y",u.y),M.style("text-anchor",u.anchor),M.style("font-family",u.fontFamily),M.style("font-size",f),M.style("font-weight",u.fontWeight),M.attr("fill",u.fill),void 0!==u.class&&M.attr("class",u.class);const P=M.append("tspan");return P.attr("x",u.x+2*u.textMargin),P.attr("fill",u.fill),P.text(g),M}),"drawSimpleText"),$s=memoize(((d,u,g)=>{if(!d)return d;if(g=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},g),Zr.lineBreakRegex.test(d))return d;const f=d.split(" ").filter(Boolean),M=[];let P="";return f.forEach(((d,tt)=>{const rt=calculateTextWidth(`${d} `,g),it=calculateTextWidth(P,g);if(rt>u){const{hyphenatedStrings:f,remainingWord:tt}=Os(d,u,"-",g);M.push(P,...f),P=tt}else it+rt>=u?(M.push(P),P=d):P=[P,d].filter(Boolean).join(" ");tt+1===f.length&&M.push(P)})),M.filter((d=>""!==d)).join(g.joinWith)}),((d,u,g)=>`${d}${u}${g.fontSize}${g.fontWeight}${g.fontFamily}${g.joinWith}`)),Os=memoize(((d,u,g="-",f)=>{f=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},f);const M=[...d],P=[];let tt="";return M.forEach(((d,rt)=>{const it=`${tt}${d}`;if(calculateTextWidth(it,f)>=u){const d=rt+1,u=M.length===d,f=`${it}${g}`;P.push(u?it:f),tt=""}else tt=it})),{hyphenatedStrings:P,remainingWord:tt}}),((d,u,g="-",f)=>`${d}${u}${g}${f.fontSize}${f.fontWeight}${f.fontFamily}`));function calculateTextHeight(d,u){return Is(d,u).height}function calculateTextWidth(d,u){return Is(d,u).width}__name(calculateTextHeight,"calculateTextHeight"),__name(calculateTextWidth,"calculateTextWidth");var Ps,Is=memoize(((d,u)=>{const{fontSize:g=12,fontFamily:f="Arial",fontWeight:M=400}=u;if(!d)return{width:0,height:0};const[,P]=zs(g),tt=["sans-serif",f],rt=d.split(Zr.lineBreakRegex),it=[],nt=select("body");if(!nt.remove)return{width:0,height:0,lineHeight:0};const at=nt.append("svg");for(const st of tt){let d=0;const u={width:0,height:0,lineHeight:0};for(const g of rt){const f=Fs();f.text=g||"​";const tt=Es(at,f).style("font-size",P).style("font-weight",M).style("font-family",st),rt=(tt._groups||tt)[0][0].getBBox();if(0===rt.width&&0===rt.height)throw new Error("svg element not in render tree");u.width=Math.round(Math.max(u.width,rt.width)),d=Math.round(rt.height),u.height+=d,u.lineHeight=Math.round(Math.max(u.lineHeight,d))}it.push(u)}at.remove();return it[isNaN(it[1].height)||isNaN(it[1].width)||isNaN(it[1].lineHeight)||it[0].height>it[1].height&&it[0].width>it[1].width&&it[0].lineHeight>it[1].lineHeight?0:1]}),((d,u)=>`${d}${u.fontSize}${u.fontWeight}${u.fontFamily}`)),Ds=(__name(rt=class{constructor(d=!1,u){this.count=0,this.count=u?u.length:0,this.next=d?()=>this.count++:()=>Date.now()}},"InitIDGenerator"),rt),Rs=__name((function(d){return Ps=Ps||document.createElement("div"),d=escape(d).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ps.innerHTML=d,unescape(Ps.textContent)}),"entityDecode");function isDetailedError(d){return"str"in d}__name(isDetailedError,"isDetailedError");var Ns=__name(((d,u,g,f)=>{if(!f)return;const M=d.node()?.getBBox();M&&d.append("text").text(f).attr("text-anchor","middle").attr("x",M.x+M.width/2).attr("y",-g).attr("class",u)}),"insertTitle"),zs=__name((d=>{if("number"==typeof d)return[d,d+"px"];const u=parseInt(d??"",10);return Number.isNaN(u)?[void 0,void 0]:d===String(u)?[u,d+"px"]:[u,d]}),"parseFontSize");function cleanAndMerge(d,u){return ms({},d,u)}__name(cleanAndMerge,"cleanAndMerge");var qs={assignWithDepth:qe,wrapLabel:$s,calculateTextHeight:calculateTextHeight,calculateTextWidth:calculateTextWidth,calculateTextDimensions:Is,cleanAndMerge:cleanAndMerge,detectInit:ks,detectDirective:Cs,isSubstringInArray:ws,interpolateToCurve:interpolateToCurve,calcLabelPosition:calcLabelPosition,calcCardinalityPosition:Bs,calcTerminalLabelPosition:calcTerminalLabelPosition,formatUrl:formatUrl,getStylesFromArray:getStylesFromArray,generateId:As,random:Ms,runFunc:Ss,entityDecode:Rs,insertTitle:Ns,parseFontSize:zs,InitIDGenerator:Ds},Ws=__name((function(d){let u=d;return u=u.replace(/style.*:\S*#.*;/g,(function(d){return d.substring(0,d.length-1)})),u=u.replace(/classDef.*:\S*#.*;/g,(function(d){return d.substring(0,d.length-1)})),u=u.replace(/#\w+;/g,(function(d){const u=d.substring(1,d.length-1);return/^\+?\d+$/.test(u)?"ﬂ°°"+u+"¶ß":"ﬂ°"+u+"¶ß"})),u}),"encodeEntities"),js=__name((function(d){return d.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")}),"decodeEntities"),Hs=__name(((d,u,{counter:g=0,prefix:f,suffix:M})=>`${f?`${f}_`:""}${d}_${u}_${g}${M?`_${M}`:""}`),"getEdgeId");function handleUndefinedAttr(d){return d??null}function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}__name(handleUndefinedAttr,"handleUndefinedAttr");let Ys={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(d){Ys=d}const Gs=/[&<>"']/,Us=new RegExp(Gs.source,"g"),Vs=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Xs=new RegExp(Vs.source,"g"),Zs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=d=>Zs[d];function escape$1(d,u){if(u){if(Gs.test(d))return d.replace(Us,getEscapeReplacement)}else if(Vs.test(d))return d.replace(Xs,getEscapeReplacement);return d}const Qs=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;const Ks=/(^|[^\[])\^/g;function edit(d,u){let g="string"==typeof d?d:d.source;u=u||"";const f={replace:(d,u)=>{let M="string"==typeof u?u:u.source;return M=M.replace(Ks,"$1"),g=g.replace(d,M),f},getRegex:()=>new RegExp(g,u)};return f}function cleanUrl(d){try{d=encodeURI(d).replace(/%25/g,"%")}catch{return null}return d}const Js={exec:()=>null};function splitCells(d,u){const g=d.replace(/\|/g,((d,u,g)=>{let f=!1,M=u;for(;--M>=0&&"\\"===g[M];)f=!f;return f?"|":" |"})).split(/ \|/);let f=0;if(g[0].trim()||g.shift(),g.length>0&&!g[g.length-1].trim()&&g.pop(),u)if(g.length>u)g.splice(u);else for(;g.length<u;)g.push("");for(;f<g.length;f++)g[f]=g[f].trim().replace(/\\\|/g,"|");return g}function rtrim(d,u,g){const f=d.length;if(0===f)return"";let M=0;for(;M<f;){const P=d.charAt(f-M-1);if(P!==u||g){if(P===u||!g)break;M++}else M++}return d.slice(0,f-M)}function outputLink(d,u,g,f){const M=u.href,P=u.title?escape$1(u.title):null,tt=d[1].replace(/\\([\[\]])/g,"$1");if("!"!==d[0].charAt(0)){f.state.inLink=!0;const d={type:"link",raw:g,href:M,title:P,text:tt,tokens:f.inlineTokens(tt)};return f.state.inLink=!1,d}return{type:"image",raw:g,href:M,title:P,text:escape$1(tt)}}class _Tokenizer{options;rules;lexer;constructor(d){this.options=d||Ys}space(d){const u=this.rules.block.newline.exec(d);if(u&&u[0].length>0)return{type:"space",raw:u[0]}}code(d){const u=this.rules.block.code.exec(d);if(u){const d=u[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:u[0],codeBlockStyle:"indented",text:this.options.pedantic?d:rtrim(d,"\n")}}}fences(d){const u=this.rules.block.fences.exec(d);if(u){const d=u[0],g=function indentCodeCompensation(d,u){const g=d.match(/^(\s+)(?:```)/);if(null===g)return u;const f=g[1];return u.split("\n").map((d=>{const u=d.match(/^\s+/);if(null===u)return d;const[g]=u;return g.length>=f.length?d.slice(f.length):d})).join("\n")}(d,u[3]||"");return{type:"code",raw:d,lang:u[2]?u[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):u[2],text:g}}}heading(d){const u=this.rules.block.heading.exec(d);if(u){let d=u[2].trim();if(/#$/.test(d)){const u=rtrim(d,"#");this.options.pedantic?d=u.trim():u&&!/ $/.test(u)||(d=u.trim())}return{type:"heading",raw:u[0],depth:u[1].length,text:d,tokens:this.lexer.inline(d)}}}hr(d){const u=this.rules.block.hr.exec(d);if(u)return{type:"hr",raw:rtrim(u[0],"\n")}}blockquote(d){const u=this.rules.block.blockquote.exec(d);if(u){let d=rtrim(u[0],"\n").split("\n"),g="",f="";const M=[];for(;d.length>0;){let u=!1;const P=[];let tt;for(tt=0;tt<d.length;tt++)if(/^ {0,3}>/.test(d[tt]))P.push(d[tt]),u=!0;else{if(u)break;P.push(d[tt])}d=d.slice(tt);const rt=P.join("\n"),it=rt.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,"\n    $1").replace(/^ {0,3}>[ \t]?/gm,"");g=g?`${g}\n${rt}`:rt,f=f?`${f}\n${it}`:it;const nt=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(it,M,!0),this.lexer.state.top=nt,0===d.length)break;const at=M[M.length-1];if("code"===at?.type)break;if("blockquote"===at?.type){const u=at,P=u.raw+"\n"+d.join("\n"),tt=this.blockquote(P);M[M.length-1]=tt,g=g.substring(0,g.length-u.raw.length)+tt.raw,f=f.substring(0,f.length-u.text.length)+tt.text;break}if("list"!==at?.type);else{const u=at,P=u.raw+"\n"+d.join("\n"),tt=this.list(P);M[M.length-1]=tt,g=g.substring(0,g.length-at.raw.length)+tt.raw,f=f.substring(0,f.length-u.raw.length)+tt.raw,d=P.substring(M[M.length-1].raw.length).split("\n")}}return{type:"blockquote",raw:g,tokens:M,text:f}}}list(d){let u=this.rules.block.list.exec(d);if(u){let g=u[1].trim();const f=g.length>1,M={type:"list",raw:"",ordered:f,start:f?+g.slice(0,-1):"",loose:!1,items:[]};g=f?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=f?g:"[*+-]");const P=new RegExp(`^( {0,3}${g})((?:[\t ][^\\n]*)?(?:\\n|$))`);let tt=!1;for(;d;){let g=!1,f="",rt="";if(!(u=P.exec(d)))break;if(this.rules.block.hr.test(d))break;f=u[0],d=d.substring(f.length);let it=u[2].split("\n",1)[0].replace(/^\t+/,(d=>" ".repeat(3*d.length))),nt=d.split("\n",1)[0],at=!it.trim(),st=0;if(this.options.pedantic?(st=2,rt=it.trimStart()):at?st=u[1].length+1:(st=u[2].search(/[^ ]/),st=st>4?1:st,rt=it.slice(st),st+=u[1].length),at&&/^ *$/.test(nt)&&(f+=nt+"\n",d=d.substring(nt.length+1),g=!0),!g){const u=new RegExp(`^ {0,${Math.min(3,st-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),g=new RegExp(`^ {0,${Math.min(3,st-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,st-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,st-1)}}#`);for(;d;){const tt=d.split("\n",1)[0];if(nt=tt,this.options.pedantic&&(nt=nt.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),M.test(nt))break;if(P.test(nt))break;if(u.test(nt))break;if(g.test(d))break;if(nt.search(/[^ ]/)>=st||!nt.trim())rt+="\n"+nt.slice(st);else{if(at)break;if(it.search(/[^ ]/)>=4)break;if(M.test(it))break;if(P.test(it))break;if(g.test(it))break;rt+="\n"+nt}at||nt.trim()||(at=!0),f+=tt+"\n",d=d.substring(tt.length+1),it=nt.slice(st)}}M.loose||(tt?M.loose=!0:/\n *\n *$/.test(f)&&(tt=!0));let lt,ct=null;this.options.gfm&&(ct=/^\[[ xX]\] /.exec(rt),ct&&(lt="[ ] "!==ct[0],rt=rt.replace(/^\[[ xX]\] +/,""))),M.items.push({type:"list_item",raw:f,task:!!ct,checked:lt,loose:!1,text:rt,tokens:[]}),M.raw+=f}M.items[M.items.length-1].raw=M.items[M.items.length-1].raw.trimEnd(),M.items[M.items.length-1].text=M.items[M.items.length-1].text.trimEnd(),M.raw=M.raw.trimEnd();for(let d=0;d<M.items.length;d++)if(this.lexer.state.top=!1,M.items[d].tokens=this.lexer.blockTokens(M.items[d].text,[]),!M.loose){const u=M.items[d].tokens.filter((d=>"space"===d.type)),g=u.length>0&&u.some((d=>/\n.*\n/.test(d.raw)));M.loose=g}if(M.loose)for(let d=0;d<M.items.length;d++)M.items[d].loose=!0;return M}}html(d){const u=this.rules.block.html.exec(d);if(u){return{type:"html",block:!0,raw:u[0],pre:"pre"===u[1]||"script"===u[1]||"style"===u[1],text:u[0]}}}def(d){const u=this.rules.block.def.exec(d);if(u){const d=u[1].toLowerCase().replace(/\s+/g," "),g=u[2]?u[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",f=u[3]?u[3].substring(1,u[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):u[3];return{type:"def",tag:d,raw:u[0],href:g,title:f}}}table(d){const u=this.rules.block.table.exec(d);if(!u)return;if(!/[:|]/.test(u[2]))return;const g=splitCells(u[1]),f=u[2].replace(/^\||\| *$/g,"").split("|"),M=u[3]&&u[3].trim()?u[3].replace(/\n[ \t]*$/,"").split("\n"):[],P={type:"table",raw:u[0],header:[],align:[],rows:[]};if(g.length===f.length){for(const d of f)/^ *-+: *$/.test(d)?P.align.push("right"):/^ *:-+: *$/.test(d)?P.align.push("center"):/^ *:-+ *$/.test(d)?P.align.push("left"):P.align.push(null);for(let d=0;d<g.length;d++)P.header.push({text:g[d],tokens:this.lexer.inline(g[d]),header:!0,align:P.align[d]});for(const d of M)P.rows.push(splitCells(d,P.header.length).map(((d,u)=>({text:d,tokens:this.lexer.inline(d),header:!1,align:P.align[u]}))));return P}}lheading(d){const u=this.rules.block.lheading.exec(d);if(u)return{type:"heading",raw:u[0],depth:"="===u[2].charAt(0)?1:2,text:u[1],tokens:this.lexer.inline(u[1])}}paragraph(d){const u=this.rules.block.paragraph.exec(d);if(u){const d="\n"===u[1].charAt(u[1].length-1)?u[1].slice(0,-1):u[1];return{type:"paragraph",raw:u[0],text:d,tokens:this.lexer.inline(d)}}}text(d){const u=this.rules.block.text.exec(d);if(u)return{type:"text",raw:u[0],text:u[0],tokens:this.lexer.inline(u[0])}}escape(d){const u=this.rules.inline.escape.exec(d);if(u)return{type:"escape",raw:u[0],text:escape$1(u[1])}}tag(d){const u=this.rules.inline.tag.exec(d);if(u)return!this.lexer.state.inLink&&/^<a /i.test(u[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(u[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(u[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(u[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:u[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:u[0]}}link(d){const u=this.rules.inline.link.exec(d);if(u){const d=u[2].trim();if(!this.options.pedantic&&/^</.test(d)){if(!/>$/.test(d))return;const u=rtrim(d.slice(0,-1),"\\");if((d.length-u.length)%2==0)return}else{const d=function findClosingBracket(d,u){if(-1===d.indexOf(u[1]))return-1;let g=0;for(let f=0;f<d.length;f++)if("\\"===d[f])f++;else if(d[f]===u[0])g++;else if(d[f]===u[1]&&(g--,g<0))return f;return-1}(u[2],"()");if(d>-1){const g=(0===u[0].indexOf("!")?5:4)+u[1].length+d;u[2]=u[2].substring(0,d),u[0]=u[0].substring(0,g).trim(),u[3]=""}}let g=u[2],f="";if(this.options.pedantic){const d=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(g);d&&(g=d[1],f=d[3])}else f=u[3]?u[3].slice(1,-1):"";return g=g.trim(),/^</.test(g)&&(g=this.options.pedantic&&!/>$/.test(d)?g.slice(1):g.slice(1,-1)),outputLink(u,{href:g?g.replace(this.rules.inline.anyPunctuation,"$1"):g,title:f?f.replace(this.rules.inline.anyPunctuation,"$1"):f},u[0],this.lexer)}}reflink(d,u){let g;if((g=this.rules.inline.reflink.exec(d))||(g=this.rules.inline.nolink.exec(d))){const d=u[(g[2]||g[1]).replace(/\s+/g," ").toLowerCase()];if(!d){const d=g[0].charAt(0);return{type:"text",raw:d,text:d}}return outputLink(g,d,g[0],this.lexer)}}emStrong(d,u,g=""){let f=this.rules.inline.emStrongLDelim.exec(d);if(!f)return;if(f[3]&&g.match(/[\p{L}\p{N}]/u))return;if(!(f[1]||f[2]||"")||!g||this.rules.inline.punctuation.exec(g)){const g=[...f[0]].length-1;let M,P,tt=g,rt=0;const it="*"===f[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(it.lastIndex=0,u=u.slice(-1*d.length+g);null!=(f=it.exec(u));){if(M=f[1]||f[2]||f[3]||f[4]||f[5]||f[6],!M)continue;if(P=[...M].length,f[3]||f[4]){tt+=P;continue}if((f[5]||f[6])&&g%3&&!((g+P)%3)){rt+=P;continue}if(tt-=P,tt>0)continue;P=Math.min(P,P+tt+rt);const u=[...f[0]][0].length,it=d.slice(0,g+f.index+u+P);if(Math.min(g,P)%2){const d=it.slice(1,-1);return{type:"em",raw:it,text:d,tokens:this.lexer.inlineTokens(d)}}const nt=it.slice(2,-2);return{type:"strong",raw:it,text:nt,tokens:this.lexer.inlineTokens(nt)}}}}codespan(d){const u=this.rules.inline.code.exec(d);if(u){let d=u[2].replace(/\n/g," ");const g=/[^ ]/.test(d),f=/^ /.test(d)&&/ $/.test(d);return g&&f&&(d=d.substring(1,d.length-1)),d=escape$1(d,!0),{type:"codespan",raw:u[0],text:d}}}br(d){const u=this.rules.inline.br.exec(d);if(u)return{type:"br",raw:u[0]}}del(d){const u=this.rules.inline.del.exec(d);if(u)return{type:"del",raw:u[0],text:u[2],tokens:this.lexer.inlineTokens(u[2])}}autolink(d){const u=this.rules.inline.autolink.exec(d);if(u){let d,g;return"@"===u[2]?(d=escape$1(u[1]),g="mailto:"+d):(d=escape$1(u[1]),g=d),{type:"link",raw:u[0],text:d,href:g,tokens:[{type:"text",raw:d,text:d}]}}}url(d){let u;if(u=this.rules.inline.url.exec(d)){let d,g;if("@"===u[2])d=escape$1(u[0]),g="mailto:"+d;else{let f;do{f=u[0],u[0]=this.rules.inline._backpedal.exec(u[0])?.[0]??""}while(f!==u[0]);d=escape$1(u[0]),g="www."===u[1]?"http://"+u[0]:u[0]}return{type:"link",raw:u[0],text:d,href:g,tokens:[{type:"text",raw:d,text:d}]}}}inlineText(d){const u=this.rules.inline.text.exec(d);if(u){let d;return d=this.lexer.state.inRawBlock?u[0]:escape$1(u[0]),{type:"text",raw:u[0],text:d}}}}const tl=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,el=/(?:[*+-]|\d{1,9}[.)])/,rl=edit(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,el).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),il=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,nl=/(?!\s*\])(?:\\.|[^\[\]\\])+/,al=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",nl).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ol=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,el).getRegex(),sl="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ll=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,cl=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ll).replace("tag",sl).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),hl=edit(il).replace("hr",tl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sl).getRegex(),dl={blockquote:edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",hl).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:al,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:tl,html:cl,lheading:rl,list:ol,newline:/^(?: *(?:\n|$))+/,paragraph:hl,table:Js,text:/^[^\n]+/},ul=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",tl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sl).getRegex(),pl={...dl,table:ul,paragraph:edit(il).replace("hr",tl).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ul).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",sl).getRegex()},gl={...dl,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",ll).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Js,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(il).replace("hr",tl).replace("heading"," *#{1,6} *[^\n]").replace("lheading",rl).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},fl=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ml=/^( {2,}|\\)\n(?!\s*$)/,yl="\\p{P}\\p{S}",xl=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,yl).getRegex(),bl=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,yl).getRegex(),kl=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,yl).getRegex(),Cl=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,yl).getRegex(),_l=edit(/\\([punct])/,"gu").replace(/punct/g,yl).getRegex(),wl=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Sl=edit(ll).replace("(?:--\x3e|$)","--\x3e").getRegex(),Tl=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Sl).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),vl=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Bl=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",vl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ll=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",vl).replace("ref",nl).getRegex(),Al=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",nl).getRegex(),Ml={_backpedal:Js,anyPunctuation:_l,autolink:wl,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:ml,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Js,emStrongLDelim:bl,emStrongRDelimAst:kl,emStrongRDelimUnd:Cl,escape:fl,link:Bl,nolink:Al,punctuation:xl,reflink:Ll,reflinkSearch:edit("reflink|nolink(?!\\()","g").replace("reflink",Ll).replace("nolink",Al).getRegex(),tag:Tl,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Js},Fl={...Ml,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",vl).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",vl).getRegex()},El={...Ml,escape:edit(fl).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},$l={...El,br:edit(ml).replace("{2,}","*").getRegex(),text:edit(El.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ol={normal:dl,gfm:pl,pedantic:gl},Pl={normal:Ml,gfm:El,breaks:$l,pedantic:Fl};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(d){this.tokens=[],this.tokens.links=Object.create(null),this.options=d||Ys,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const u={block:Ol.normal,inline:Pl.normal};this.options.pedantic?(u.block=Ol.pedantic,u.inline=Pl.pedantic):this.options.gfm&&(u.block=Ol.gfm,this.options.breaks?u.inline=Pl.breaks:u.inline=Pl.gfm),this.tokenizer.rules=u}static get rules(){return{block:Ol,inline:Pl}}static lex(d,u){return new _Lexer(u).lex(d)}static lexInline(d,u){return new _Lexer(u).inlineTokens(d)}lex(d){d=d.replace(/\r\n|\r/g,"\n"),this.blockTokens(d,this.tokens);for(let u=0;u<this.inlineQueue.length;u++){const d=this.inlineQueue[u];this.inlineTokens(d.src,d.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(d,u=[],g=!1){let f,M,P;for(d=this.options.pedantic?d.replace(/\t/g,"    ").replace(/^ +$/gm,""):d.replace(/^( *)(\t+)/gm,((d,u,g)=>u+"    ".repeat(g.length)));d;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((g=>!!(f=g.call({lexer:this},d,u))&&(d=d.substring(f.raw.length),u.push(f),!0)))))if(f=this.tokenizer.space(d))d=d.substring(f.raw.length),1===f.raw.length&&u.length>0?u[u.length-1].raw+="\n":u.push(f);else if(f=this.tokenizer.code(d))d=d.substring(f.raw.length),M=u[u.length-1],!M||"paragraph"!==M.type&&"text"!==M.type?u.push(f):(M.raw+="\n"+f.raw,M.text+="\n"+f.text,this.inlineQueue[this.inlineQueue.length-1].src=M.text);else if(f=this.tokenizer.fences(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.heading(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.hr(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.blockquote(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.list(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.html(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.def(d))d=d.substring(f.raw.length),M=u[u.length-1],!M||"paragraph"!==M.type&&"text"!==M.type?this.tokens.links[f.tag]||(this.tokens.links[f.tag]={href:f.href,title:f.title}):(M.raw+="\n"+f.raw,M.text+="\n"+f.raw,this.inlineQueue[this.inlineQueue.length-1].src=M.text);else if(f=this.tokenizer.table(d))d=d.substring(f.raw.length),u.push(f);else if(f=this.tokenizer.lheading(d))d=d.substring(f.raw.length),u.push(f);else{if(P=d,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const g=d.slice(1);let f;this.options.extensions.startBlock.forEach((d=>{f=d.call({lexer:this},g),"number"==typeof f&&f>=0&&(u=Math.min(u,f))})),u<1/0&&u>=0&&(P=d.substring(0,u+1))}if(this.state.top&&(f=this.tokenizer.paragraph(P)))M=u[u.length-1],g&&"paragraph"===M?.type?(M.raw+="\n"+f.raw,M.text+="\n"+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=M.text):u.push(f),g=P.length!==d.length,d=d.substring(f.raw.length);else if(f=this.tokenizer.text(d))d=d.substring(f.raw.length),M=u[u.length-1],M&&"text"===M.type?(M.raw+="\n"+f.raw,M.text+="\n"+f.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=M.text):u.push(f);else if(d){const u="Infinite loop on byte: "+d.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return this.state.top=!0,u}inline(d,u=[]){return this.inlineQueue.push({src:d,tokens:u}),u}inlineTokens(d,u=[]){let g,f,M,P,tt,rt,it=d;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(P=this.tokenizer.rules.inline.reflinkSearch.exec(it));)d.includes(P[0].slice(P[0].lastIndexOf("[")+1,-1))&&(it=it.slice(0,P.index)+"["+"a".repeat(P[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(P=this.tokenizer.rules.inline.blockSkip.exec(it));)it=it.slice(0,P.index)+"["+"a".repeat(P[0].length-2)+"]"+it.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(P=this.tokenizer.rules.inline.anyPunctuation.exec(it));)it=it.slice(0,P.index)+"++"+it.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;d;)if(tt||(rt=""),tt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((f=>!!(g=f.call({lexer:this},d,u))&&(d=d.substring(g.raw.length),u.push(g),!0)))))if(g=this.tokenizer.escape(d))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.tag(d))d=d.substring(g.raw.length),f=u[u.length-1],f&&"text"===g.type&&"text"===f.type?(f.raw+=g.raw,f.text+=g.text):u.push(g);else if(g=this.tokenizer.link(d))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.reflink(d,this.tokens.links))d=d.substring(g.raw.length),f=u[u.length-1],f&&"text"===g.type&&"text"===f.type?(f.raw+=g.raw,f.text+=g.text):u.push(g);else if(g=this.tokenizer.emStrong(d,it,rt))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.codespan(d))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.br(d))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.del(d))d=d.substring(g.raw.length),u.push(g);else if(g=this.tokenizer.autolink(d))d=d.substring(g.raw.length),u.push(g);else if(this.state.inLink||!(g=this.tokenizer.url(d))){if(M=d,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const g=d.slice(1);let f;this.options.extensions.startInline.forEach((d=>{f=d.call({lexer:this},g),"number"==typeof f&&f>=0&&(u=Math.min(u,f))})),u<1/0&&u>=0&&(M=d.substring(0,u+1))}if(g=this.tokenizer.inlineText(M))d=d.substring(g.raw.length),"_"!==g.raw.slice(-1)&&(rt=g.raw.slice(-1)),tt=!0,f=u[u.length-1],f&&"text"===f.type?(f.raw+=g.raw,f.text+=g.text):u.push(g);else if(d){const u="Infinite loop on byte: "+d.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}else d=d.substring(g.raw.length),u.push(g);return u}}class _Renderer{options;parser;constructor(d){this.options=d||Ys}space(d){return""}code({text:d,lang:u,escaped:g}){const f=(u||"").match(/^\S*/)?.[0],M=d.replace(/\n$/,"")+"\n";return f?'<pre><code class="language-'+escape$1(f)+'">'+(g?M:escape$1(M,!0))+"</code></pre>\n":"<pre><code>"+(g?M:escape$1(M,!0))+"</code></pre>\n"}blockquote({tokens:d}){return`<blockquote>\n${this.parser.parse(d)}</blockquote>\n`}html({text:d}){return d}heading({tokens:d,depth:u}){return`<h${u}>${this.parser.parseInline(d)}</h${u}>\n`}hr(d){return"<hr>\n"}list(d){const u=d.ordered,g=d.start;let f="";for(let P=0;P<d.items.length;P++){const u=d.items[P];f+=this.listitem(u)}const M=u?"ol":"ul";return"<"+M+(u&&1!==g?' start="'+g+'"':"")+">\n"+f+"</"+M+">\n"}listitem(d){let u="";if(d.task){const g=this.checkbox({checked:!!d.checked});d.loose?d.tokens.length>0&&"paragraph"===d.tokens[0].type?(d.tokens[0].text=g+" "+d.tokens[0].text,d.tokens[0].tokens&&d.tokens[0].tokens.length>0&&"text"===d.tokens[0].tokens[0].type&&(d.tokens[0].tokens[0].text=g+" "+d.tokens[0].tokens[0].text)):d.tokens.unshift({type:"text",raw:g+" ",text:g+" "}):u+=g+" "}return u+=this.parser.parse(d.tokens,!!d.loose),`<li>${u}</li>\n`}checkbox({checked:d}){return"<input "+(d?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:d}){return`<p>${this.parser.parseInline(d)}</p>\n`}table(d){let u="",g="";for(let M=0;M<d.header.length;M++)g+=this.tablecell(d.header[M]);u+=this.tablerow({text:g});let f="";for(let M=0;M<d.rows.length;M++){const u=d.rows[M];g="";for(let d=0;d<u.length;d++)g+=this.tablecell(u[d]);f+=this.tablerow({text:g})}return f&&(f=`<tbody>${f}</tbody>`),"<table>\n<thead>\n"+u+"</thead>\n"+f+"</table>\n"}tablerow({text:d}){return`<tr>\n${d}</tr>\n`}tablecell(d){const u=this.parser.parseInline(d.tokens),g=d.header?"th":"td";return(d.align?`<${g} align="${d.align}">`:`<${g}>`)+u+`</${g}>\n`}strong({tokens:d}){return`<strong>${this.parser.parseInline(d)}</strong>`}em({tokens:d}){return`<em>${this.parser.parseInline(d)}</em>`}codespan({text:d}){return`<code>${d}</code>`}br(d){return"<br>"}del({tokens:d}){return`<del>${this.parser.parseInline(d)}</del>`}link({href:d,title:u,tokens:g}){const f=this.parser.parseInline(g),M=cleanUrl(d);if(null===M)return f;let P='<a href="'+(d=M)+'"';return u&&(P+=' title="'+u+'"'),P+=">"+f+"</a>",P}image({href:d,title:u,text:g}){const f=cleanUrl(d);if(null===f)return g;let M=`<img src="${d=f}" alt="${g}"`;return u&&(M+=` title="${u}"`),M+=">",M}text(d){return"tokens"in d&&d.tokens?this.parser.parseInline(d.tokens):d.text}}class _TextRenderer{strong({text:d}){return d}em({text:d}){return d}codespan({text:d}){return d}del({text:d}){return d}html({text:d}){return d}text({text:d}){return d}link({text:d}){return""+d}image({text:d}){return""+d}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(d){this.options=d||Ys,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(d,u){return new _Parser(u).parse(d)}static parseInline(d,u){return new _Parser(u).parseInline(d)}parse(d,u=!0){let g="";for(let f=0;f<d.length;f++){const M=d[f];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]){const d=M,u=this.options.extensions.renderers[d.type].call({parser:this},d);if(!1!==u||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){g+=u||"";continue}}const P=M;switch(P.type){case"space":g+=this.renderer.space(P);continue;case"hr":g+=this.renderer.hr(P);continue;case"heading":g+=this.renderer.heading(P);continue;case"code":g+=this.renderer.code(P);continue;case"table":g+=this.renderer.table(P);continue;case"blockquote":g+=this.renderer.blockquote(P);continue;case"list":g+=this.renderer.list(P);continue;case"html":g+=this.renderer.html(P);continue;case"paragraph":g+=this.renderer.paragraph(P);continue;case"text":{let M=P,tt=this.renderer.text(M);for(;f+1<d.length&&"text"===d[f+1].type;)M=d[++f],tt+="\n"+this.renderer.text(M);g+=u?this.renderer.paragraph({type:"paragraph",raw:tt,text:tt,tokens:[{type:"text",raw:tt,text:tt}]}):tt;continue}default:{const d='Token with "'+P.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return g}parseInline(d,u){u=u||this.renderer;let g="";for(let f=0;f<d.length;f++){const M=d[f];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]){const d=this.options.extensions.renderers[M.type].call({parser:this},M);if(!1!==d||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(M.type)){g+=d||"";continue}}const P=M;switch(P.type){case"escape":case"text":g+=u.text(P);break;case"html":g+=u.html(P);break;case"link":g+=u.link(P);break;case"image":g+=u.image(P);break;case"strong":g+=u.strong(P);break;case"em":g+=u.em(P);break;case"codespan":g+=u.codespan(P);break;case"br":g+=u.br(P);break;case"del":g+=u.del(P);break;default:{const d='Token with "'+P.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return g}}class _Hooks{options;constructor(d){this.options=d||Ys}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(d){return d}postprocess(d){return d}processAllTokens(d){return d}}const Il=new class Marked{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#t(_Lexer.lex,_Parser.parse);parseInline=this.#t(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...d){this.use(...d)}walkTokens(d,u){let g=[];for(const f of d)switch(g=g.concat(u.call(this,f)),f.type){case"table":{const d=f;for(const f of d.header)g=g.concat(this.walkTokens(f.tokens,u));for(const f of d.rows)for(const d of f)g=g.concat(this.walkTokens(d.tokens,u));break}case"list":{const d=f;g=g.concat(this.walkTokens(d.items,u));break}default:{const d=f;this.defaults.extensions?.childTokens?.[d.type]?this.defaults.extensions.childTokens[d.type].forEach((f=>{const M=d[f].flat(1/0);g=g.concat(this.walkTokens(M,u))})):d.tokens&&(g=g.concat(this.walkTokens(d.tokens,u)))}}return g}use(...d){const u=this.defaults.extensions||{renderers:{},childTokens:{}};return d.forEach((d=>{const g={...d};if(g.async=this.defaults.async||g.async||!1,d.extensions&&(d.extensions.forEach((d=>{if(!d.name)throw new Error("extension name required");if("renderer"in d){const g=u.renderers[d.name];u.renderers[d.name]=g?function(...u){let f=d.renderer.apply(this,u);return!1===f&&(f=g.apply(this,u)),f}:d.renderer}if("tokenizer"in d){if(!d.level||"block"!==d.level&&"inline"!==d.level)throw new Error("extension level must be 'block' or 'inline'");const g=u[d.level];g?g.unshift(d.tokenizer):u[d.level]=[d.tokenizer],d.start&&("block"===d.level?u.startBlock?u.startBlock.push(d.start):u.startBlock=[d.start]:"inline"===d.level&&(u.startInline?u.startInline.push(d.start):u.startInline=[d.start]))}"childTokens"in d&&d.childTokens&&(u.childTokens[d.name]=d.childTokens)})),g.extensions=u),d.renderer){const u=this.defaults.renderer||new _Renderer(this.defaults);for(const g in d.renderer){if(!(g in u))throw new Error(`renderer '${g}' does not exist`);if(["options","parser"].includes(g))continue;const f=g;let M=d.renderer[f];d.useNewRenderer||(M=this.#e(M,f,u));const P=u[f];u[f]=(...d)=>{let g=M.apply(u,d);return!1===g&&(g=P.apply(u,d)),g||""}}g.renderer=u}if(d.tokenizer){const u=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const g in d.tokenizer){if(!(g in u))throw new Error(`tokenizer '${g}' does not exist`);if(["options","rules","lexer"].includes(g))continue;const f=g,M=d.tokenizer[f],P=u[f];u[f]=(...d)=>{let g=M.apply(u,d);return!1===g&&(g=P.apply(u,d)),g}}g.tokenizer=u}if(d.hooks){const u=this.defaults.hooks||new _Hooks;for(const g in d.hooks){if(!(g in u))throw new Error(`hook '${g}' does not exist`);if("options"===g)continue;const f=g,M=d.hooks[f],P=u[f];_Hooks.passThroughHooks.has(g)?u[f]=d=>{if(this.defaults.async)return Promise.resolve(M.call(u,d)).then((d=>P.call(u,d)));const g=M.call(u,d);return P.call(u,g)}:u[f]=(...d)=>{let g=M.apply(u,d);return!1===g&&(g=P.apply(u,d)),g}}g.hooks=u}if(d.walkTokens){const u=this.defaults.walkTokens,f=d.walkTokens;g.walkTokens=function(d){let g=[];return g.push(f.call(this,d)),u&&(g=g.concat(u.call(this,d))),g}}this.defaults={...this.defaults,...g}})),this}#e(d,u,g){switch(u){case"heading":return function(f){return f.type&&f.type===u?d.call(this,g.parser.parseInline(f.tokens),f.depth,function unescape$1(d){return d.replace(Qs,((d,u)=>"colon"===(u=u.toLowerCase())?":":"#"===u.charAt(0)?"x"===u.charAt(1)?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1)):""))}(g.parser.parseInline(f.tokens,g.parser.textRenderer))):d.apply(this,arguments)};case"code":return function(g){return g.type&&g.type===u?d.call(this,g.text,g.lang,!!g.escaped):d.apply(this,arguments)};case"table":return function(g){if(!g.type||g.type!==u)return d.apply(this,arguments);let f="",M="";for(let d=0;d<g.header.length;d++)M+=this.tablecell({text:g.header[d].text,tokens:g.header[d].tokens,header:!0,align:g.align[d]});f+=this.tablerow({text:M});let P="";for(let d=0;d<g.rows.length;d++){const u=g.rows[d];M="";for(let d=0;d<u.length;d++)M+=this.tablecell({text:u[d].text,tokens:u[d].tokens,header:!1,align:g.align[d]});P+=this.tablerow({text:M})}return d.call(this,f,P)};case"blockquote":return function(g){if(!g.type||g.type!==u)return d.apply(this,arguments);const f=this.parser.parse(g.tokens);return d.call(this,f)};case"list":return function(g){if(!g.type||g.type!==u)return d.apply(this,arguments);const f=g.ordered,M=g.start,P=g.loose;let tt="";for(let d=0;d<g.items.length;d++){const u=g.items[d],f=u.checked,M=u.task;let rt="";if(u.task){const d=this.checkbox({checked:!!f});P?u.tokens.length>0&&"paragraph"===u.tokens[0].type?(u.tokens[0].text=d+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&"text"===u.tokens[0].tokens[0].type&&(u.tokens[0].tokens[0].text=d+" "+u.tokens[0].tokens[0].text)):u.tokens.unshift({type:"text",text:d+" "}):rt+=d+" "}rt+=this.parser.parse(u.tokens,P),tt+=this.listitem({type:"list_item",raw:rt,text:rt,task:M,checked:!!f,loose:P,tokens:u.tokens})}return d.call(this,tt,f,M)};case"html":return function(g){return g.type&&g.type===u?d.call(this,g.text,g.block):d.apply(this,arguments)};case"paragraph":case"strong":case"em":case"del":return function(g){return g.type&&g.type===u?d.call(this,this.parser.parseInline(g.tokens)):d.apply(this,arguments)};case"escape":case"codespan":case"text":return function(g){return g.type&&g.type===u?d.call(this,g.text):d.apply(this,arguments)};case"link":return function(g){return g.type&&g.type===u?d.call(this,g.href,g.title,this.parser.parseInline(g.tokens)):d.apply(this,arguments)};case"image":return function(g){return g.type&&g.type===u?d.call(this,g.href,g.title,g.text):d.apply(this,arguments)}}return d}setOptions(d){return this.defaults={...this.defaults,...d},this}lexer(d,u){return _Lexer.lex(d,u??this.defaults)}parser(d,u){return _Parser.parse(d,u??this.defaults)}#t(d,u){return(g,f)=>{const M={...f},P={...this.defaults,...M};!0===this.defaults.async&&!1===M.async&&(P.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),P.async=!0);const tt=this.#r(!!P.silent,!!P.async);if(null==g)return tt(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof g)return tt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(g)+", string expected"));if(P.hooks&&(P.hooks.options=P),P.async)return Promise.resolve(P.hooks?P.hooks.preprocess(g):g).then((u=>d(u,P))).then((d=>P.hooks?P.hooks.processAllTokens(d):d)).then((d=>P.walkTokens?Promise.all(this.walkTokens(d,P.walkTokens)).then((()=>d)):d)).then((d=>u(d,P))).then((d=>P.hooks?P.hooks.postprocess(d):d)).catch(tt);try{P.hooks&&(g=P.hooks.preprocess(g));let f=d(g,P);P.hooks&&(f=P.hooks.processAllTokens(f)),P.walkTokens&&this.walkTokens(f,P.walkTokens);let M=u(f,P);return P.hooks&&(M=P.hooks.postprocess(M)),M}catch(rt){return tt(rt)}}}#r(d,u){return g=>{if(g.message+="\nPlease report this to https://github.com/markedjs/marked.",d){const d="<p>An error occurred:</p><pre>"+escape$1(g.message+"",!0)+"</pre>";return u?Promise.resolve(d):d}if(u)return Promise.reject(g);throw g}}};function marked(d,u){return Il.parse(d,u)}function dedent(d){for(var u=[],g=1;g<arguments.length;g++)u[g-1]=arguments[g];var f=Array.from("string"==typeof d?[d]:d);f[f.length-1]=f[f.length-1].replace(/\r?\n([\t ]*)$/,"");var M=f.reduce((function(d,u){var g=u.match(/\n([\t ]+|(?!\s).)/g);return g?d.concat(g.map((function(d){var u,g;return null!==(g=null===(u=d.match(/[\t ]/g))||void 0===u?void 0:u.length)&&void 0!==g?g:0}))):d}),[]);if(M.length){var P=new RegExp("\n[\t ]{"+Math.min.apply(Math,M)+"}","g");f=f.map((function(d){return d.replace(P,"\n")}))}f[0]=f[0].replace(/^\r?\n/,"");var tt=f[0];return u.forEach((function(d,u){var g=tt.match(/(?:^|\n)( *)$/),M=g?g[1]:"",P=d;"string"==typeof d&&d.includes("\n")&&(P=String(d).split("\n").map((function(d,u){return 0===u?d:""+M+d})).join("\n")),tt+=P+f[u+1]})),tt}function preprocessMarkdown(d,{markdownAutoWrap:u}){const g=dedent(d.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"));return!1===u?g.replace(/ /g,"&nbsp;"):g}function markdownToLines(d,u={}){const g=preprocessMarkdown(d,u),f=marked.lexer(g),M=[[]];let P=0;function processNode(d,u="normal"){if("text"===d.type){d.text.split("\n").forEach(((d,g)=>{0!==g&&(P++,M.push([])),d.split(" ").forEach((d=>{(d=d.replace(/&#39;/g,"'"))&&M[P].push({content:d,type:u})}))}))}else"strong"===d.type||"em"===d.type?d.tokens.forEach((u=>{processNode(u,d.type)})):"html"===d.type&&M[P].push({content:d.text,type:"normal"})}return __name(processNode,"processNode"),f.forEach((d=>{"paragraph"===d.type?d.tokens?.forEach((d=>{processNode(d)})):"html"===d.type&&M[P].push({content:d.text,type:"normal"})})),M}function markdownToHTML(d,{markdownAutoWrap:u}={}){const g=marked.lexer(d);function output(d){return"text"===d.type?!1===u?d.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):d.text.replace(/\n */g,"<br/>"):"strong"===d.type?`<strong>${d.tokens?.map(output).join("")}</strong>`:"em"===d.type?`<em>${d.tokens?.map(output).join("")}</em>`:"paragraph"===d.type?`<p>${d.tokens?.map(output).join("")}</p>`:"space"===d.type?"":"html"===d.type?`${d.text}`:"escape"===d.type?d.text:`Unsupported markdown: ${d.type}`}return __name(output,"output"),g.map(output).join("")}function splitTextToChars(d){return Intl.Segmenter?[...(new Intl.Segmenter).segment(d)].map((d=>d.segment)):[...d]}function splitWordToFitWidth(d,u){return splitWordToFitWidthRecursion(d,[],splitTextToChars(u.content),u.type)}function splitWordToFitWidthRecursion(d,u,g,f){if(0===g.length)return[{content:u.join(""),type:f},{content:"",type:f}];const[M,...P]=g,tt=[...u,M];return d([{content:tt.join(""),type:f}])?splitWordToFitWidthRecursion(d,tt,P,f):(0===u.length&&M&&(u.push(M),g.shift()),[{content:u.join(""),type:f},{content:g.join(""),type:f}])}function splitLineToFitWidth(d,u){if(d.some((({content:d})=>d.includes("\n"))))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(d,u)}function splitLineToFitWidthRecursion(d,u,g=[],f=[]){if(0===d.length)return f.length>0&&g.push(f),g.length>0?g:[];let M="";" "===d[0].content&&(M=" ",d.shift());const P=d.shift()??{content:" ",type:"normal"},tt=[...f];if(""!==M&&tt.push({content:M,type:"normal"}),tt.push(P),u(tt))return splitLineToFitWidthRecursion(d,u,g,tt);if(f.length>0)g.push(f),d.unshift(P);else if(P.content){const[f,M]=splitWordToFitWidth(u,P);g.push([f]),M.content&&d.unshift(M)}return splitLineToFitWidthRecursion(d,u,g)}function applyStyle$1(d,u){u&&d.attr("style",u)}async function addHtmlSpan(d,u,g,f,M=!1){const P=d.append("foreignObject");P.attr("width",10*g+"px"),P.attr("height",10*g+"px");const tt=P.append("xhtml:div");let rt=u.label;u.label&&Ur(u.label)&&(rt=await Xr(u.label.replace(Zr.lineBreakRegex,"\n"),bi()));const it=u.isNode?"nodeLabel":"edgeLabel",nt=tt.append("span");nt.html(rt),applyStyle$1(nt,u.labelStyle),nt.attr("class",`${it} ${f}`),applyStyle$1(tt,u.labelStyle),tt.style("display","table-cell"),tt.style("white-space","nowrap"),tt.style("line-height","1.5"),tt.style("max-width",g+"px"),tt.style("text-align","center"),tt.attr("xmlns","http://www.w3.org/1999/xhtml"),M&&tt.attr("class","labelBkg");let at=tt.node().getBoundingClientRect();return at.width===g&&(tt.style("display","table"),tt.style("white-space","break-spaces"),tt.style("width",g+"px"),at=tt.node().getBoundingClientRect()),P.node()}function createTspan(d,u,g){return d.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",u*g-.1+"em").attr("dy",g+"em")}function computeWidthOfText(d,u,g){const f=d.append("text"),M=createTspan(f,1,u);updateTextContentAndStyles(M,g);const P=M.node().getComputedTextLength();return f.remove(),P}function computeDimensionOfText(d,u,g){const f=d.append("text"),M=createTspan(f,1,u);updateTextContentAndStyles(M,[{content:g,type:"normal"}]);const P=M.node()?.getBoundingClientRect();return P&&f.remove(),P}function createFormattedText(d,u,g,f=!1){const M=u.append("g"),P=M.insert("rect").attr("class","background").attr("style","stroke: none"),tt=M.append("text").attr("y","-10.1");let rt=0;for(const it of g){const u=__name((u=>computeWidthOfText(M,1.1,u)<=d),"checkWidth"),g=u(it)?[it]:splitLineToFitWidth(it,u);for(const d of g){updateTextContentAndStyles(createTspan(tt,rt,1.1),d),rt++}}if(f){const d=tt.node().getBBox(),u=2;return P.attr("x",d.x-u).attr("y",d.y-u).attr("width",d.width+2*u).attr("height",d.height+2*u),M.node()}return tt.node()}function updateTextContentAndStyles(d,u){d.text(""),u.forEach(((u,g)=>{const f=d.append("tspan").attr("font-style","em"===u.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===u.type?"bold":"normal");0===g?f.text(u.content):f.text(" "+u.content)}))}function replaceIconSubstring(d){return d.replace(/fa[bklrs]?:fa-[\w-]+/g,(d=>`<i class='${d.replace(":"," ")}'></i>`))}marked.options=marked.setOptions=function(d){return Il.setOptions(d),marked.defaults=Il.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=_getDefaults,marked.defaults=Ys,marked.use=function(...d){return Il.use(...d),marked.defaults=Il.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(d,u){return Il.walkTokens(d,u)},marked.parseInline=Il.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked,marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,_Parser.parse,_Lexer.lex,__name(preprocessMarkdown,"preprocessMarkdown"),__name(markdownToLines,"markdownToLines"),__name(markdownToHTML,"markdownToHTML"),__name(splitTextToChars,"splitTextToChars"),__name(splitWordToFitWidth,"splitWordToFitWidth"),__name(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion"),__name(splitLineToFitWidth,"splitLineToFitWidth"),__name(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion"),__name(applyStyle$1,"applyStyle"),__name(addHtmlSpan,"addHtmlSpan"),__name(createTspan,"createTspan"),__name(computeWidthOfText,"computeWidthOfText"),__name(computeDimensionOfText,"computeDimensionOfText"),__name(createFormattedText,"createFormattedText"),__name(updateTextContentAndStyles,"updateTextContentAndStyles"),__name(replaceIconSubstring,"replaceIconSubstring");var Dl=__name((async(d,u="",{style:g="",isTitle:f=!1,classes:M="",useHtmlLabels:P=!0,isNode:tt=!0,width:rt=200,addSvgBackground:it=!1}={},nt)=>{if(Le.debug("XYZ createText",u,g,f,M,P,tt,"addSvgBackground: ",it),P){const f=markdownToHTML(u,nt),P=replaceIconSubstring(js(f)),at=u.replace(/\\\\/g,"\\"),st={isNode:tt,label:Ur(u)?at:P,labelStyle:g.replace("fill:","color:")};return await addHtmlSpan(d,st,rt,M,it)}{const f=createFormattedText(rt,d,markdownToLines(u.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),nt),!!u&&it);if(tt){/stroke:/.exec(g)&&(g=g.replace("stroke:","lineColor:"));const d=g.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(f).attr("style",d)}else{const d=g.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");select(f).select("rect").attr("style",d.replace(/background:/g,"fill:"));const u=g.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");select(f).select("text").attr("style",u)}return f}}),"createText");function t(d,u,g){if(d&&d.length){const[f,M]=u,P=Math.PI/180*g,tt=Math.cos(P),rt=Math.sin(P);for(const u of d){const[d,g]=u;u[0]=(d-f)*tt-(g-M)*rt+f,u[1]=(d-f)*rt+(g-M)*tt+M}}}function e(d,u){return d[0]===u[0]&&d[1]===u[1]}function n(d,u){var g;const f=u.hachureAngle+90;let M=u.hachureGap;M<0&&(M=4*u.strokeWidth),M=Math.round(Math.max(M,.1));let P=1;return u.roughness>=1&&((null===(g=u.randomizer)||void 0===g?void 0:g.next())||Math.random())>.7&&(P=M),function s(d,u,g,f=1){const M=g,P=Math.max(u,.1),tt=d[0]&&d[0][0]&&"number"==typeof d[0][0]?[d]:d,rt=[0,0];if(M)for(const nt of tt)t(nt,rt,M);const it=function(d,u,g){const f=[];for(const nt of d){const d=[...nt];e(d[0],d[d.length-1])||d.push([d[0][0],d[0][1]]),d.length>2&&f.push(d)}const M=[];u=Math.max(u,.1);const P=[];for(const nt of f)for(let d=0;d<nt.length-1;d++){const u=nt[d],g=nt[d+1];if(u[1]!==g[1]){const d=Math.min(u[1],g[1]);P.push({ymin:d,ymax:Math.max(u[1],g[1]),x:d===u[1]?u[0]:g[0],islope:(g[0]-u[0])/(g[1]-u[1])})}}if(P.sort(((d,u)=>d.ymin<u.ymin?-1:d.ymin>u.ymin?1:d.x<u.x?-1:d.x>u.x?1:d.ymax===u.ymax?0:(d.ymax-u.ymax)/Math.abs(d.ymax-u.ymax))),!P.length)return M;let tt=[],rt=P[0].ymin,it=0;for(;tt.length||P.length;){if(P.length){let d=-1;for(let u=0;u<P.length&&!(P[u].ymin>rt);u++)d=u;P.splice(0,d+1).forEach((d=>{tt.push({s:rt,edge:d})}))}if(tt=tt.filter((d=>!(d.edge.ymax<=rt))),tt.sort(((d,u)=>d.edge.x===u.edge.x?0:(d.edge.x-u.edge.x)/Math.abs(d.edge.x-u.edge.x))),(1!==g||it%u==0)&&tt.length>1)for(let d=0;d<tt.length;d+=2){const u=d+1;if(u>=tt.length)break;const g=tt[d].edge,f=tt[u].edge;M.push([[Math.round(g.x),rt],[Math.round(f.x),rt]])}rt+=g,tt.forEach((d=>{d.edge.x=d.edge.x+g*d.edge.islope})),it++}return M}(tt,P,f);if(M){for(const d of tt)t(d,rt,-M);!function(d,u,g){const f=[];d.forEach((d=>f.push(...d))),t(f,u,g)}(it,rt,-M)}return it}(d,M,f,P||1)}class o{constructor(d){this.helper=d}fillPolygons(d,u){return this._fillPolygons(d,u)}_fillPolygons(d,u){const g=n(d,u);return{type:"fillSketch",ops:this.renderLines(g,u)}}renderLines(d,u){const g=[];for(const f of d)g.push(...this.helper.doubleLineOps(f[0][0],f[0][1],f[1][0],f[1][1],u));return g}}function a(d){const u=d[0],g=d[1];return Math.sqrt(Math.pow(u[0]-g[0],2)+Math.pow(u[1]-g[1],2))}class h extends o{fillPolygons(d,u){let g=u.hachureGap;g<0&&(g=4*u.strokeWidth),g=Math.max(g,.1);const f=n(d,Object.assign({},u,{hachureGap:g})),M=Math.PI/180*u.hachureAngle,P=[],tt=.5*g*Math.cos(M),rt=.5*g*Math.sin(M);for(const[it,nt]of f)a([it,nt])&&P.push([[it[0]-tt,it[1]+rt],[...nt]],[[it[0]+tt,it[1]-rt],[...nt]]);return{type:"fillSketch",ops:this.renderLines(P,u)}}}class r extends o{fillPolygons(d,u){const g=this._fillPolygons(d,u),f=Object.assign({},u,{hachureAngle:u.hachureAngle+90}),M=this._fillPolygons(d,f);return g.ops=g.ops.concat(M.ops),g}}class i{constructor(d){this.helper=d}fillPolygons(d,u){const g=n(d,u=Object.assign({},u,{hachureAngle:0}));return this.dotsOnLines(g,u)}dotsOnLines(d,u){const g=[];let f=u.hachureGap;f<0&&(f=4*u.strokeWidth),f=Math.max(f,.1);let M=u.fillWeight;M<0&&(M=u.strokeWidth/2);const P=f/4;for(const tt of d){const d=a(tt),rt=d/f,it=Math.ceil(rt)-1,nt=d-it*f,at=(tt[0][0]+tt[1][0])/2-f/4,st=Math.min(tt[0][1],tt[1][1]);for(let tt=0;tt<it;tt++){const d=st+nt+tt*f,rt=at-P+2*Math.random()*P,it=d-P+2*Math.random()*P,lt=this.helper.ellipse(rt,it,M,M,u);g.push(...lt.ops)}}return{type:"fillSketch",ops:g}}}class c{constructor(d){this.helper=d}fillPolygons(d,u){const g=n(d,u);return{type:"fillSketch",ops:this.dashedLine(g,u)}}dashedLine(d,u){const g=u.dashOffset<0?u.hachureGap<0?4*u.strokeWidth:u.hachureGap:u.dashOffset,f=u.dashGap<0?u.hachureGap<0?4*u.strokeWidth:u.hachureGap:u.dashGap,M=[];return d.forEach((d=>{const P=a(d),tt=Math.floor(P/(g+f)),rt=(P+f-tt*(g+f))/2;let it=d[0],nt=d[1];it[0]>nt[0]&&(it=d[1],nt=d[0]);const at=Math.atan((nt[1]-it[1])/(nt[0]-it[0]));for(let st=0;st<tt;st++){const d=st*(g+f),P=d+g,tt=[it[0]+d*Math.cos(at)+rt*Math.cos(at),it[1]+d*Math.sin(at)+rt*Math.sin(at)],nt=[it[0]+P*Math.cos(at)+rt*Math.cos(at),it[1]+P*Math.sin(at)+rt*Math.sin(at)];M.push(...this.helper.doubleLineOps(tt[0],tt[1],nt[0],nt[1],u))}})),M}}class l{constructor(d){this.helper=d}fillPolygons(d,u){const g=u.hachureGap<0?4*u.strokeWidth:u.hachureGap,f=u.zigzagOffset<0?g:u.zigzagOffset,M=n(d,u=Object.assign({},u,{hachureGap:g+f}));return{type:"fillSketch",ops:this.zigzagLines(M,f,u)}}zigzagLines(d,u,g){const f=[];return d.forEach((d=>{const M=a(d),P=Math.round(M/(2*u));let tt=d[0],rt=d[1];tt[0]>rt[0]&&(tt=d[1],rt=d[0]);const it=Math.atan((rt[1]-tt[1])/(rt[0]-tt[0]));for(let nt=0;nt<P;nt++){const d=2*nt*u,M=2*(nt+1)*u,P=Math.sqrt(2*Math.pow(u,2)),rt=[tt[0]+d*Math.cos(it),tt[1]+d*Math.sin(it)],at=[tt[0]+M*Math.cos(it),tt[1]+M*Math.sin(it)],st=[rt[0]+P*Math.cos(it+Math.PI/4),rt[1]+P*Math.sin(it+Math.PI/4)];f.push(...this.helper.doubleLineOps(rt[0],rt[1],st[0],st[1],g),...this.helper.doubleLineOps(st[0],st[1],at[0],at[1],g))}})),f}}const Rl={};class p{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Nl={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(d,u){return d.type===u}function b(d){const u=[],g=function(d){const u=new Array;for(;""!==d;)if(d.match(/^([ \t\r\n,]+)/))d=d.substr(RegExp.$1.length);else if(d.match(/^([aAcChHlLmMqQsStTvVzZ])/))u[u.length]={type:0,text:RegExp.$1},d=d.substr(RegExp.$1.length);else{if(!d.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];u[u.length]={type:1,text:`${parseFloat(RegExp.$1)}`},d=d.substr(RegExp.$1.length)}return u[u.length]={type:2,text:""},u}(d);let f="BOD",M=0,P=g[M];for(;!k(P,2);){let tt=0;const rt=[];if("BOD"===f){if("M"!==P.text&&"m"!==P.text)return b("M0,0"+d);M++,tt=Nl[P.text],f=P.text}else k(P,1)?tt=Nl[f]:(M++,tt=Nl[P.text],f=P.text);if(!(M+tt<g.length))throw new Error("Path data ended short");for(let d=M;d<M+tt;d++){const u=g[d];if(!k(u,1))throw new Error("Param not a number: "+f+","+u.text);rt[rt.length]=+u.text}if("number"!=typeof Nl[f])throw new Error("Bad segment: "+f);{const d={key:f,data:rt};u.push(d),M+=tt,P=g[M],"M"===f&&(f="L"),"m"===f&&(f="l")}}return u}function y(d){let u=0,g=0,f=0,M=0;const P=[];for(const{key:tt,data:rt}of d)switch(tt){case"M":P.push({key:"M",data:[...rt]}),[u,g]=rt,[f,M]=rt;break;case"m":u+=rt[0],g+=rt[1],P.push({key:"M",data:[u,g]}),f=u,M=g;break;case"L":P.push({key:"L",data:[...rt]}),[u,g]=rt;break;case"l":u+=rt[0],g+=rt[1],P.push({key:"L",data:[u,g]});break;case"C":P.push({key:"C",data:[...rt]}),u=rt[4],g=rt[5];break;case"c":{const d=rt.map(((d,f)=>f%2?d+g:d+u));P.push({key:"C",data:d}),u=d[4],g=d[5];break}case"Q":P.push({key:"Q",data:[...rt]}),u=rt[2],g=rt[3];break;case"q":{const d=rt.map(((d,f)=>f%2?d+g:d+u));P.push({key:"Q",data:d}),u=d[2],g=d[3];break}case"A":P.push({key:"A",data:[...rt]}),u=rt[5],g=rt[6];break;case"a":u+=rt[5],g+=rt[6],P.push({key:"A",data:[rt[0],rt[1],rt[2],rt[3],rt[4],u,g]});break;case"H":P.push({key:"H",data:[...rt]}),u=rt[0];break;case"h":u+=rt[0],P.push({key:"H",data:[u]});break;case"V":P.push({key:"V",data:[...rt]}),g=rt[0];break;case"v":g+=rt[0],P.push({key:"V",data:[g]});break;case"S":P.push({key:"S",data:[...rt]}),u=rt[2],g=rt[3];break;case"s":{const d=rt.map(((d,f)=>f%2?d+g:d+u));P.push({key:"S",data:d}),u=d[2],g=d[3];break}case"T":P.push({key:"T",data:[...rt]}),u=rt[0],g=rt[1];break;case"t":u+=rt[0],g+=rt[1],P.push({key:"T",data:[u,g]});break;case"Z":case"z":P.push({key:"Z",data:[]}),u=f,g=M}return P}function m(d){const u=[];let g="",f=0,M=0,P=0,tt=0,rt=0,it=0;for(const{key:nt,data:at}of d){switch(nt){case"M":u.push({key:"M",data:[...at]}),[f,M]=at,[P,tt]=at;break;case"C":u.push({key:"C",data:[...at]}),f=at[4],M=at[5],rt=at[2],it=at[3];break;case"L":u.push({key:"L",data:[...at]}),[f,M]=at;break;case"H":f=at[0],u.push({key:"L",data:[f,M]});break;case"V":M=at[0],u.push({key:"L",data:[f,M]});break;case"S":{let d=0,P=0;"C"===g||"S"===g?(d=f+(f-rt),P=M+(M-it)):(d=f,P=M),u.push({key:"C",data:[d,P,...at]}),rt=at[0],it=at[1],f=at[2],M=at[3];break}case"T":{const[d,P]=at;let tt=0,nt=0;"Q"===g||"T"===g?(tt=f+(f-rt),nt=M+(M-it)):(tt=f,nt=M);const st=f+2*(tt-f)/3,lt=M+2*(nt-M)/3,ct=d+2*(tt-d)/3,ht=P+2*(nt-P)/3;u.push({key:"C",data:[st,lt,ct,ht,d,P]}),rt=tt,it=nt,f=d,M=P;break}case"Q":{const[d,g,P,tt]=at,nt=f+2*(d-f)/3,st=M+2*(g-M)/3,lt=P+2*(d-P)/3,ct=tt+2*(g-tt)/3;u.push({key:"C",data:[nt,st,lt,ct,P,tt]}),rt=d,it=g,f=P,M=tt;break}case"A":{const d=Math.abs(at[0]),g=Math.abs(at[1]),P=at[2],tt=at[3],rt=at[4],it=at[5],nt=at[6];0===d||0===g?(u.push({key:"C",data:[f,M,it,nt,it,nt]}),f=it,M=nt):f===it&&M===nt||(x(f,M,it,nt,d,g,P,tt,rt).forEach((function(d){u.push({key:"C",data:d})})),f=it,M=nt);break}case"Z":u.push({key:"Z",data:[]}),f=P,M=tt}g=nt}return u}function w(d,u,g){return[d*Math.cos(g)-u*Math.sin(g),d*Math.sin(g)+u*Math.cos(g)]}function x(d,u,g,f,M,P,tt,rt,it,nt){const at=(st=tt,Math.PI*st/180);var st;let lt=[],ct=0,ht=0,dt=0,ut=0;if(nt)[ct,ht,dt,ut]=nt;else{[d,u]=w(d,u,-at),[g,f]=w(g,f,-at);const tt=(d-g)/2,nt=(u-f)/2;let st=tt*tt/(M*M)+nt*nt/(P*P);st>1&&(st=Math.sqrt(st),M*=st,P*=st);const lt=M*M,pt=P*P,gt=lt*pt-lt*nt*nt-pt*tt*tt,ft=lt*nt*nt+pt*tt*tt,mt=(rt===it?-1:1)*Math.sqrt(Math.abs(gt/ft));dt=mt*M*nt/P+(d+g)/2,ut=mt*-P*tt/M+(u+f)/2,ct=Math.asin(parseFloat(((u-ut)/P).toFixed(9))),ht=Math.asin(parseFloat(((f-ut)/P).toFixed(9))),d<dt&&(ct=Math.PI-ct),g<dt&&(ht=Math.PI-ht),ct<0&&(ct=2*Math.PI+ct),ht<0&&(ht=2*Math.PI+ht),it&&ct>ht&&(ct-=2*Math.PI),!it&&ht>ct&&(ht-=2*Math.PI)}let pt=ht-ct;if(Math.abs(pt)>120*Math.PI/180){const d=ht,u=g,rt=f;ht=it&&ht>ct?ct+120*Math.PI/180*1:ct+120*Math.PI/180*-1,lt=x(g=dt+M*Math.cos(ht),f=ut+P*Math.sin(ht),u,rt,M,P,tt,0,it,[ht,d,dt,ut])}pt=ht-ct;const gt=Math.cos(ct),ft=Math.sin(ct),mt=Math.cos(ht),yt=Math.sin(ht),xt=Math.tan(pt/4),bt=4/3*M*xt,kt=4/3*P*xt,Ct=[d,u],_t=[d+bt*ft,u-kt*gt],wt=[g+bt*yt,f-kt*mt],St=[g,f];if(_t[0]=2*Ct[0]-_t[0],_t[1]=2*Ct[1]-_t[1],nt)return[_t,wt,St].concat(lt);{lt=[_t,wt,St].concat(lt);const d=[];for(let u=0;u<lt.length;u+=3){const g=w(lt[u][0],lt[u][1],at),f=w(lt[u+1][0],lt[u+1][1],at),M=w(lt[u+2][0],lt[u+2][1],at);d.push([g[0],g[1],f[0],f[1],M[0],M[1]])}return d}}const zl={randOffset:function(d,u){return G(d,u)},randOffsetWithRange:function(d,u,g){return E(d,u,g)},ellipse:function(d,u,g,f,M){return D(d,u,M,T(g,f,M)).opset},doubleLineOps:function(d,u,g,f,M){return $(d,u,g,f,M,!0)}};function v(d,u,g,f,M){return{type:"path",ops:$(d,u,g,f,M)}}function S(d,u,g){const f=(d||[]).length;if(f>2){const M=[];for(let u=0;u<f-1;u++)M.push(...$(d[u][0],d[u][1],d[u+1][0],d[u+1][1],g));return u&&M.push(...$(d[f-1][0],d[f-1][1],d[0][0],d[0][1],g)),{type:"path",ops:M}}return 2===f?v(d[0][0],d[0][1],d[1][0],d[1][1],g):{type:"path",ops:[]}}function L(d,u){if(d.length){const g="number"==typeof d[0][0]?[d]:d,f=j(g[0],1*(1+.2*u.roughness),u),M=u.disableMultiStroke?[]:j(g[0],1.5*(1+.22*u.roughness),z(u));for(let d=1;d<g.length;d++){const P=g[d];if(P.length){const d=j(P,1*(1+.2*u.roughness),u),g=u.disableMultiStroke?[]:j(P,1.5*(1+.22*u.roughness),z(u));for(const u of d)"move"!==u.op&&f.push(u);for(const u of g)"move"!==u.op&&M.push(u)}}return{type:"path",ops:f.concat(M)}}return{type:"path",ops:[]}}function T(d,u,g){const f=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(u/2,2))/2)),M=Math.ceil(Math.max(g.curveStepCount,g.curveStepCount/Math.sqrt(200)*f)),P=2*Math.PI/M;let tt=Math.abs(d/2),rt=Math.abs(u/2);const it=1-g.curveFitting;return tt+=G(tt*it,g),rt+=G(rt*it,g),{increment:P,rx:tt,ry:rt}}function D(d,u,g,f){const[M,P]=F(f.increment,d,u,f.rx,f.ry,1,f.increment*E(.1,E(.4,1,g),g),g);let tt=q(M,null,g);if(!g.disableMultiStroke&&0!==g.roughness){const[M]=F(f.increment,d,u,f.rx,f.ry,1.5,0,g),P=q(M,null,g);tt=tt.concat(P)}return{estimatedPoints:P,opset:{type:"path",ops:tt}}}function A(d,u,g,f,M,P,tt,rt,it){const nt=d,at=u;let st=Math.abs(g/2),lt=Math.abs(f/2);st+=G(.01*st,it),lt+=G(.01*lt,it);let ct=M,ht=P;for(;ct<0;)ct+=2*Math.PI,ht+=2*Math.PI;ht-ct>2*Math.PI&&(ct=0,ht=2*Math.PI);const dt=2*Math.PI/it.curveStepCount,ut=Math.min(dt/2,(ht-ct)/2),pt=V(ut,nt,at,st,lt,ct,ht,1,it);if(!it.disableMultiStroke){const d=V(ut,nt,at,st,lt,ct,ht,1.5,it);pt.push(...d)}return tt&&(rt?pt.push(...$(nt,at,nt+st*Math.cos(ct),at+lt*Math.sin(ct),it),...$(nt,at,nt+st*Math.cos(ht),at+lt*Math.sin(ht),it)):pt.push({op:"lineTo",data:[nt,at]},{op:"lineTo",data:[nt+st*Math.cos(ct),at+lt*Math.sin(ct)]})),{type:"path",ops:pt}}function _(d,u){const g=m(y(b(d))),f=[];let M=[0,0],P=[0,0];for(const{key:tt,data:rt}of g)switch(tt){case"M":P=[rt[0],rt[1]],M=[rt[0],rt[1]];break;case"L":f.push(...$(P[0],P[1],rt[0],rt[1],u)),P=[rt[0],rt[1]];break;case"C":{const[d,g,M,tt,it,nt]=rt;f.push(...Z(d,g,M,tt,it,nt,P,u)),P=[it,nt];break}case"Z":f.push(...$(P[0],P[1],M[0],M[1],u)),P=[M[0],M[1]]}return{type:"path",ops:f}}function I(d,u){const g=[];for(const f of d)if(f.length){const d=u.maxRandomnessOffset||0,M=f.length;if(M>2){g.push({op:"move",data:[f[0][0]+G(d,u),f[0][1]+G(d,u)]});for(let P=1;P<M;P++)g.push({op:"lineTo",data:[f[P][0]+G(d,u),f[P][1]+G(d,u)]})}}return{type:"fillPath",ops:g}}function C(d,u){return function(d,u){let g=d.fillStyle||"hachure";if(!Rl[g])switch(g){case"zigzag":Rl[g]||(Rl[g]=new h(u));break;case"cross-hatch":Rl[g]||(Rl[g]=new r(u));break;case"dots":Rl[g]||(Rl[g]=new i(u));break;case"dashed":Rl[g]||(Rl[g]=new c(u));break;case"zigzag-line":Rl[g]||(Rl[g]=new l(u));break;default:g="hachure",Rl[g]||(Rl[g]=new o(u))}return Rl[g]}(u,zl).fillPolygons(d,u)}function z(d){const u=Object.assign({},d);return u.randomizer=void 0,d.seed&&(u.seed=d.seed+1),u}function W(d){return d.randomizer||(d.randomizer=new p(d.seed||0)),d.randomizer.next()}function E(d,u,g,f=1){return g.roughness*f*(W(g)*(u-d)+d)}function G(d,u,g=1){return E(-d,d,u,g)}function $(d,u,g,f,M,P=!1){const tt=P?M.disableMultiStrokeFill:M.disableMultiStroke,rt=R(d,u,g,f,M,!0,!1);if(tt)return rt;const it=R(d,u,g,f,M,!0,!0);return rt.concat(it)}function R(d,u,g,f,M,P,tt){const rt=Math.pow(d-g,2)+Math.pow(u-f,2),it=Math.sqrt(rt);let nt=1;nt=it<200?1:it>500?.4:-.0016668*it+1.233334;let at=M.maxRandomnessOffset||0;at*at*100>rt&&(at=it/10);const st=at/2,lt=.2+.2*W(M);let ct=M.bowing*M.maxRandomnessOffset*(f-u)/200,ht=M.bowing*M.maxRandomnessOffset*(d-g)/200;ct=G(ct,M,nt),ht=G(ht,M,nt);const dt=[],M2=()=>G(st,M,nt),k2=()=>G(at,M,nt),ut=M.preserveVertices;return P&&(tt?dt.push({op:"move",data:[d+(ut?0:M2()),u+(ut?0:M2())]}):dt.push({op:"move",data:[d+(ut?0:G(at,M,nt)),u+(ut?0:G(at,M,nt))]})),tt?dt.push({op:"bcurveTo",data:[ct+d+(g-d)*lt+M2(),ht+u+(f-u)*lt+M2(),ct+d+2*(g-d)*lt+M2(),ht+u+2*(f-u)*lt+M2(),g+(ut?0:M2()),f+(ut?0:M2())]}):dt.push({op:"bcurveTo",data:[ct+d+(g-d)*lt+k2(),ht+u+(f-u)*lt+k2(),ct+d+2*(g-d)*lt+k2(),ht+u+2*(f-u)*lt+k2(),g+(ut?0:k2()),f+(ut?0:k2())]}),dt}function j(d,u,g){if(!d.length)return[];const f=[];f.push([d[0][0]+G(u,g),d[0][1]+G(u,g)]),f.push([d[0][0]+G(u,g),d[0][1]+G(u,g)]);for(let M=1;M<d.length;M++)f.push([d[M][0]+G(u,g),d[M][1]+G(u,g)]),M===d.length-1&&f.push([d[M][0]+G(u,g),d[M][1]+G(u,g)]);return q(f,null,g)}function q(d,u,g){const f=d.length,M=[];if(f>3){const P=[],tt=1-g.curveTightness;M.push({op:"move",data:[d[1][0],d[1][1]]});for(let u=1;u+2<f;u++){const g=d[u];P[0]=[g[0],g[1]],P[1]=[g[0]+(tt*d[u+1][0]-tt*d[u-1][0])/6,g[1]+(tt*d[u+1][1]-tt*d[u-1][1])/6],P[2]=[d[u+1][0]+(tt*d[u][0]-tt*d[u+2][0])/6,d[u+1][1]+(tt*d[u][1]-tt*d[u+2][1])/6],P[3]=[d[u+1][0],d[u+1][1]],M.push({op:"bcurveTo",data:[P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1]]})}if(u&&2===u.length){const d=g.maxRandomnessOffset;M.push({op:"lineTo",data:[u[0]+G(d,g),u[1]+G(d,g)]})}}else 3===f?(M.push({op:"move",data:[d[1][0],d[1][1]]}),M.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===f&&M.push(...R(d[0][0],d[0][1],d[1][0],d[1][1],g,!0,!0));return M}function F(d,u,g,f,M,P,tt,rt){const it=[],nt=[];if(0===rt.roughness){d/=4,nt.push([u+f*Math.cos(-d),g+M*Math.sin(-d)]);for(let P=0;P<=2*Math.PI;P+=d){const d=[u+f*Math.cos(P),g+M*Math.sin(P)];it.push(d),nt.push(d)}nt.push([u+f*Math.cos(0),g+M*Math.sin(0)]),nt.push([u+f*Math.cos(d),g+M*Math.sin(d)])}else{const at=G(.5,rt)-Math.PI/2;nt.push([G(P,rt)+u+.9*f*Math.cos(at-d),G(P,rt)+g+.9*M*Math.sin(at-d)]);const st=2*Math.PI+at-.01;for(let tt=at;tt<st;tt+=d){const d=[G(P,rt)+u+f*Math.cos(tt),G(P,rt)+g+M*Math.sin(tt)];it.push(d),nt.push(d)}nt.push([G(P,rt)+u+f*Math.cos(at+2*Math.PI+.5*tt),G(P,rt)+g+M*Math.sin(at+2*Math.PI+.5*tt)]),nt.push([G(P,rt)+u+.98*f*Math.cos(at+tt),G(P,rt)+g+.98*M*Math.sin(at+tt)]),nt.push([G(P,rt)+u+.9*f*Math.cos(at+.5*tt),G(P,rt)+g+.9*M*Math.sin(at+.5*tt)])}return[nt,it]}function V(d,u,g,f,M,P,tt,rt,it){const nt=P+G(.1,it),at=[];at.push([G(rt,it)+u+.9*f*Math.cos(nt-d),G(rt,it)+g+.9*M*Math.sin(nt-d)]);for(let st=nt;st<=tt;st+=d)at.push([G(rt,it)+u+f*Math.cos(st),G(rt,it)+g+M*Math.sin(st)]);return at.push([u+f*Math.cos(tt),g+M*Math.sin(tt)]),at.push([u+f*Math.cos(tt),g+M*Math.sin(tt)]),q(at,null,it)}function Z(d,u,g,f,M,P,tt,rt){const it=[],nt=[rt.maxRandomnessOffset||1,(rt.maxRandomnessOffset||1)+.3];let at=[0,0];const st=rt.disableMultiStroke?1:2,lt=rt.preserveVertices;for(let ct=0;ct<st;ct++)0===ct?it.push({op:"move",data:[tt[0],tt[1]]}):it.push({op:"move",data:[tt[0]+(lt?0:G(nt[0],rt)),tt[1]+(lt?0:G(nt[0],rt))]}),at=lt?[M,P]:[M+G(nt[ct],rt),P+G(nt[ct],rt)],it.push({op:"bcurveTo",data:[d+G(nt[ct],rt),u+G(nt[ct],rt),g+G(nt[ct],rt),f+G(nt[ct],rt),at[0],at[1]]});return it}function Q(d){return[...d]}function H(d,u=0){const g=d.length;if(g<3)throw new Error("A curve must have at least three points.");const f=[];if(3===g)f.push(Q(d[0]),Q(d[1]),Q(d[2]),Q(d[2]));else{const g=[];g.push(d[0],d[0]);for(let u=1;u<d.length;u++)g.push(d[u]),u===d.length-1&&g.push(d[u]);const M=[],P=1-u;f.push(Q(g[0]));for(let d=1;d+2<g.length;d++){const u=g[d];M[0]=[u[0],u[1]],M[1]=[u[0]+(P*g[d+1][0]-P*g[d-1][0])/6,u[1]+(P*g[d+1][1]-P*g[d-1][1])/6],M[2]=[g[d+1][0]+(P*g[d][0]-P*g[d+2][0])/6,g[d+1][1]+(P*g[d][1]-P*g[d+2][1])/6],M[3]=[g[d+1][0],g[d+1][1]],f.push(M[1],M[2],M[3])}}return f}function N(d,u){return Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2)}function B(d,u,g){const f=N(u,g);if(0===f)return N(d,u);let M=((d[0]-u[0])*(g[0]-u[0])+(d[1]-u[1])*(g[1]-u[1]))/f;return M=Math.max(0,Math.min(1,M)),N(d,J(u,g,M))}function J(d,u,g){return[d[0]+(u[0]-d[0])*g,d[1]+(u[1]-d[1])*g]}function K(d,u,g,f){const M=f||[];if(function(d,u){const g=d[u+0],f=d[u+1],M=d[u+2],P=d[u+3];let tt=3*f[0]-2*g[0]-P[0];tt*=tt;let rt=3*f[1]-2*g[1]-P[1];rt*=rt;let it=3*M[0]-2*P[0]-g[0];it*=it;let nt=3*M[1]-2*P[1]-g[1];return nt*=nt,tt<it&&(tt=it),rt<nt&&(rt=nt),tt+rt}(d,u)<g){const g=d[u+0];M.length?(P=M[M.length-1],tt=g,Math.sqrt(N(P,tt))>1&&M.push(g)):M.push(g),M.push(d[u+3])}else{const f=.5,P=d[u+0],tt=d[u+1],rt=d[u+2],it=d[u+3],nt=J(P,tt,f),at=J(tt,rt,f),st=J(rt,it,f),lt=J(nt,at,f),ct=J(at,st,f),ht=J(lt,ct,f);K([P,nt,lt,ht],0,g,M),K([ht,ct,st,it],0,g,M)}var P,tt;return M}function U(d,u){return X(d,0,d.length,u)}function X(d,u,g,f,M){const P=M||[],tt=d[u],rt=d[g-1];let it=0,nt=1;for(let at=u+1;at<g-1;++at){const u=B(d[at],tt,rt);u>it&&(it=u,nt=at)}return Math.sqrt(it)>f?(X(d,u,nt+1,f,P),X(d,nt,g,f,P)):(P.length||P.push(tt),P.push(rt)),P}function Y(d,u=.15,g){const f=[],M=(d.length-1)/3;for(let P=0;P<M;P++)K(d,3*P,u,f);return g&&g>0?X(f,0,f.length,g):f}const ql="none";class et{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=d||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,u,g){return{shape:d,sets:u||[],options:g||this.defaultOptions}}line(d,u,g,f,M){const P=this._o(M);return this._d("line",[v(d,u,g,f,P)],P)}rectangle(d,u,g,f,M){const P=this._o(M),tt=[],rt=function O(d,u,g,f,M){return S([[d,u],[d+g,u],[d+g,u+f],[d,u+f]],!0,M)}(d,u,g,f,P);if(P.fill){const M=[[d,u],[d+g,u],[d+g,u+f],[d,u+f]];"solid"===P.fillStyle?tt.push(I([M],P)):tt.push(C([M],P))}return P.stroke!==ql&&tt.push(rt),this._d("rectangle",tt,P)}ellipse(d,u,g,f,M){const P=this._o(M),tt=[],rt=T(g,f,P),it=D(d,u,P,rt);if(P.fill)if("solid"===P.fillStyle){const g=D(d,u,P,rt).opset;g.type="fillPath",tt.push(g)}else tt.push(C([it.estimatedPoints],P));return P.stroke!==ql&&tt.push(it.opset),this._d("ellipse",tt,P)}circle(d,u,g,f){const M=this.ellipse(d,u,g,g,f);return M.shape="circle",M}linearPath(d,u){const g=this._o(u);return this._d("linearPath",[S(d,!1,g)],g)}arc(d,u,g,f,M,P,tt=!1,rt){const it=this._o(rt),nt=[],at=A(d,u,g,f,M,P,tt,!0,it);if(tt&&it.fill)if("solid"===it.fillStyle){const tt=Object.assign({},it);tt.disableMultiStroke=!0;const rt=A(d,u,g,f,M,P,!0,!1,tt);rt.type="fillPath",nt.push(rt)}else nt.push(function(d,u,g,f,M,P,tt){const rt=d,it=u;let nt=Math.abs(g/2),at=Math.abs(f/2);nt+=G(.01*nt,tt),at+=G(.01*at,tt);let st=M,lt=P;for(;st<0;)st+=2*Math.PI,lt+=2*Math.PI;lt-st>2*Math.PI&&(st=0,lt=2*Math.PI);const ct=(lt-st)/tt.curveStepCount,ht=[];for(let dt=st;dt<=lt;dt+=ct)ht.push([rt+nt*Math.cos(dt),it+at*Math.sin(dt)]);return ht.push([rt+nt*Math.cos(lt),it+at*Math.sin(lt)]),ht.push([rt,it]),C([ht],tt)}(d,u,g,f,M,P,it));return it.stroke!==ql&&nt.push(at),this._d("arc",nt,it)}curve(d,u){const g=this._o(u),f=[],M=L(d,g);if(g.fill&&g.fill!==ql)if("solid"===g.fillStyle){const u=L(d,Object.assign(Object.assign({},g),{disableMultiStroke:!0,roughness:g.roughness?g.roughness+g.fillShapeRoughnessGain:0}));f.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else{const u=[],M=d;if(M.length){const d="number"==typeof M[0][0]?[M]:M;for(const f of d)f.length<3?u.push(...f):3===f.length?u.push(...Y(H([f[0],f[0],f[1],f[2]]),10,(1+g.roughness)/2)):u.push(...Y(H(f),10,(1+g.roughness)/2))}u.length&&f.push(C([u],g))}return g.stroke!==ql&&f.push(M),this._d("curve",f,g)}polygon(d,u){const g=this._o(u),f=[],M=S(d,!0,g);return g.fill&&("solid"===g.fillStyle?f.push(I([d],g)):f.push(C([d],g))),g.stroke!==ql&&f.push(M),this._d("polygon",f,g)}path(d,u){const g=this._o(u),f=[];if(!d)return this._d("path",f,g);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const M=g.fill&&"transparent"!==g.fill&&g.fill!==ql,P=g.stroke!==ql,tt=!!(g.simplification&&g.simplification<1),rt=function(d,u,g){const f=m(y(b(d))),M=[];let P=[],tt=[0,0],rt=[];const i3=()=>{rt.length>=4&&P.push(...Y(rt,1)),rt=[]},c2=()=>{i3(),P.length&&(M.push(P),P=[])};for(const{key:nt,data:at}of f)switch(nt){case"M":c2(),tt=[at[0],at[1]],P.push(tt);break;case"L":i3(),P.push([at[0],at[1]]);break;case"C":if(!rt.length){const d=P.length?P[P.length-1]:tt;rt.push([d[0],d[1]])}rt.push([at[0],at[1]]),rt.push([at[2],at[3]]),rt.push([at[4],at[5]]);break;case"Z":i3(),P.push([tt[0],tt[1]])}if(c2(),!g)return M;const it=[];for(const nt of M){const d=U(nt,g);d.length&&it.push(d)}return it}(d,0,tt?4-4*(g.simplification||1):(1+g.roughness)/2),it=_(d,g);if(M)if("solid"===g.fillStyle)if(1===rt.length){const u=_(d,Object.assign(Object.assign({},g),{disableMultiStroke:!0,roughness:g.roughness?g.roughness+g.fillShapeRoughnessGain:0}));f.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else f.push(I(rt,g));else f.push(C(rt,g));return P&&(tt?rt.forEach((d=>{f.push(S(d,!1,g))})):f.push(it)),this._d("path",f,g)}opsToPath(d,u){let g="";for(const f of d.ops){const d="number"==typeof u&&u>=0?f.data.map((d=>+d.toFixed(u))):f.data;switch(f.op){case"move":g+=`M${d[0]} ${d[1]} `;break;case"bcurveTo":g+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case"lineTo":g+=`L${d[0]} ${d[1]} `}}return g.trim()}toPaths(d){const u=d.sets||[],g=d.options||this.defaultOptions,f=[];for(const M of u){let d=null;switch(M.type){case"path":d={d:this.opsToPath(M),stroke:g.stroke,strokeWidth:g.strokeWidth,fill:ql};break;case"fillPath":d={d:this.opsToPath(M),stroke:ql,strokeWidth:0,fill:g.fill||ql};break;case"fillSketch":d=this.fillSketch(M,g)}d&&f.push(d)}return f}fillSketch(d,u){let g=u.fillWeight;return g<0&&(g=u.strokeWidth/2),{d:this.opsToPath(d),stroke:u.fill||ql,strokeWidth:g,fill:ql}}_mergedShape(d){return d.filter(((d,u)=>0===u||"move"!==d.op))}}const Wl="http://www.w3.org/2000/svg";class ot{constructor(d,u){this.svg=d,this.gen=new et(u)}draw(d){const u=d.sets||[],g=d.options||this.getDefaultOptions(),f=this.svg.ownerDocument||window.document,M=f.createElementNS(Wl,"g"),P=d.options.fixedDecimalPlaceDigits;for(const tt of u){let u=null;switch(tt.type){case"path":u=f.createElementNS(Wl,"path"),u.setAttribute("d",this.opsToPath(tt,P)),u.setAttribute("stroke",g.stroke),u.setAttribute("stroke-width",g.strokeWidth+""),u.setAttribute("fill","none"),g.strokeLineDash&&u.setAttribute("stroke-dasharray",g.strokeLineDash.join(" ").trim()),g.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${g.strokeLineDashOffset}`);break;case"fillPath":u=f.createElementNS(Wl,"path"),u.setAttribute("d",this.opsToPath(tt,P)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",g.fill||""),"curve"!==d.shape&&"polygon"!==d.shape||u.setAttribute("fill-rule","evenodd");break;case"fillSketch":u=this.fillSketch(f,tt,g)}u&&M.appendChild(u)}return M}fillSketch(d,u,g){let f=g.fillWeight;f<0&&(f=g.strokeWidth/2);const M=d.createElementNS(Wl,"path");return M.setAttribute("d",this.opsToPath(u,g.fixedDecimalPlaceDigits)),M.setAttribute("stroke",g.fill||""),M.setAttribute("stroke-width",f+""),M.setAttribute("fill","none"),g.fillLineDash&&M.setAttribute("stroke-dasharray",g.fillLineDash.join(" ").trim()),g.fillLineDashOffset&&M.setAttribute("stroke-dashoffset",`${g.fillLineDashOffset}`),M}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d,u){return this.gen.opsToPath(d,u)}line(d,u,g,f,M){const P=this.gen.line(d,u,g,f,M);return this.draw(P)}rectangle(d,u,g,f,M){const P=this.gen.rectangle(d,u,g,f,M);return this.draw(P)}ellipse(d,u,g,f,M){const P=this.gen.ellipse(d,u,g,f,M);return this.draw(P)}circle(d,u,g,f){const M=this.gen.circle(d,u,g,f);return this.draw(M)}linearPath(d,u){const g=this.gen.linearPath(d,u);return this.draw(g)}polygon(d,u){const g=this.gen.polygon(d,u);return this.draw(g)}arc(d,u,g,f,M,P,tt=!1,rt){const it=this.gen.arc(d,u,g,f,M,P,tt,rt);return this.draw(it)}curve(d,u){const g=this.gen.curve(d,u);return this.draw(g)}path(d,u){const g=this.gen.path(d,u);return this.draw(g)}}var at_svg=(d,u)=>new ot(d,u),jl=__name((async(d,u,g)=>{let f;const M=u.useHtmlLabels||Rr(bi()?.htmlLabels);f=g||"node default";const P=d.insert("g").attr("class",f).attr("id",u.domId||u.id),tt=P.insert("g").attr("class","label").attr("style",handleUndefinedAttr(u.labelStyle));let rt;rt=void 0===u.label?"":"string"==typeof u.label?u.label:u.label[0];const it=await Dl(tt,Fr(js(rt),bi()),{useHtmlLabels:M,width:u.width||bi().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:u.labelStyle,addSvgBackground:!!u.icon||!!u.img});let nt=it.getBBox();const at=(u?.padding??0)/2;if(M){const d=it.children[0],u=select(it),g=d.getElementsByTagName("img");if(g){const d=""===rt.replace(/<img[^>]*>/g,"").trim();await Promise.all([...g].map((u=>new Promise((g=>{function setupImage(){if(u.style.display="flex",u.style.flexDirection="column",d){const d=bi().fontSize?bi().fontSize:window.getComputedStyle(document.body).fontSize,g=5,[f=ar.fontSize]=zs(d),M=f*g+"px";u.style.minWidth=M,u.style.maxWidth=M}else u.style.width="100%";g(u)}__name(setupImage,"setupImage"),setTimeout((()=>{u.complete&&setupImage()})),u.addEventListener("error",setupImage),u.addEventListener("load",setupImage)})))))}nt=d.getBoundingClientRect(),u.attr("width",nt.width),u.attr("height",nt.height)}return M?tt.attr("transform","translate("+-nt.width/2+", "+-nt.height/2+")"):tt.attr("transform","translate(0, "+-nt.height/2+")"),u.centerLabel&&tt.attr("transform","translate("+-nt.width/2+", "+-nt.height/2+")"),tt.insert("rect",":first-child"),{shapeSvg:P,bbox:nt,halfPadding:at,label:tt}}),"labelHelper"),Hl=__name((async(d,u,g)=>{const f=g.useHtmlLabels||Rr(bi()?.flowchart?.htmlLabels),M=d.insert("g").attr("class","label").attr("style",g.labelStyle||""),P=await Dl(M,Fr(js(u),bi()),{useHtmlLabels:f,width:g.width||bi()?.flowchart?.wrappingWidth,style:g.labelStyle,addSvgBackground:!!g.icon||!!g.img});let tt=P.getBBox();const rt=g.padding/2;if(Rr(bi()?.flowchart?.htmlLabels)){const d=P.children[0],u=select(P);tt=d.getBoundingClientRect(),u.attr("width",tt.width),u.attr("height",tt.height)}return f?M.attr("transform","translate("+-tt.width/2+", "+-tt.height/2+")"):M.attr("transform","translate(0, "+-tt.height/2+")"),g.centerLabel&&M.attr("transform","translate("+-tt.width/2+", "+-tt.height/2+")"),M.insert("rect",":first-child"),{shapeSvg:d,bbox:tt,halfPadding:rt,label:M}}),"insertLabel"),Yl=__name(((d,u)=>{const g=u.node().getBBox();d.width=g.width,d.height=g.height}),"updateNodeBounds"),Gl=__name(((d,u)=>("handDrawn"===d.look?"rough-node":"node")+" "+d.cssClasses+" "+(u||"")),"getNodeClasses");function createPathFromPoints(d){const u=d.map(((d,u)=>`${0===u?"M":"L"}${d.x},${d.y}`));return u.push("Z"),u.join(" ")}function generateFullSineWavePoints(d,u,g,f,M,P){const tt=[],rt=g-d,it=f-u,nt=rt/P,at=2*Math.PI/nt,st=u+it/2;for(let lt=0;lt<=50;lt++){const u=d+lt/50*rt,g=st+M*Math.sin(at*(u-d));tt.push({x:u,y:g})}return tt}function generateCirclePoints(d,u,g,f,M,P){const tt=[],rt=M*Math.PI/180,it=(P*Math.PI/180-rt)/(f-1);for(let nt=0;nt<f;nt++){const f=rt+nt*it,M=d+g*Math.cos(f),P=u+g*Math.sin(f);tt.push({x:-M,y:-P})}return tt}__name(createPathFromPoints,"createPathFromPoints"),__name(generateFullSineWavePoints,"generateFullSineWavePoints"),__name(generateCirclePoints,"generateCirclePoints");var Ul=__name(((d,u)=>{var g,f,M=d.x,P=d.y,tt=u.x-M,rt=u.y-P,it=d.width/2,nt=d.height/2;return Math.abs(rt)*it>Math.abs(tt)*nt?(rt<0&&(nt=-nt),g=0===rt?0:nt*tt/rt,f=nt):(tt<0&&(it=-it),g=it,f=0===tt?0:it*rt/tt),{x:M+g,y:P+f}}),"intersectRect");function applyStyle(d,u){u&&d.attr("style",u)}async function addHtmlLabel(d){const u=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),g=u.append("xhtml:div");let f=d.label;d.label&&Ur(d.label)&&(f=await Xr(d.label.replace(Zr.lineBreakRegex,"\n"),bi()));const M=d.isNode?"nodeLabel":"edgeLabel";return g.html('<span class="'+M+'" '+(d.labelStyle?'style="'+d.labelStyle+'"':"")+">"+f+"</span>"),applyStyle(g,d.labelStyle),g.style("display","inline-block"),g.style("padding-right","1px"),g.style("white-space","nowrap"),g.attr("xmlns","http://www.w3.org/1999/xhtml"),u.node()}__name(applyStyle,"applyStyle"),__name(addHtmlLabel,"addHtmlLabel");var Vl=__name((async(d,u,g,f)=>{let M=d||"";if("object"==typeof M&&(M=M[0]),Rr(bi().flowchart.htmlLabels)){M=M.replace(/\\n|\n/g,"<br />"),Le.info("vertexText"+M);const d={isNode:f,label:js(M).replace(/fa[blrs]?:fa-[\w-]+/g,(d=>`<i class='${d.replace(":"," ")}'></i>`)),labelStyle:u?u.replace("fill:","color:"):u};return await addHtmlLabel(d)}{const d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",u.replace("color:","fill:"));let f=[];f="string"==typeof M?M.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(M)?M:[];for(const u of f){const f=document.createElementNS("http://www.w3.org/2000/svg","tspan");f.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),f.setAttribute("dy","1em"),f.setAttribute("x","0"),g?f.setAttribute("class","title-row"):f.setAttribute("class","row"),f.textContent=u.trim(),d.appendChild(f)}return d}}),"createLabel"),Xl=__name(((d,u,g,f,M)=>["M",d+M,u,"H",d+g-M,"A",M,M,0,0,1,d+g,u+M,"V",u+f-M,"A",M,M,0,0,1,d+g-M,u+f,"H",d+M,"A",M,M,0,0,1,d,u+f-M,"V",u+M,"A",M,M,0,0,1,d+M,u,"Z"].join(" ")),"createRoundedRectPathD"),Zl=__name((d=>{const{handDrawnSeed:u}=bi();return{fill:d,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:d,seed:u}}),"solidStateFill"),Ql=__name((d=>{const u=Kl([...d.cssCompiledStyles||[],...d.cssStyles||[]]);return{stylesMap:u,stylesArray:[...u]}}),"compileStyles"),Kl=__name((d=>{const u=new Map;return d.forEach((d=>{const[g,f]=d.split(":");u.set(g.trim(),f?.trim())})),u}),"styles2Map"),Jl=__name((d=>{const{stylesArray:u}=Ql(d),g=[],f=[],M=[],P=[];return u.forEach((d=>{const u=d[0];"color"===u||"font-size"===u||"font-family"===u||"font-weight"===u||"font-style"===u||"text-decoration"===u||"text-align"===u||"text-transform"===u||"line-height"===u||"letter-spacing"===u||"word-spacing"===u||"text-shadow"===u||"text-overflow"===u||"white-space"===u||"word-wrap"===u||"word-break"===u||"overflow-wrap"===u||"hyphens"===u?g.push(d.join(":")+" !important"):(f.push(d.join(":")+" !important"),u.includes("stroke")&&M.push(d.join(":")+" !important"),"fill"===u&&P.push(d.join(":")+" !important"))})),{labelStyles:g.join(";"),nodeStyles:f.join(";"),stylesArray:u,borderStyles:M,backgroundStyles:P}}),"styles2String"),tc=__name(((d,u)=>{const{themeVariables:g,handDrawnSeed:f}=bi(),{nodeBorder:M,mainBkg:P}=g,{stylesMap:tt}=Ql(d);return Object.assign({roughness:.7,fill:tt.get("fill")||P,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:tt.get("stroke")||M,seed:f,strokeWidth:tt.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},u)}),"userNodeOverrides"),ec=__name((async(d,u)=>{Le.info("Creating subgraph rect for ",u.id,u);const g=bi(),{themeVariables:f,handDrawnSeed:M}=g,{clusterBkg:P,clusterBorder:tt}=f,{labelStyles:rt,nodeStyles:it,borderStyles:nt,backgroundStyles:at}=Jl(u),st=d.insert("g").attr("class","cluster "+u.cssClasses).attr("id",u.id).attr("data-look",u.look),lt=Rr(g.flowchart.htmlLabels),ct=st.insert("g").attr("class","cluster-label "),ht=await Dl(ct,u.label,{style:u.labelStyle,useHtmlLabels:lt,isNode:!0});let dt=ht.getBBox();if(Rr(g.flowchart.htmlLabels)){const d=ht.children[0],u=select(ht);dt=d.getBoundingClientRect(),u.attr("width",dt.width),u.attr("height",dt.height)}const ut=u.width<=dt.width+u.padding?dt.width+u.padding:u.width;u.width<=dt.width+u.padding?u.diff=(ut-u.width)/2-u.padding:u.diff=-u.padding;const pt=u.height,gt=u.x-ut/2,ft=u.y-pt/2;let mt;if(Le.trace("Data ",u,JSON.stringify(u)),"handDrawn"===u.look){const d=at_svg(st),g=tc(u,{roughness:.7,fill:P,stroke:tt,fillWeight:3,seed:M}),f=d.path(Xl(gt,ft,ut,pt,0),g);mt=st.insert((()=>(Le.debug("Rough node insert CXC",f),f)),":first-child"),mt.select("path:nth-child(2)").attr("style",nt.join(";")),mt.select("path").attr("style",at.join(";").replace("fill","stroke"))}else mt=st.insert("rect",":first-child"),mt.attr("style",it).attr("rx",u.rx).attr("ry",u.ry).attr("x",gt).attr("y",ft).attr("width",ut).attr("height",pt);const{subGraphTitleTopMargin:yt}=Wn(g);if(ct.attr("transform",`translate(${u.x-dt.width/2}, ${u.y-u.height/2+yt})`),rt){const d=ct.select("span");d&&d.attr("style",rt)}const xt=mt.node().getBBox();return u.offsetX=0,u.width=xt.width,u.height=xt.height,u.offsetY=dt.height-u.padding/2,u.intersect=function(d){return Ul(u,d)},{cluster:st,labelBBox:dt}}),"rect"),rc=__name(((d,u)=>{const g=d.insert("g").attr("class","note-cluster").attr("id",u.id),f=g.insert("rect",":first-child"),M=0*u.padding,P=M/2;f.attr("rx",u.rx).attr("ry",u.ry).attr("x",u.x-u.width/2-P).attr("y",u.y-u.height/2-P).attr("width",u.width+M).attr("height",u.height+M).attr("fill","none");const tt=f.node().getBBox();return u.width=tt.width,u.height=tt.height,u.intersect=function(d){return Ul(u,d)},{cluster:g,labelBBox:{width:0,height:0}}}),"noteGroup"),ic=__name((async(d,u)=>{const g=bi(),{themeVariables:f,handDrawnSeed:M}=g,{altBackground:P,compositeBackground:tt,compositeTitleBackground:rt,nodeBorder:it}=f,nt=d.insert("g").attr("class",u.cssClasses).attr("id",u.id).attr("data-id",u.id).attr("data-look",u.look),at=nt.insert("g",":first-child"),st=nt.insert("g").attr("class","cluster-label");let lt=nt.append("rect");const ct=st.node().appendChild(await Vl(u.label,u.labelStyle,void 0,!0));let ht=ct.getBBox();if(Rr(g.flowchart.htmlLabels)){const d=ct.children[0],u=select(ct);ht=d.getBoundingClientRect(),u.attr("width",ht.width),u.attr("height",ht.height)}const dt=0*u.padding,ut=dt/2,pt=(u.width<=ht.width+u.padding?ht.width+u.padding:u.width)+dt;u.width<=ht.width+u.padding?u.diff=(pt-u.width)/2-u.padding:u.diff=-u.padding;const gt=u.height+dt,ft=u.height+dt-ht.height-6,mt=u.x-pt/2,yt=u.y-gt/2;u.width=pt;const xt=u.y-u.height/2-ut+ht.height+2;let bt;if("handDrawn"===u.look){const d=u.cssClasses.includes("statediagram-cluster-alt"),g=at_svg(nt),f=u.rx||u.ry?g.path(Xl(mt,yt,pt,gt,10),{roughness:.7,fill:rt,fillStyle:"solid",stroke:it,seed:M}):g.rectangle(mt,yt,pt,gt,{seed:M});bt=nt.insert((()=>f),":first-child");const at=g.rectangle(mt,xt,pt,ft,{fill:d?P:tt,fillStyle:d?"hachure":"solid",stroke:it,seed:M});bt=nt.insert((()=>f),":first-child"),lt=nt.insert((()=>at))}else{bt=at.insert("rect",":first-child");const d="outer";bt.attr("class",d).attr("x",mt).attr("y",yt).attr("width",pt).attr("height",gt).attr("data-look",u.look),lt.attr("class","inner").attr("x",mt).attr("y",xt).attr("width",pt).attr("height",ft)}st.attr("transform",`translate(${u.x-ht.width/2}, ${yt+1-(Rr(g.flowchart.htmlLabels)?0:3)})`);const kt=bt.node().getBBox();return u.height=kt.height,u.offsetX=0,u.offsetY=ht.height-u.padding/2,u.labelBBox=ht,u.intersect=function(d){return Ul(u,d)},{cluster:nt,labelBBox:ht}}),"roundedWithTitle"),nc=__name((async(d,u)=>{Le.info("Creating subgraph rect for ",u.id,u);const g=bi(),{themeVariables:f,handDrawnSeed:M}=g,{clusterBkg:P,clusterBorder:tt}=f,{labelStyles:rt,nodeStyles:it,borderStyles:nt,backgroundStyles:at}=Jl(u),st=d.insert("g").attr("class","cluster "+u.cssClasses).attr("id",u.id).attr("data-look",u.look),lt=Rr(g.flowchart.htmlLabels),ct=st.insert("g").attr("class","cluster-label "),ht=await Dl(ct,u.label,{style:u.labelStyle,useHtmlLabels:lt,isNode:!0,width:u.width});let dt=ht.getBBox();if(Rr(g.flowchart.htmlLabels)){const d=ht.children[0],u=select(ht);dt=d.getBoundingClientRect(),u.attr("width",dt.width),u.attr("height",dt.height)}const ut=u.width<=dt.width+u.padding?dt.width+u.padding:u.width;u.width<=dt.width+u.padding?u.diff=(ut-u.width)/2-u.padding:u.diff=-u.padding;const pt=u.height,gt=u.x-ut/2,ft=u.y-pt/2;let mt;if(Le.trace("Data ",u,JSON.stringify(u)),"handDrawn"===u.look){const d=at_svg(st),g=tc(u,{roughness:.7,fill:P,stroke:tt,fillWeight:4,seed:M}),f=d.path(Xl(gt,ft,ut,pt,u.rx),g);mt=st.insert((()=>(Le.debug("Rough node insert CXC",f),f)),":first-child"),mt.select("path:nth-child(2)").attr("style",nt.join(";")),mt.select("path").attr("style",at.join(";").replace("fill","stroke"))}else mt=st.insert("rect",":first-child"),mt.attr("style",it).attr("rx",u.rx).attr("ry",u.ry).attr("x",gt).attr("y",ft).attr("width",ut).attr("height",pt);const{subGraphTitleTopMargin:yt}=Wn(g);if(ct.attr("transform",`translate(${u.x-dt.width/2}, ${u.y-u.height/2+yt})`),rt){const d=ct.select("span");d&&d.attr("style",rt)}const xt=mt.node().getBBox();return u.offsetX=0,u.width=xt.width,u.height=xt.height,u.offsetY=dt.height-u.padding/2,u.intersect=function(d){return Ul(u,d)},{cluster:st,labelBBox:dt}}),"kanbanSection"),ac={rect:ec,squareRect:ec,roundedWithTitle:ic,noteGroup:rc,divider:__name(((d,u)=>{const g=bi(),{themeVariables:f,handDrawnSeed:M}=g,{nodeBorder:P}=f,tt=d.insert("g").attr("class",u.cssClasses).attr("id",u.id).attr("data-look",u.look),rt=tt.insert("g",":first-child"),it=0*u.padding,nt=u.width+it;u.diff=-u.padding;const at=u.height+it,st=u.x-nt/2,lt=u.y-at/2;let ct;if(u.width=nt,"handDrawn"===u.look){const d=at_svg(tt).rectangle(st,lt,nt,at,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:P,seed:M});ct=tt.insert((()=>d),":first-child")}else{ct=rt.insert("rect",":first-child");const d="divider";ct.attr("class",d).attr("x",st).attr("y",lt).attr("width",nt).attr("height",at).attr("data-look",u.look)}const ht=ct.node().getBBox();return u.height=ht.height,u.offsetX=0,u.offsetY=0,u.intersect=function(d){return Ul(u,d)},{cluster:tt,labelBBox:{}}}),"divider"),kanbanSection:nc},oc=new Map,sc=__name((async(d,u)=>{const g=u.shape||"rect",f=await ac[g](d,u);return oc.set(u.id,f),f}),"insertCluster"),lc=__name((()=>{oc=new Map}),"clear");function intersectNode(d,u){return d.intersect(u)}__name(intersectNode,"intersectNode");var cc=intersectNode;function intersectEllipse(d,u,g,f){var M=d.x,P=d.y,tt=M-f.x,rt=P-f.y,it=Math.sqrt(u*u*rt*rt+g*g*tt*tt),nt=Math.abs(u*g*tt/it);f.x<M&&(nt=-nt);var at=Math.abs(u*g*rt/it);return f.y<P&&(at=-at),{x:M+nt,y:P+at}}__name(intersectEllipse,"intersectEllipse");var hc=intersectEllipse;function intersectCircle(d,u,g){return hc(d,u,u,g)}__name(intersectCircle,"intersectCircle");var dc=intersectCircle;function intersectLine(d,u,g,f){var M,P,tt,rt,it,nt,at,st,lt,ct,ht,dt,ut;if(M=u.y-d.y,tt=d.x-u.x,it=u.x*d.y-d.x*u.y,lt=M*g.x+tt*g.y+it,ct=M*f.x+tt*f.y+it,!(0!==lt&&0!==ct&&sameSign(lt,ct)||(P=f.y-g.y,rt=g.x-f.x,nt=f.x*g.y-g.x*f.y,at=P*d.x+rt*d.y+nt,st=P*u.x+rt*u.y+nt,0!==at&&0!==st&&sameSign(at,st)||0==(ht=M*rt-P*tt))))return dt=Math.abs(ht/2),{x:(ut=tt*nt-rt*it)<0?(ut-dt)/ht:(ut+dt)/ht,y:(ut=P*it-M*nt)<0?(ut-dt)/ht:(ut+dt)/ht}}function sameSign(d,u){return d*u>0}__name(intersectLine,"intersectLine"),__name(sameSign,"sameSign");var uc=intersectLine;function intersectPolygon(d,u,g){let f=d.x,M=d.y,P=[],tt=Number.POSITIVE_INFINITY,rt=Number.POSITIVE_INFINITY;"function"==typeof u.forEach?u.forEach((function(d){tt=Math.min(tt,d.x),rt=Math.min(rt,d.y)})):(tt=Math.min(tt,u.x),rt=Math.min(rt,u.y));let it=f-d.width/2-tt,nt=M-d.height/2-rt;for(let at=0;at<u.length;at++){let f=u[at],M=u[at<u.length-1?at+1:0],tt=uc(d,g,{x:it+f.x,y:nt+f.y},{x:it+M.x,y:nt+M.y});tt&&P.push(tt)}return P.length?(P.length>1&&P.sort((function(d,u){let f=d.x-g.x,M=d.y-g.y,P=Math.sqrt(f*f+M*M),tt=u.x-g.x,rt=u.y-g.y,it=Math.sqrt(tt*tt+rt*rt);return P<it?-1:P===it?0:1})),P[0]):d}__name(intersectPolygon,"intersectPolygon");var pc={node:cc,circle:dc,ellipse:hc,polygon:intersectPolygon,rect:Ul};function anchor(d,u){const{labelStyles:g}=Jl(u);u.labelStyle=g;const f=Gl(u);let M=f;f||(M="anchor");const P=d.insert("g").attr("class",M).attr("id",u.domId||u.id),{cssStyles:tt}=u,rt=at_svg(P),it=tc(u,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==u.look&&(it.roughness=0);const nt=rt.circle(0,0,2,it),at=P.insert((()=>nt),":first-child");return at.attr("class","anchor").attr("style",handleUndefinedAttr(tt)),Yl(u,at),u.intersect=function(d){return Le.info("Circle intersect",u,1,d),pc.circle(u,1,d)},P}function generateArcPoints(d,u,g,f,M,P,tt){const rt=(d+g)/2,it=(u+f)/2,nt=Math.atan2(f-u,g-d),at=(g-d)/2/M,st=(f-u)/2/P,lt=Math.sqrt(at**2+st**2);if(lt>1)throw new Error("The given radii are too small to create an arc between the points.");const ct=Math.sqrt(1-lt**2),ht=rt+ct*P*Math.sin(nt)*(tt?-1:1),dt=it-ct*M*Math.cos(nt)*(tt?-1:1),ut=Math.atan2((u-dt)/P,(d-ht)/M);let pt=Math.atan2((f-dt)/P,(g-ht)/M)-ut;tt&&pt<0&&(pt+=2*Math.PI),!tt&&pt>0&&(pt-=2*Math.PI);const gt=[];for(let ft=0;ft<20;ft++){const d=ut+ft/19*pt,u=ht+M*Math.cos(d),g=dt+P*Math.sin(d);gt.push({x:u,y:g})}return gt}async function bowTieRect(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.width+u.padding+20,rt=P.height+u.padding,it=rt/2,nt=it/(2.5+rt/50),{cssStyles:at}=u,st=[{x:tt/2,y:-rt/2},{x:-tt/2,y:-rt/2},...generateArcPoints(-tt/2,-rt/2,-tt/2,rt/2,nt,it,!1),{x:tt/2,y:rt/2},...generateArcPoints(tt/2,rt/2,tt/2,-rt/2,nt,it,!0)],lt=at_svg(M),ct=tc(u,{});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=createPathFromPoints(st),dt=lt.path(ht,ct),ut=M.insert((()=>dt),":first-child");return ut.attr("class","basic label-container"),at&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",at),f&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",f),ut.attr("transform",`translate(${nt/2}, 0)`),Yl(u,ut),u.intersect=function(d){return pc.polygon(u,st,d)},M}function insertPolygonShape(d,u,g,f){return d.insert("polygon",":first-child").attr("points",f.map((function(d){return d.x+","+d.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-u/2+","+g/2+")")}async function card(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.height+u.padding,rt=P.width+u.padding+12,it=-tt,nt=[{x:12,y:it},{x:rt,y:it},{x:rt,y:0},{x:0,y:0},{x:0,y:it+12},{x:12,y:it}];let at;const{cssStyles:st}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=createPathFromPoints(nt),P=d.path(f,g);at=M.insert((()=>P),":first-child").attr("transform",`translate(${-rt/2}, ${tt/2})`),st&&at.attr("style",st)}else at=insertPolygonShape(M,rt,tt,nt);return f&&at.attr("style",f),Yl(u,at),u.intersect=function(d){return pc.polygon(u,nt,d)},M}function choice(d,u){const{nodeStyles:g}=Jl(u);u.label="";const f=d.insert("g").attr("class",Gl(u)).attr("id",u.domId??u.id),{cssStyles:M}=u,P=Math.max(28,u.width??0),tt=[{x:0,y:P/2},{x:P/2,y:0},{x:0,y:-P/2},{x:-P/2,y:0}],rt=at_svg(f),it=tc(u,{});"handDrawn"!==u.look&&(it.roughness=0,it.fillStyle="solid");const nt=createPathFromPoints(tt),at=rt.path(nt,it),st=f.insert((()=>at),":first-child");return M&&"handDrawn"!==u.look&&st.selectAll("path").attr("style",M),g&&"handDrawn"!==u.look&&st.selectAll("path").attr("style",g),u.width=28,u.height=28,u.intersect=function(d){return pc.polygon(u,tt,d)},f}async function circle$1(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,halfPadding:tt}=await jl(d,u,Gl(u)),rt=P.width/2+tt;let it;const{cssStyles:nt}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=d.circle(0,0,2*rt,g);it=M.insert((()=>f),":first-child"),it.attr("class","basic label-container").attr("style",handleUndefinedAttr(nt))}else it=M.insert("circle",":first-child").attr("class","basic label-container").attr("style",f).attr("r",rt).attr("cx",0).attr("cy",0);return Yl(u,it),u.intersect=function(d){return Le.info("Circle intersect",u,rt,d),pc.circle(u,rt,d)},M}function createLine(d){const u=Math.cos(Math.PI/4),g=Math.sin(Math.PI/4),f=2*d;return`M ${-f/2*u},${f/2*g} L ${f/2*u},${-f/2*g}\n                   M ${f/2*u},${f/2*g} L ${-f/2*u},${-f/2*g}`}function crossedCircle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g,u.label="";const M=d.insert("g").attr("class",Gl(u)).attr("id",u.domId??u.id),P=Math.max(30,u?.width??0),{cssStyles:tt}=u,rt=at_svg(M),it=tc(u,{});"handDrawn"!==u.look&&(it.roughness=0,it.fillStyle="solid");const nt=rt.circle(0,0,2*P,it),at=createLine(P),st=rt.path(at,it),lt=M.insert((()=>nt),":first-child");return lt.insert((()=>st)),tt&&"handDrawn"!==u.look&&lt.selectAll("path").attr("style",tt),f&&"handDrawn"!==u.look&&lt.selectAll("path").attr("style",f),Yl(u,lt),u.intersect=function(d){Le.info("crossedCircle intersect",u,{radius:P,point:d});return pc.circle(u,P,d)},M}function generateCirclePoints2(d,u,g,f=100,M=0,P=180){const tt=[],rt=M*Math.PI/180,it=(P*Math.PI/180-rt)/(f-1);for(let nt=0;nt<f;nt++){const f=rt+nt*it,M=d+g*Math.cos(f),P=u+g*Math.sin(f);tt.push({x:-M,y:-P})}return tt}async function curlyBraceLeft(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=P.width+(u.padding??0),it=P.height+(u.padding??0),nt=Math.max(5,.1*it),{cssStyles:at}=u,st=[...generateCirclePoints2(rt/2,-it/2,nt,30,-90,0),{x:-rt/2-nt,y:nt},...generateCirclePoints2(rt/2+2*nt,-nt,nt,20,-180,-270),...generateCirclePoints2(rt/2+2*nt,nt,nt,20,-90,-180),{x:-rt/2-nt,y:-it/2},...generateCirclePoints2(rt/2,it/2,nt,20,0,90)],lt=[{x:rt/2,y:-it/2-nt},{x:-rt/2,y:-it/2-nt},...generateCirclePoints2(rt/2,-it/2,nt,20,-90,0),{x:-rt/2-nt,y:-nt},...generateCirclePoints2(rt/2+.1*rt,-nt,nt,20,-180,-270),...generateCirclePoints2(rt/2+.1*rt,nt,nt,20,-90,-180),{x:-rt/2-nt,y:it/2},...generateCirclePoints2(rt/2,it/2,nt,20,0,90),{x:-rt/2,y:it/2+nt},{x:rt/2,y:it/2+nt}],ct=at_svg(M),ht=tc(u,{fill:"none"});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=createPathFromPoints(st).replace("Z",""),ut=ct.path(dt,ht),pt=createPathFromPoints(lt),gt=ct.path(pt,{...ht}),ft=M.insert("g",":first-child");return ft.insert((()=>gt),":first-child").attr("stroke-opacity",0),ft.insert((()=>ut),":first-child"),ft.attr("class","text"),at&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",at),f&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",f),ft.attr("transform",`translate(${nt}, 0)`),tt.attr("transform",`translate(${-rt/2+nt-(P.x-(P.left??0))},${-it/2+(u.padding??0)/2-(P.y-(P.top??0))})`),Yl(u,ft),u.intersect=function(d){return pc.polygon(u,lt,d)},M}function generateCirclePoints3(d,u,g,f=100,M=0,P=180){const tt=[],rt=M*Math.PI/180,it=(P*Math.PI/180-rt)/(f-1);for(let nt=0;nt<f;nt++){const f=rt+nt*it,M=d+g*Math.cos(f),P=u+g*Math.sin(f);tt.push({x:M,y:P})}return tt}async function curlyBraceRight(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=P.width+(u.padding??0),it=P.height+(u.padding??0),nt=Math.max(5,.1*it),{cssStyles:at}=u,st=[...generateCirclePoints3(rt/2,-it/2,nt,20,-90,0),{x:rt/2+nt,y:-nt},...generateCirclePoints3(rt/2+2*nt,-nt,nt,20,-180,-270),...generateCirclePoints3(rt/2+2*nt,nt,nt,20,-90,-180),{x:rt/2+nt,y:it/2},...generateCirclePoints3(rt/2,it/2,nt,20,0,90)],lt=[{x:-rt/2,y:-it/2-nt},{x:rt/2,y:-it/2-nt},...generateCirclePoints3(rt/2,-it/2,nt,20,-90,0),{x:rt/2+nt,y:-nt},...generateCirclePoints3(rt/2+2*nt,-nt,nt,20,-180,-270),...generateCirclePoints3(rt/2+2*nt,nt,nt,20,-90,-180),{x:rt/2+nt,y:it/2},...generateCirclePoints3(rt/2,it/2,nt,20,0,90),{x:rt/2,y:it/2+nt},{x:-rt/2,y:it/2+nt}],ct=at_svg(M),ht=tc(u,{fill:"none"});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=createPathFromPoints(st).replace("Z",""),ut=ct.path(dt,ht),pt=createPathFromPoints(lt),gt=ct.path(pt,{...ht}),ft=M.insert("g",":first-child");return ft.insert((()=>gt),":first-child").attr("stroke-opacity",0),ft.insert((()=>ut),":first-child"),ft.attr("class","text"),at&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",at),f&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",f),ft.attr("transform",`translate(${-nt}, 0)`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)/2-(P.x-(P.left??0))},${-it/2+(u.padding??0)/2-(P.y-(P.top??0))})`),Yl(u,ft),u.intersect=function(d){return pc.polygon(u,lt,d)},M}function generateCirclePoints4(d,u,g,f=100,M=0,P=180){const tt=[],rt=M*Math.PI/180,it=(P*Math.PI/180-rt)/(f-1);for(let nt=0;nt<f;nt++){const f=rt+nt*it,M=d+g*Math.cos(f),P=u+g*Math.sin(f);tt.push({x:-M,y:-P})}return tt}async function curlyBraces(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=P.width+(u.padding??0),it=P.height+(u.padding??0),nt=Math.max(5,.1*it),{cssStyles:at}=u,st=[...generateCirclePoints4(rt/2,-it/2,nt,30,-90,0),{x:-rt/2-nt,y:nt},...generateCirclePoints4(rt/2+2*nt,-nt,nt,20,-180,-270),...generateCirclePoints4(rt/2+2*nt,nt,nt,20,-90,-180),{x:-rt/2-nt,y:-it/2},...generateCirclePoints4(rt/2,it/2,nt,20,0,90)],lt=[...generateCirclePoints4(-rt/2+nt+nt/2,-it/2,nt,20,-90,-180),{x:rt/2-nt/2,y:nt},...generateCirclePoints4(-rt/2-nt/2,-nt,nt,20,0,90),...generateCirclePoints4(-rt/2-nt/2,nt,nt,20,-90,0),{x:rt/2-nt/2,y:-nt},...generateCirclePoints4(-rt/2+nt+nt/2,it/2,nt,30,-180,-270)],ct=[{x:rt/2,y:-it/2-nt},{x:-rt/2,y:-it/2-nt},...generateCirclePoints4(rt/2,-it/2,nt,20,-90,0),{x:-rt/2-nt,y:-nt},...generateCirclePoints4(rt/2+2*nt,-nt,nt,20,-180,-270),...generateCirclePoints4(rt/2+2*nt,nt,nt,20,-90,-180),{x:-rt/2-nt,y:it/2},...generateCirclePoints4(rt/2,it/2,nt,20,0,90),{x:-rt/2,y:it/2+nt},{x:rt/2-nt-nt/2,y:it/2+nt},...generateCirclePoints4(-rt/2+nt+nt/2,-it/2,nt,20,-90,-180),{x:rt/2-nt/2,y:nt},...generateCirclePoints4(-rt/2-nt/2,-nt,nt,20,0,90),...generateCirclePoints4(-rt/2-nt/2,nt,nt,20,-90,0),{x:rt/2-nt/2,y:-nt},...generateCirclePoints4(-rt/2+nt+nt/2,it/2,nt,30,-180,-270)],ht=at_svg(M),dt=tc(u,{fill:"none"});"handDrawn"!==u.look&&(dt.roughness=0,dt.fillStyle="solid");const ut=createPathFromPoints(st).replace("Z",""),pt=ht.path(ut,dt),gt=createPathFromPoints(lt).replace("Z",""),ft=ht.path(gt,dt),mt=createPathFromPoints(ct),yt=ht.path(mt,{...dt}),xt=M.insert("g",":first-child");return xt.insert((()=>yt),":first-child").attr("stroke-opacity",0),xt.insert((()=>pt),":first-child"),xt.insert((()=>ft),":first-child"),xt.attr("class","text"),at&&"handDrawn"!==u.look&&xt.selectAll("path").attr("style",at),f&&"handDrawn"!==u.look&&xt.selectAll("path").attr("style",f),xt.attr("transform",`translate(${nt-nt/4}, 0)`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)/2-(P.x-(P.left??0))},${-it/2+(u.padding??0)/2-(P.y-(P.top??0))})`),Yl(u,xt),u.intersect=function(d){return pc.polygon(u,ct,d)},M}async function curvedTrapezoid(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(80,1.25*(P.width+2*(u.padding??0)),u?.width??0),rt=Math.max(20,P.height+2*(u.padding??0),u?.height??0),it=rt/2,{cssStyles:nt}=u,at=at_svg(M),st=tc(u,{});"handDrawn"!==u.look&&(st.roughness=0,st.fillStyle="solid");const lt=tt-it,ct=rt/4,ht=[{x:lt,y:0},{x:ct,y:0},{x:0,y:rt/2},{x:ct,y:rt},{x:lt,y:rt},...generateCirclePoints(-lt,-rt/2,it,50,270,90)],dt=createPathFromPoints(ht),ut=at.path(dt,st),pt=M.insert((()=>ut),":first-child");return pt.attr("class","basic label-container"),nt&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",nt),f&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",f),pt.attr("transform",`translate(${-tt/2}, ${-rt/2})`),Yl(u,pt),u.intersect=function(d){return pc.polygon(u,ht,d)},M}__name(anchor,"anchor"),__name(generateArcPoints,"generateArcPoints"),__name(bowTieRect,"bowTieRect"),__name(insertPolygonShape,"insertPolygonShape"),__name(card,"card"),__name(choice,"choice"),__name(circle$1,"circle"),__name(createLine,"createLine"),__name(crossedCircle,"crossedCircle"),__name(generateCirclePoints2,"generateCirclePoints"),__name(curlyBraceLeft,"curlyBraceLeft"),__name(generateCirclePoints3,"generateCirclePoints"),__name(curlyBraceRight,"curlyBraceRight"),__name(generateCirclePoints4,"generateCirclePoints"),__name(curlyBraces,"curlyBraces"),__name(curvedTrapezoid,"curvedTrapezoid");var gc=__name(((d,u,g,f,M,P)=>[`M${d},${u+P}`,`a${M},${P} 0,0,0 ${g},0`,`a${M},${P} 0,0,0 ${-g},0`,`l0,${f}`,`a${M},${P} 0,0,0 ${g},0`,"l0,"+-f].join(" ")),"createCylinderPathD"),fc=__name(((d,u,g,f,M,P)=>[`M${d},${u+P}`,`M${d+g},${u+P}`,`a${M},${P} 0,0,0 ${-g},0`,`l0,${f}`,`a${M},${P} 0,0,0 ${g},0`,"l0,"+-f].join(" ")),"createOuterCylinderPathD"),mc=__name(((d,u,g,f,M,P)=>[`M${d-g/2},${-f/2}`,`a${M},${P} 0,0,0 ${g},0`].join(" ")),"createInnerCylinderPathD");async function cylinder(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+u.padding,u.width??0),it=rt/2,nt=it/(2.5+rt/50),at=Math.max(P.height+nt+u.padding,u.height??0);let st;const{cssStyles:lt}=u;if("handDrawn"===u.look){const d=at_svg(M),g=fc(0,0,rt,at,it,nt),f=mc(0,nt,rt,at,it,nt),P=d.path(g,tc(u,{})),tt=d.path(f,tc(u,{fill:"none"}));st=M.insert((()=>tt),":first-child"),st=M.insert((()=>P),":first-child"),st.attr("class","basic label-container"),lt&&st.attr("style",lt)}else{const d=gc(0,0,rt,at,it,nt);st=M.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",handleUndefinedAttr(lt)).attr("style",f)}return st.attr("label-offset-y",nt),st.attr("transform",`translate(${-rt/2}, ${-(at/2+nt)})`),Yl(u,st),tt.attr("transform",`translate(${-P.width/2-(P.x-(P.left??0))}, ${-P.height/2+(u.padding??0)/1.5-(P.y-(P.top??0))})`),u.intersect=function(d){const g=pc.rect(u,d),f=g.x-(u.x??0);if(0!=it&&(Math.abs(f)<(u.width??0)/2||Math.abs(f)==(u.width??0)/2&&Math.abs(g.y-(u.y??0))>(u.height??0)/2-nt)){let M=nt*nt*(1-f*f/(it*it));M>0&&(M=Math.sqrt(M)),M=nt-M,d.y-(u.y??0)>0&&(M=-M),g.y+=M}return g},M}async function dividedRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=P.width+u.padding,it=P.height+u.padding,nt=.2*it,at=-rt/2,st=-it/2-nt/2,{cssStyles:lt}=u,ct=at_svg(M),ht=tc(u,{});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=[{x:at,y:st+nt},{x:-at,y:st+nt},{x:-at,y:-st},{x:at,y:-st},{x:at,y:st},{x:-at,y:st},{x:-at,y:st+nt}],ut=ct.polygon(dt.map((d=>[d.x,d.y])),ht),pt=M.insert((()=>ut),":first-child");return pt.attr("class","basic label-container"),lt&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",lt),f&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",f),tt.attr("transform",`translate(${at+(u.padding??0)/2-(P.x-(P.left??0))}, ${st+nt+(u.padding??0)/2-(P.y-(P.top??0))})`),Yl(u,pt),u.intersect=function(d){return pc.rect(u,d)},M}async function doublecircle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,halfPadding:tt}=await jl(d,u,Gl(u)),rt=P.width/2+tt+5,it=P.width/2+tt;let nt;const{cssStyles:at}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{roughness:.2,strokeWidth:2.5}),f=tc(u,{roughness:.2,strokeWidth:1.5}),P=d.circle(0,0,2*rt,g),tt=d.circle(0,0,2*it,f);nt=M.insert("g",":first-child"),nt.attr("class",handleUndefinedAttr(u.cssClasses)).attr("style",handleUndefinedAttr(at)),nt.node()?.appendChild(P),nt.node()?.appendChild(tt)}else{nt=M.insert("g",":first-child");const d=nt.insert("circle",":first-child"),u=nt.insert("circle");nt.attr("class","basic label-container").attr("style",f),d.attr("class","outer-circle").attr("style",f).attr("r",rt).attr("cx",0).attr("cy",0),u.attr("class","inner-circle").attr("style",f).attr("r",it).attr("cx",0).attr("cy",0)}return Yl(u,nt),u.intersect=function(d){return Le.info("DoubleCircle intersect",u,rt,d),pc.circle(u,rt,d)},M}function filledCircle(d,u,{config:{themeVariables:g}}){const{labelStyles:f,nodeStyles:M}=Jl(u);u.label="",u.labelStyle=f;const P=d.insert("g").attr("class",Gl(u)).attr("id",u.domId??u.id),{cssStyles:tt}=u,rt=at_svg(P),{nodeBorder:it}=g,nt=tc(u,{fillStyle:"solid"});"handDrawn"!==u.look&&(nt.roughness=0);const at=rt.circle(0,0,14,nt),st=P.insert((()=>at),":first-child");return st.selectAll("path").attr("style",`fill: ${it} !important;`),tt&&tt.length>0&&"handDrawn"!==u.look&&st.selectAll("path").attr("style",tt),M&&"handDrawn"!==u.look&&st.selectAll("path").attr("style",M),Yl(u,st),u.intersect=function(d){Le.info("filledCircle intersect",u,{radius:7,point:d});return pc.circle(u,7,d)},P}async function flippedTriangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=P.width+(u.padding??0),it=rt+P.height,nt=rt+P.height,at=[{x:0,y:-it},{x:nt,y:-it},{x:nt/2,y:0}],{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=createPathFromPoints(at),dt=lt.path(ht,ct),ut=M.insert((()=>dt),":first-child").attr("transform",`translate(${-it/2}, ${it/2})`);return st&&"handDrawn"!==u.look&&ut.selectChildren("path").attr("style",st),f&&"handDrawn"!==u.look&&ut.selectChildren("path").attr("style",f),u.width=rt,u.height=it,Yl(u,ut),tt.attr("transform",`translate(${-P.width/2-(P.x-(P.left??0))}, ${-it/2+(u.padding??0)/2+(P.y-(P.top??0))})`),u.intersect=function(d){return Le.info("Triangle intersect",u,at,d),pc.polygon(u,at,d)},M}function forkJoin(d,u,{dir:g,config:{state:f,themeVariables:M}}){const{nodeStyles:P}=Jl(u);u.label="";const tt=d.insert("g").attr("class",Gl(u)).attr("id",u.domId??u.id),{cssStyles:rt}=u;let it=Math.max(70,u?.width??0),nt=Math.max(10,u?.height??0);"LR"===g&&(it=Math.max(10,u?.width??0),nt=Math.max(70,u?.height??0));const at=-1*it/2,st=-1*nt/2,lt=at_svg(tt),ct=tc(u,{stroke:M.lineColor,fill:M.lineColor});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=lt.rectangle(at,st,it,nt,ct),dt=tt.insert((()=>ht),":first-child");rt&&"handDrawn"!==u.look&&dt.selectAll("path").attr("style",rt),P&&"handDrawn"!==u.look&&dt.selectAll("path").attr("style",P),Yl(u,dt);const ut=f?.padding??0;return u.width&&u.height&&(u.width+=ut/2||0,u.height+=ut/2||0),u.intersect=function(d){return pc.rect(u,d)},tt}async function halfRoundedRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(80,P.width+2*(u.padding??0),u?.width??0),rt=Math.max(50,P.height+2*(u.padding??0),u?.height??0),it=rt/2,{cssStyles:nt}=u,at=at_svg(M),st=tc(u,{});"handDrawn"!==u.look&&(st.roughness=0,st.fillStyle="solid");const lt=[{x:-tt/2,y:-rt/2},{x:tt/2-it,y:-rt/2},...generateCirclePoints(-tt/2+it,0,it,50,90,270),{x:tt/2-it,y:rt/2},{x:-tt/2,y:rt/2}],ct=createPathFromPoints(lt),ht=at.path(ct,st),dt=M.insert((()=>ht),":first-child");return dt.attr("class","basic label-container"),nt&&"handDrawn"!==u.look&&dt.selectChildren("path").attr("style",nt),f&&"handDrawn"!==u.look&&dt.selectChildren("path").attr("style",f),Yl(u,dt),u.intersect=function(d){Le.info("Pill intersect",u,{radius:it,point:d});return pc.polygon(u,lt,d)},M}__name(cylinder,"cylinder"),__name(dividedRectangle,"dividedRectangle"),__name(doublecircle,"doublecircle"),__name(filledCircle,"filledCircle"),__name(flippedTriangle,"flippedTriangle"),__name(forkJoin,"forkJoin"),__name(halfRoundedRectangle,"halfRoundedRectangle");var yc=__name(((d,u,g,f,M)=>[`M${d+M},${u}`,`L${d+g-M},${u}`,`L${d+g},${u-f/2}`,`L${d+g-M},${u-f}`,`L${d+M},${u-f}`,`L${d},${u-f/2}`,"Z"].join(" ")),"createHexagonPathD");async function hexagon(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.height+u.padding,rt=tt/4,it=P.width+2*rt+u.padding,nt=[{x:rt,y:0},{x:it-rt,y:0},{x:it,y:-tt/2},{x:it-rt,y:-tt},{x:rt,y:-tt},{x:0,y:-tt/2}];let at;const{cssStyles:st}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=yc(0,0,it,tt,rt),P=d.path(f,g);at=M.insert((()=>P),":first-child").attr("transform",`translate(${-it/2}, ${tt/2})`),st&&at.attr("style",st)}else at=insertPolygonShape(M,it,tt,nt);return f&&at.attr("style",f),u.width=it,u.height=tt,Yl(u,at),u.intersect=function(d){return pc.polygon(u,nt,d)},M}async function hourglass(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.label="",u.labelStyle=g;const{shapeSvg:M}=await jl(d,u,Gl(u)),P=Math.max(30,u?.width??0),tt=Math.max(30,u?.height??0),{cssStyles:rt}=u,it=at_svg(M),nt=tc(u,{});"handDrawn"!==u.look&&(nt.roughness=0,nt.fillStyle="solid");const at=[{x:0,y:0},{x:P,y:0},{x:0,y:tt},{x:P,y:tt}],st=createPathFromPoints(at),lt=it.path(st,nt),ct=M.insert((()=>lt),":first-child");return ct.attr("class","basic label-container"),rt&&"handDrawn"!==u.look&&ct.selectChildren("path").attr("style",rt),f&&"handDrawn"!==u.look&&ct.selectChildren("path").attr("style",f),ct.attr("transform",`translate(${-P/2}, ${-tt/2})`),Yl(u,ct),u.intersect=function(d){Le.info("Pill intersect",u,{points:at});return pc.polygon(u,at,d)},M}async function icon(d,u,{config:{themeVariables:g,flowchart:f}}){const{labelStyles:M}=Jl(u);u.labelStyle=M;const P=u.assetHeight??48,tt=u.assetWidth??48,rt=Math.max(P,tt),it=f?.wrappingWidth;u.width=Math.max(rt,it??0);const{shapeSvg:nt,bbox:at,label:st}=await jl(d,u,"icon-shape default"),lt="t"===u.pos,ct=rt,ht=rt,{nodeBorder:dt}=g,{stylesMap:ut}=Ql(u),pt=-ht/2,gt=-ct/2,ft=u.label?8:0,mt=at_svg(nt),yt=tc(u,{stroke:"none",fill:"none"});"handDrawn"!==u.look&&(yt.roughness=0,yt.fillStyle="solid");const xt=mt.rectangle(pt,gt,ht,ct,yt),bt=Math.max(ht,at.width),kt=ct+at.height+ft,Ct=mt.rectangle(-bt/2,-kt/2,bt,kt,{...yt,fill:"transparent",stroke:"none"}),_t=nt.insert((()=>xt),":first-child"),wt=nt.insert((()=>Ct));if(u.icon){const d=nt.append("g");d.html(`<g>${await qn(u.icon,{height:rt,width:rt,fallbackPrefix:""})}</g>`);const g=d.node().getBBox(),f=g.width,M=g.height,P=g.x,tt=g.y;d.attr("transform",`translate(${-f/2-P},${lt?at.height/2+ft/2-M/2-tt:-at.height/2-ft/2-M/2-tt})`),d.attr("style",`color: ${ut.get("stroke")??dt};`)}return st.attr("transform",`translate(${-at.width/2-(at.x-(at.left??0))},${lt?-kt/2:kt/2-at.height})`),_t.attr("transform",`translate(0,${lt?at.height/2+ft/2:-at.height/2-ft/2})`),Yl(u,wt),u.intersect=function(d){if(Le.info("iconSquare intersect",u,d),!u.label)return pc.rect(u,d);const g=u.x??0,f=u.y??0,M=u.height??0;let P=[];P=lt?[{x:g-at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2+at.height+ft},{x:g+ht/2,y:f-M/2+at.height+ft},{x:g+ht/2,y:f+M/2},{x:g-ht/2,y:f+M/2},{x:g-ht/2,y:f-M/2+at.height+ft},{x:g-at.width/2,y:f-M/2+at.height+ft}]:[{x:g-ht/2,y:f-M/2},{x:g+ht/2,y:f-M/2},{x:g+ht/2,y:f-M/2+ct},{x:g+at.width/2,y:f-M/2+ct},{x:g+at.width/2/2,y:f+M/2},{x:g-at.width/2,y:f+M/2},{x:g-at.width/2,y:f-M/2+ct},{x:g-ht/2,y:f-M/2+ct}];return pc.polygon(u,P,d)},nt}async function iconCircle(d,u,{config:{themeVariables:g,flowchart:f}}){const{labelStyles:M}=Jl(u);u.labelStyle=M;const P=u.assetHeight??48,tt=u.assetWidth??48,rt=Math.max(P,tt),it=f?.wrappingWidth;u.width=Math.max(rt,it??0);const{shapeSvg:nt,bbox:at,label:st}=await jl(d,u,"icon-shape default"),lt=u.label?8:0,ct="t"===u.pos,{nodeBorder:ht,mainBkg:dt}=g,{stylesMap:ut}=Ql(u),pt=at_svg(nt),gt=tc(u,{});"handDrawn"!==u.look&&(gt.roughness=0,gt.fillStyle="solid");const ft=ut.get("fill");gt.stroke=ft??dt;const mt=nt.append("g");u.icon&&mt.html(`<g>${await qn(u.icon,{height:rt,width:rt,fallbackPrefix:""})}</g>`);const yt=mt.node().getBBox(),xt=yt.width,bt=yt.height,kt=yt.x,Ct=yt.y,_t=Math.max(xt,bt)*Math.SQRT2+40,wt=pt.circle(0,0,_t,gt),St=Math.max(_t,at.width),Tt=_t+at.height+lt,vt=pt.rectangle(-St/2,-Tt/2,St,Tt,{...gt,fill:"transparent",stroke:"none"}),Bt=nt.insert((()=>wt),":first-child"),Lt=nt.insert((()=>vt));return mt.attr("transform",`translate(${-xt/2-kt},${ct?at.height/2+lt/2-bt/2-Ct:-at.height/2-lt/2-bt/2-Ct})`),mt.attr("style",`color: ${ut.get("stroke")??ht};`),st.attr("transform",`translate(${-at.width/2-(at.x-(at.left??0))},${ct?-Tt/2:Tt/2-at.height})`),Bt.attr("transform",`translate(0,${ct?at.height/2+lt/2:-at.height/2-lt/2})`),Yl(u,Lt),u.intersect=function(d){Le.info("iconSquare intersect",u,d);return pc.rect(u,d)},nt}async function iconRounded(d,u,{config:{themeVariables:g,flowchart:f}}){const{labelStyles:M}=Jl(u);u.labelStyle=M;const P=u.assetHeight??48,tt=u.assetWidth??48,rt=Math.max(P,tt),it=f?.wrappingWidth;u.width=Math.max(rt,it??0);const{shapeSvg:nt,bbox:at,halfPadding:st,label:lt}=await jl(d,u,"icon-shape default"),ct="t"===u.pos,ht=rt+2*st,dt=rt+2*st,{nodeBorder:ut,mainBkg:pt}=g,{stylesMap:gt}=Ql(u),ft=-dt/2,mt=-ht/2,yt=u.label?8:0,xt=at_svg(nt),bt=tc(u,{});"handDrawn"!==u.look&&(bt.roughness=0,bt.fillStyle="solid");const kt=gt.get("fill");bt.stroke=kt??pt;const Ct=xt.path(Xl(ft,mt,dt,ht,5),bt),_t=Math.max(dt,at.width),wt=ht+at.height+yt,St=xt.rectangle(-_t/2,-wt/2,_t,wt,{...bt,fill:"transparent",stroke:"none"}),Tt=nt.insert((()=>Ct),":first-child").attr("class","icon-shape2"),vt=nt.insert((()=>St));if(u.icon){const d=nt.append("g");d.html(`<g>${await qn(u.icon,{height:rt,width:rt,fallbackPrefix:""})}</g>`);const g=d.node().getBBox(),f=g.width,M=g.height,P=g.x,tt=g.y;d.attr("transform",`translate(${-f/2-P},${ct?at.height/2+yt/2-M/2-tt:-at.height/2-yt/2-M/2-tt})`),d.attr("style",`color: ${gt.get("stroke")??ut};`)}return lt.attr("transform",`translate(${-at.width/2-(at.x-(at.left??0))},${ct?-wt/2:wt/2-at.height})`),Tt.attr("transform",`translate(0,${ct?at.height/2+yt/2:-at.height/2-yt/2})`),Yl(u,vt),u.intersect=function(d){if(Le.info("iconSquare intersect",u,d),!u.label)return pc.rect(u,d);const g=u.x??0,f=u.y??0,M=u.height??0;let P=[];P=ct?[{x:g-at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2+at.height+yt},{x:g+dt/2,y:f-M/2+at.height+yt},{x:g+dt/2,y:f+M/2},{x:g-dt/2,y:f+M/2},{x:g-dt/2,y:f-M/2+at.height+yt},{x:g-at.width/2,y:f-M/2+at.height+yt}]:[{x:g-dt/2,y:f-M/2},{x:g+dt/2,y:f-M/2},{x:g+dt/2,y:f-M/2+ht},{x:g+at.width/2,y:f-M/2+ht},{x:g+at.width/2/2,y:f+M/2},{x:g-at.width/2,y:f+M/2},{x:g-at.width/2,y:f-M/2+ht},{x:g-dt/2,y:f-M/2+ht}];return pc.polygon(u,P,d)},nt}async function iconSquare(d,u,{config:{themeVariables:g,flowchart:f}}){const{labelStyles:M}=Jl(u);u.labelStyle=M;const P=u.assetHeight??48,tt=u.assetWidth??48,rt=Math.max(P,tt),it=f?.wrappingWidth;u.width=Math.max(rt,it??0);const{shapeSvg:nt,bbox:at,halfPadding:st,label:lt}=await jl(d,u,"icon-shape default"),ct="t"===u.pos,ht=rt+2*st,dt=rt+2*st,{nodeBorder:ut,mainBkg:pt}=g,{stylesMap:gt}=Ql(u),ft=-dt/2,mt=-ht/2,yt=u.label?8:0,xt=at_svg(nt),bt=tc(u,{});"handDrawn"!==u.look&&(bt.roughness=0,bt.fillStyle="solid");const kt=gt.get("fill");bt.stroke=kt??pt;const Ct=xt.path(Xl(ft,mt,dt,ht,.1),bt),_t=Math.max(dt,at.width),wt=ht+at.height+yt,St=xt.rectangle(-_t/2,-wt/2,_t,wt,{...bt,fill:"transparent",stroke:"none"}),Tt=nt.insert((()=>Ct),":first-child"),vt=nt.insert((()=>St));if(u.icon){const d=nt.append("g");d.html(`<g>${await qn(u.icon,{height:rt,width:rt,fallbackPrefix:""})}</g>`);const g=d.node().getBBox(),f=g.width,M=g.height,P=g.x,tt=g.y;d.attr("transform",`translate(${-f/2-P},${ct?at.height/2+yt/2-M/2-tt:-at.height/2-yt/2-M/2-tt})`),d.attr("style",`color: ${gt.get("stroke")??ut};`)}return lt.attr("transform",`translate(${-at.width/2-(at.x-(at.left??0))},${ct?-wt/2:wt/2-at.height})`),Tt.attr("transform",`translate(0,${ct?at.height/2+yt/2:-at.height/2-yt/2})`),Yl(u,vt),u.intersect=function(d){if(Le.info("iconSquare intersect",u,d),!u.label)return pc.rect(u,d);const g=u.x??0,f=u.y??0,M=u.height??0;let P=[];P=ct?[{x:g-at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2},{x:g+at.width/2,y:f-M/2+at.height+yt},{x:g+dt/2,y:f-M/2+at.height+yt},{x:g+dt/2,y:f+M/2},{x:g-dt/2,y:f+M/2},{x:g-dt/2,y:f-M/2+at.height+yt},{x:g-at.width/2,y:f-M/2+at.height+yt}]:[{x:g-dt/2,y:f-M/2},{x:g+dt/2,y:f-M/2},{x:g+dt/2,y:f-M/2+ht},{x:g+at.width/2,y:f-M/2+ht},{x:g+at.width/2/2,y:f+M/2},{x:g-at.width/2,y:f+M/2},{x:g-at.width/2,y:f-M/2+ht},{x:g-dt/2,y:f-M/2+ht}];return pc.polygon(u,P,d)},nt}async function imageSquare(d,u,{config:{flowchart:g}}){const f=new Image;f.src=u?.img??"",await f.decode();const M=Number(f.naturalWidth.toString().replace("px","")),P=Number(f.naturalHeight.toString().replace("px",""));u.imageAspectRatio=M/P;const{labelStyles:tt}=Jl(u);u.labelStyle=tt;const rt=g?.wrappingWidth;u.defaultWidth=g?.wrappingWidth;const it=Math.max(u.label?rt??0:0,u?.assetWidth??M),nt="on"===u.constraint&&u?.assetHeight?u.assetHeight*u.imageAspectRatio:it,at="on"===u.constraint?nt/u.imageAspectRatio:u?.assetHeight??P;u.width=Math.max(nt,rt??0);const{shapeSvg:st,bbox:lt,label:ct}=await jl(d,u,"image-shape default"),ht="t"===u.pos,dt=-nt/2,ut=-at/2,pt=u.label?8:0,gt=at_svg(st),ft=tc(u,{});"handDrawn"!==u.look&&(ft.roughness=0,ft.fillStyle="solid");const mt=gt.rectangle(dt,ut,nt,at,ft),yt=Math.max(nt,lt.width),xt=at+lt.height+pt,bt=gt.rectangle(-yt/2,-xt/2,yt,xt,{...ft,fill:"none",stroke:"none"}),kt=st.insert((()=>mt),":first-child"),Ct=st.insert((()=>bt));if(u.img){const d=st.append("image");d.attr("href",u.img),d.attr("width",nt),d.attr("height",at),d.attr("preserveAspectRatio","none"),d.attr("transform",`translate(${-nt/2},${ht?xt/2-at:-xt/2})`)}return ct.attr("transform",`translate(${-lt.width/2-(lt.x-(lt.left??0))},${ht?-at/2-lt.height/2-pt/2:at/2-lt.height/2+pt/2})`),kt.attr("transform",`translate(0,${ht?lt.height/2+pt/2:-lt.height/2-pt/2})`),Yl(u,Ct),u.intersect=function(d){if(Le.info("iconSquare intersect",u,d),!u.label)return pc.rect(u,d);const g=u.x??0,f=u.y??0,M=u.height??0;let P=[];P=ht?[{x:g-lt.width/2,y:f-M/2},{x:g+lt.width/2,y:f-M/2},{x:g+lt.width/2,y:f-M/2+lt.height+pt},{x:g+nt/2,y:f-M/2+lt.height+pt},{x:g+nt/2,y:f+M/2},{x:g-nt/2,y:f+M/2},{x:g-nt/2,y:f-M/2+lt.height+pt},{x:g-lt.width/2,y:f-M/2+lt.height+pt}]:[{x:g-nt/2,y:f-M/2},{x:g+nt/2,y:f-M/2},{x:g+nt/2,y:f-M/2+at},{x:g+lt.width/2,y:f-M/2+at},{x:g+lt.width/2/2,y:f+M/2},{x:g-lt.width/2,y:f+M/2},{x:g-lt.width/2,y:f-M/2+at},{x:g-nt/2,y:f-M/2+at}];return pc.polygon(u,P,d)},st}async function inv_trapezoid(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+2*(u.padding??0),u?.width??0),rt=Math.max(P.height+2*(u.padding??0),u?.height??0),it=[{x:0,y:0},{x:tt,y:0},{x:tt+3*rt/6,y:-rt},{x:-3*rt/6,y:-rt}];let nt;const{cssStyles:at}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=createPathFromPoints(it),P=d.path(f,g);nt=M.insert((()=>P),":first-child").attr("transform",`translate(${-tt/2}, ${rt/2})`),at&&nt.attr("style",at)}else nt=insertPolygonShape(M,tt,rt,it);return f&&nt.attr("style",f),u.width=tt,u.height=rt,Yl(u,nt),u.intersect=function(d){return pc.polygon(u,it,d)},M}async function drawRect(d,u,g){const{labelStyles:f,nodeStyles:M}=Jl(u);u.labelStyle=f;const{shapeSvg:P,bbox:tt}=await jl(d,u,Gl(u)),rt=Math.max(tt.width+2*g.labelPaddingX,u?.width||0),it=Math.max(tt.height+2*g.labelPaddingY,u?.height||0),nt=-rt/2,at=-it/2;let st,{rx:lt,ry:ct}=u;const{cssStyles:ht}=u;if(g?.rx&&g.ry&&(lt=g.rx,ct=g.ry),"handDrawn"===u.look){const d=at_svg(P),g=tc(u,{}),f=lt||ct?d.path(Xl(nt,at,rt,it,lt||0),g):d.rectangle(nt,at,rt,it,g);st=P.insert((()=>f),":first-child"),st.attr("class","basic label-container").attr("style",handleUndefinedAttr(ht))}else st=P.insert("rect",":first-child"),st.attr("class","basic label-container").attr("style",M).attr("rx",handleUndefinedAttr(lt)).attr("ry",handleUndefinedAttr(ct)).attr("x",nt).attr("y",at).attr("width",rt).attr("height",it);return Yl(u,st),u.intersect=function(d){return pc.rect(u,d)},P}async function labelRect(d,u){const{shapeSvg:g,bbox:f,label:M}=await jl(d,u,"label"),P=g.insert("rect",":first-child");return P.attr("width",.1).attr("height",.1),g.attr("class","label edgeLabel"),M.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))}, ${-f.height/2-(f.y-(f.top??0))})`),Yl(u,P),u.intersect=function(d){return pc.rect(u,d)},g}async function lean_left(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+(u.padding??0),u?.width??0),rt=Math.max(P.height+(u.padding??0),u?.height??0),it=[{x:0,y:0},{x:tt+3*rt/6,y:0},{x:tt,y:-rt},{x:-3*rt/6,y:-rt}];let nt;const{cssStyles:at}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=createPathFromPoints(it),P=d.path(f,g);nt=M.insert((()=>P),":first-child").attr("transform",`translate(${-tt/2}, ${rt/2})`),at&&nt.attr("style",at)}else nt=insertPolygonShape(M,tt,rt,it);return f&&nt.attr("style",f),u.width=tt,u.height=rt,Yl(u,nt),u.intersect=function(d){return pc.polygon(u,it,d)},M}async function lean_right(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+(u.padding??0),u?.width??0),rt=Math.max(P.height+(u.padding??0),u?.height??0),it=[{x:-3*rt/6,y:0},{x:tt,y:0},{x:tt+3*rt/6,y:-rt},{x:0,y:-rt}];let nt;const{cssStyles:at}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=createPathFromPoints(it),P=d.path(f,g);nt=M.insert((()=>P),":first-child").attr("transform",`translate(${-tt/2}, ${rt/2})`),at&&nt.attr("style",at)}else nt=insertPolygonShape(M,tt,rt,it);return f&&nt.attr("style",f),u.width=tt,u.height=rt,Yl(u,nt),u.intersect=function(d){return pc.polygon(u,it,d)},M}function lightningBolt(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.label="",u.labelStyle=g;const M=d.insert("g").attr("class",Gl(u)).attr("id",u.domId??u.id),{cssStyles:P}=u,tt=Math.max(35,u?.width??0),rt=Math.max(35,u?.height??0),it=[{x:tt,y:0},{x:0,y:rt+3.5},{x:tt-14,y:rt+3.5},{x:0,y:2*rt},{x:tt,y:rt-3.5},{x:14,y:rt-3.5}],nt=at_svg(M),at=tc(u,{});"handDrawn"!==u.look&&(at.roughness=0,at.fillStyle="solid");const st=createPathFromPoints(it),lt=nt.path(st,at),ct=M.insert((()=>lt),":first-child");return P&&"handDrawn"!==u.look&&ct.selectAll("path").attr("style",P),f&&"handDrawn"!==u.look&&ct.selectAll("path").attr("style",f),ct.attr("transform",`translate(-${tt/2},${-rt})`),Yl(u,ct),u.intersect=function(d){Le.info("lightningBolt intersect",u,d);return pc.polygon(u,it,d)},M}__name(hexagon,"hexagon"),__name(hourglass,"hourglass"),__name(icon,"icon"),__name(iconCircle,"iconCircle"),__name(iconRounded,"iconRounded"),__name(iconSquare,"iconSquare"),__name(imageSquare,"imageSquare"),__name(inv_trapezoid,"inv_trapezoid"),__name(drawRect,"drawRect"),__name(labelRect,"labelRect"),__name(lean_left,"lean_left"),__name(lean_right,"lean_right"),__name(lightningBolt,"lightningBolt");var xc=__name(((d,u,g,f,M,P,tt)=>[`M${d},${u+P}`,`a${M},${P} 0,0,0 ${g},0`,`a${M},${P} 0,0,0 ${-g},0`,`l0,${f}`,`a${M},${P} 0,0,0 ${g},0`,"l0,"+-f,`M${d},${u+P+tt}`,`a${M},${P} 0,0,0 ${g},0`].join(" ")),"createCylinderPathD"),bc=__name(((d,u,g,f,M,P,tt)=>[`M${d},${u+P}`,`M${d+g},${u+P}`,`a${M},${P} 0,0,0 ${-g},0`,`l0,${f}`,`a${M},${P} 0,0,0 ${g},0`,"l0,"+-f,`M${d},${u+P+tt}`,`a${M},${P} 0,0,0 ${g},0`].join(" ")),"createOuterCylinderPathD"),kc=__name(((d,u,g,f,M,P)=>[`M${d-g/2},${-f/2}`,`a${M},${P} 0,0,0 ${g},0`].join(" ")),"createInnerCylinderPathD");async function linedCylinder(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+(u.padding??0),u.width??0),it=rt/2,nt=it/(2.5+rt/50),at=Math.max(P.height+nt+(u.padding??0),u.height??0),st=.1*at;let lt;const{cssStyles:ct}=u;if("handDrawn"===u.look){const d=at_svg(M),g=bc(0,0,rt,at,it,nt,st),f=kc(0,nt,rt,at,it,nt),P=tc(u,{}),tt=d.path(g,P),ht=d.path(f,P);M.insert((()=>ht),":first-child").attr("class","line"),lt=M.insert((()=>tt),":first-child"),lt.attr("class","basic label-container"),ct&&lt.attr("style",ct)}else{const d=xc(0,0,rt,at,it,nt,st);lt=M.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",handleUndefinedAttr(ct)).attr("style",f)}return lt.attr("label-offset-y",nt),lt.attr("transform",`translate(${-rt/2}, ${-(at/2+nt)})`),Yl(u,lt),tt.attr("transform",`translate(${-P.width/2-(P.x-(P.left??0))}, ${-P.height/2+nt-(P.y-(P.top??0))})`),u.intersect=function(d){const g=pc.rect(u,d),f=g.x-(u.x??0);if(0!=it&&(Math.abs(f)<(u.width??0)/2||Math.abs(f)==(u.width??0)/2&&Math.abs(g.y-(u.y??0))>(u.height??0)/2-nt)){let M=nt*nt*(1-f*f/(it*it));M>0&&(M=Math.sqrt(M)),M=nt-M,d.y-(u.y??0)>0&&(M=-M),g.y+=M}return g},M}async function linedWaveEdgedRect(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=it/4,at=it+nt,{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=[{x:-rt/2-rt/2*.1,y:-at/2},{x:-rt/2-rt/2*.1,y:at/2},...generateFullSineWavePoints(-rt/2-rt/2*.1,at/2,rt/2+rt/2*.1,at/2,nt,.8),{x:rt/2+rt/2*.1,y:-at/2},{x:-rt/2-rt/2*.1,y:-at/2},{x:-rt/2,y:-at/2},{x:-rt/2,y:at/2*1.1},{x:-rt/2,y:-at/2}],dt=lt.polygon(ht.map((d=>[d.x,d.y])),ct),ut=M.insert((()=>dt),":first-child");return ut.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",st),f&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",f),ut.attr("transform",`translate(0,${-nt/2})`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)+rt/2*.1/2-(P.x-(P.left??0))},${-it/2+(u.padding??0)-nt/2-(P.y-(P.top??0))})`),Yl(u,ut),u.intersect=function(d){return pc.polygon(u,ht,d)},M}async function multiRect(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=-rt/2,at=-it/2,{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{}),ht=[{x:nt-5,y:at+5},{x:nt-5,y:at+it+5},{x:nt+rt-5,y:at+it+5},{x:nt+rt-5,y:at+it},{x:nt+rt,y:at+it},{x:nt+rt,y:at+it-5},{x:nt+rt+5,y:at+it-5},{x:nt+rt+5,y:at-5},{x:nt+5,y:at-5},{x:nt+5,y:at},{x:nt,y:at},{x:nt,y:at+5}],dt=[{x:nt,y:at+5},{x:nt+rt-5,y:at+5},{x:nt+rt-5,y:at+it},{x:nt+rt,y:at+it},{x:nt+rt,y:at},{x:nt,y:at}];"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ut=createPathFromPoints(ht),pt=lt.path(ut,ct),gt=createPathFromPoints(dt),ft=lt.path(gt,{...ct,fill:"none"}),mt=M.insert((()=>ft),":first-child");return mt.insert((()=>pt),":first-child"),mt.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&mt.selectAll("path").attr("style",st),f&&"handDrawn"!==u.look&&mt.selectAll("path").attr("style",f),tt.attr("transform",`translate(${-P.width/2-5-(P.x-(P.left??0))}, ${-P.height/2+5-(P.y-(P.top??0))})`),Yl(u,mt),u.intersect=function(d){return pc.polygon(u,ht,d)},M}async function multiWaveEdgedRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=it/4,at=it+nt,st=-rt/2,lt=-at/2,{cssStyles:ct}=u,ht=generateFullSineWavePoints(st-5,lt+at+5,st+rt-5,lt+at+5,nt,.8),dt=ht?.[ht.length-1],ut=[{x:st-5,y:lt+5},{x:st-5,y:lt+at+5},...ht,{x:st+rt-5,y:dt.y-5},{x:st+rt,y:dt.y-5},{x:st+rt,y:dt.y-10},{x:st+rt+5,y:dt.y-10},{x:st+rt+5,y:lt-5},{x:st+5,y:lt-5},{x:st+5,y:lt},{x:st,y:lt},{x:st,y:lt+5}],pt=[{x:st,y:lt+5},{x:st+rt-5,y:lt+5},{x:st+rt-5,y:dt.y-5},{x:st+rt,y:dt.y-5},{x:st+rt,y:lt},{x:st,y:lt}],gt=at_svg(M),ft=tc(u,{});"handDrawn"!==u.look&&(ft.roughness=0,ft.fillStyle="solid");const mt=createPathFromPoints(ut),yt=gt.path(mt,ft),xt=createPathFromPoints(pt),bt=gt.path(xt,ft),kt=M.insert((()=>yt),":first-child");return kt.insert((()=>bt)),kt.attr("class","basic label-container"),ct&&"handDrawn"!==u.look&&kt.selectAll("path").attr("style",ct),f&&"handDrawn"!==u.look&&kt.selectAll("path").attr("style",f),kt.attr("transform",`translate(0,${-nt/2})`),tt.attr("transform",`translate(${-P.width/2-5-(P.x-(P.left??0))}, ${-P.height/2+5-nt/2-(P.y-(P.top??0))})`),Yl(u,kt),u.intersect=function(d){return pc.polygon(u,ut,d)},M}async function note(d,u,{config:{themeVariables:g}}){const{labelStyles:f,nodeStyles:M}=Jl(u);u.labelStyle=f;u.useHtmlLabels||!1!==xr().flowchart?.htmlLabels||(u.centerLabel=!0);const{shapeSvg:P,bbox:tt}=await jl(d,u,Gl(u)),rt=Math.max(tt.width+2*(u.padding??0),u?.width??0),it=Math.max(tt.height+2*(u.padding??0),u?.height??0),nt=-rt/2,at=-it/2,{cssStyles:st}=u,lt=at_svg(P),ct=tc(u,{fill:g.noteBkgColor,stroke:g.noteBorderColor});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=lt.rectangle(nt,at,rt,it,ct),dt=P.insert((()=>ht),":first-child");return dt.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&dt.selectAll("path").attr("style",st),M&&"handDrawn"!==u.look&&dt.selectAll("path").attr("style",M),Yl(u,dt),u.intersect=function(d){return pc.rect(u,d)},P}__name(linedCylinder,"linedCylinder"),__name(linedWaveEdgedRect,"linedWaveEdgedRect"),__name(multiRect,"multiRect"),__name(multiWaveEdgedRectangle,"multiWaveEdgedRectangle"),__name(note,"note");var Cc=__name(((d,u,g)=>[`M${d+g/2},${u}`,`L${d+g},${u-g/2}`,`L${d+g/2},${u-g}`,`L${d},${u-g/2}`,"Z"].join(" ")),"createDecisionBoxPathD");async function question(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.width+u.padding+(P.height+u.padding),rt=[{x:tt/2,y:0},{x:tt,y:-tt/2},{x:tt/2,y:-tt},{x:0,y:-tt/2}];let it;const{cssStyles:nt}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=Cc(0,0,tt),P=d.path(f,g);it=M.insert((()=>P),":first-child").attr("transform",`translate(${-tt/2}, ${tt/2})`),nt&&it.attr("style",nt)}else it=insertPolygonShape(M,tt,tt,rt);return f&&it.attr("style",f),Yl(u,it),u.intersect=function(d){return Le.debug("APA12 Intersect called SPLIT\npoint:",d,"\nnode:\n",u,"\nres:",pc.polygon(u,rt,d)),pc.polygon(u,rt,d)},M}async function rect_left_inv_arrow(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=-Math.max(P.width+(u.padding??0),u?.width??0)/2,it=-Math.max(P.height+(u.padding??0),u?.height??0)/2,nt=it/2,at=[{x:rt+nt,y:it},{x:rt,y:0},{x:rt+nt,y:-it},{x:-rt,y:-it},{x:-rt,y:it}],{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=createPathFromPoints(at),dt=lt.path(ht,ct),ut=M.insert((()=>dt),":first-child");return ut.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",st),f&&"handDrawn"!==u.look&&ut.selectAll("path").attr("style",f),ut.attr("transform",`translate(${-nt/2},0)`),tt.attr("transform",`translate(${-nt/2-P.width/2-(P.x-(P.left??0))}, ${-P.height/2-(P.y-(P.top??0))})`),Yl(u,ut),u.intersect=function(d){return pc.polygon(u,at,d)},M}async function rectWithTitle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);let M;u.labelStyle=g,M=u.cssClasses?"node "+u.cssClasses:"node default";const P=d.insert("g").attr("class",M).attr("id",u.domId||u.id),tt=P.insert("g"),rt=P.insert("g").attr("class","label").attr("style",f),it=u.description,nt=u.label,at=rt.node().appendChild(await Vl(nt,u.labelStyle,!0,!0));let st={width:0,height:0};if(Rr(bi()?.flowchart?.htmlLabels)){const d=at.children[0],u=select(at);st=d.getBoundingClientRect(),u.attr("width",st.width),u.attr("height",st.height)}Le.info("Text 2",it);const lt=it||[],ct=at.getBBox(),ht=rt.node().appendChild(await Vl(lt.join?lt.join("<br/>"):lt,u.labelStyle,!0,!0)),dt=ht.children[0],ut=select(ht);st=dt.getBoundingClientRect(),ut.attr("width",st.width),ut.attr("height",st.height);const pt=(u.padding||0)/2;select(ht).attr("transform","translate( "+(st.width>ct.width?0:(ct.width-st.width)/2)+", "+(ct.height+pt+5)+")"),select(at).attr("transform","translate( "+(st.width<ct.width?0:-(ct.width-st.width)/2)+", 0)"),st=rt.node().getBBox(),rt.attr("transform","translate("+-st.width/2+", "+(-st.height/2-pt+3)+")");const gt=st.width+(u.padding||0),ft=st.height+(u.padding||0),mt=-st.width/2-pt,yt=-st.height/2-pt;let xt,bt;if("handDrawn"===u.look){const d=at_svg(P),g=tc(u,{}),f=d.path(Xl(mt,yt,gt,ft,u.rx||0),g),M=d.line(-st.width/2-pt,-st.height/2-pt+ct.height+pt,st.width/2+pt,-st.height/2-pt+ct.height+pt,g);bt=P.insert((()=>(Le.debug("Rough node insert CXC",f),M)),":first-child"),xt=P.insert((()=>(Le.debug("Rough node insert CXC",f),f)),":first-child")}else xt=tt.insert("rect",":first-child"),bt=tt.insert("line"),xt.attr("class","outer title-state").attr("style",f).attr("x",-st.width/2-pt).attr("y",-st.height/2-pt).attr("width",st.width+(u.padding||0)).attr("height",st.height+(u.padding||0)),bt.attr("class","divider").attr("x1",-st.width/2-pt).attr("x2",st.width/2+pt).attr("y1",-st.height/2-pt+ct.height+pt).attr("y2",-st.height/2-pt+ct.height+pt);return Yl(u,xt),u.intersect=function(d){return pc.rect(u,d)},P}async function roundedRect(d,u){return drawRect(d,u,{rx:5,ry:5,classes:"",labelPaddingX:1*(u?.padding||0),labelPaddingY:1*(u?.padding||0)})}async function shadedProcess(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=u?.padding??0,it=Math.max(P.width+2*(u.padding??0),u?.width??0),nt=Math.max(P.height+2*(u.padding??0),u?.height??0),at=-P.width/2-rt,st=-P.height/2-rt,{cssStyles:lt}=u,ct=at_svg(M),ht=tc(u,{});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=[{x:at,y:st},{x:at+it+8,y:st},{x:at+it+8,y:st+nt},{x:at-8,y:st+nt},{x:at-8,y:st},{x:at,y:st},{x:at,y:st+nt}],ut=ct.polygon(dt.map((d=>[d.x,d.y])),ht),pt=M.insert((()=>ut),":first-child");return pt.attr("class","basic label-container").attr("style",handleUndefinedAttr(lt)),f&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",f),lt&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",f),tt.attr("transform",`translate(${-it/2+4+(u.padding??0)-(P.x-(P.left??0))},${-nt/2+(u.padding??0)-(P.y-(P.top??0))})`),Yl(u,pt),u.intersect=function(d){return pc.rect(u,d)},M}async function slopedRect(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=-rt/2,at=-it/2,{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{});"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ht=[{x:nt,y:at},{x:nt,y:at+it},{x:nt+rt,y:at+it},{x:nt+rt,y:at-it/2}],dt=createPathFromPoints(ht),ut=lt.path(dt,ct),pt=M.insert((()=>ut),":first-child");return pt.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",st),f&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",f),pt.attr("transform",`translate(0, ${it/4})`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)-(P.x-(P.left??0))}, ${-it/4+(u.padding??0)-(P.y-(P.top??0))})`),Yl(u,pt),u.intersect=function(d){return pc.polygon(u,ht,d)},M}async function squareRect2(d,u){return drawRect(d,u,{rx:0,ry:0,classes:"",labelPaddingX:2*(u?.padding||0),labelPaddingY:1*(u?.padding||0)})}async function stadium(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.height+u.padding,rt=P.width+tt/4+u.padding;let it;const{cssStyles:nt}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=Xl(-rt/2,-tt/2,rt,tt,tt/2),P=d.path(f,g);it=M.insert((()=>P),":first-child"),it.attr("class","basic label-container").attr("style",handleUndefinedAttr(nt))}else it=M.insert("rect",":first-child"),it.attr("class","basic label-container").attr("style",f).attr("rx",tt/2).attr("ry",tt/2).attr("x",-rt/2).attr("y",-tt/2).attr("width",rt).attr("height",tt);return Yl(u,it),u.intersect=function(d){return pc.rect(u,d)},M}async function state(d,u){return drawRect(d,u,{rx:5,ry:5,classes:"flowchart-node"})}function stateEnd(d,u,{config:{themeVariables:g}}){const{labelStyles:f,nodeStyles:M}=Jl(u);u.labelStyle=f;const{cssStyles:P}=u,{lineColor:tt,stateBorder:rt,nodeBorder:it}=g,nt=d.insert("g").attr("class","node default").attr("id",u.domId||u.id),at=at_svg(nt),st=tc(u,{});"handDrawn"!==u.look&&(st.roughness=0,st.fillStyle="solid");const lt=at.circle(0,0,14,{...st,stroke:tt,strokeWidth:2}),ct=rt??it,ht=at.circle(0,0,5,{...st,fill:ct,stroke:ct,strokeWidth:2,fillStyle:"solid"}),dt=nt.insert((()=>lt),":first-child");return dt.insert((()=>ht)),P&&dt.selectAll("path").attr("style",P),M&&dt.selectAll("path").attr("style",M),Yl(u,dt),u.intersect=function(d){return pc.circle(u,7,d)},nt}function stateStart(d,u,{config:{themeVariables:g}}){const{lineColor:f}=g,M=d.insert("g").attr("class","node default").attr("id",u.domId||u.id);let P;if("handDrawn"===u.look){const d=at_svg(M).circle(0,0,14,Zl(f));P=M.insert((()=>d)),P.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else P=M.insert("circle",":first-child"),P.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Yl(u,P),u.intersect=function(d){return pc.circle(u,7,d)},M}async function subroutine(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=(u?.padding||0)/2,rt=P.width+u.padding,it=P.height+u.padding,nt=-P.width/2-tt,at=-P.height/2-tt,st=[{x:0,y:0},{x:rt,y:0},{x:rt,y:-it},{x:0,y:-it},{x:0,y:0},{x:-8,y:0},{x:rt+8,y:0},{x:rt+8,y:-it},{x:-8,y:-it},{x:-8,y:0}];if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=d.rectangle(nt-8,at,rt+16,it,g),P=d.line(nt,at,nt,at+it,g),tt=d.line(nt+rt,at,nt+rt,at+it,g);M.insert((()=>P),":first-child"),M.insert((()=>tt),":first-child");const st=M.insert((()=>f),":first-child"),{cssStyles:lt}=u;st.attr("class","basic label-container").attr("style",handleUndefinedAttr(lt)),Yl(u,st)}else{const d=insertPolygonShape(M,rt,it,st);f&&d.attr("style",f),Yl(u,d)}return u.intersect=function(d){return pc.polygon(u,st,d)},M}async function taggedRect(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+2*(u.padding??0),u?.width??0),rt=Math.max(P.height+2*(u.padding??0),u?.height??0),it=-tt/2,nt=-rt/2,at=.2*rt,st=.2*rt,{cssStyles:lt}=u,ct=at_svg(M),ht=tc(u,{}),dt=[{x:it-at/2,y:nt},{x:it+tt+at/2,y:nt},{x:it+tt+at/2,y:nt+rt},{x:it-at/2,y:nt+rt}],ut=[{x:it+tt-at/2,y:nt+rt},{x:it+tt+at/2,y:nt+rt},{x:it+tt+at/2,y:nt+rt-st}];"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const pt=createPathFromPoints(dt),gt=ct.path(pt,ht),ft=createPathFromPoints(ut),mt=ct.path(ft,{...ht,fillStyle:"solid"}),yt=M.insert((()=>mt),":first-child");return yt.insert((()=>gt),":first-child"),yt.attr("class","basic label-container"),lt&&"handDrawn"!==u.look&&yt.selectAll("path").attr("style",lt),f&&"handDrawn"!==u.look&&yt.selectAll("path").attr("style",f),Yl(u,yt),u.intersect=function(d){return pc.polygon(u,dt,d)},M}async function taggedWaveEdgedRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=it/4,at=.2*rt,st=.2*it,lt=it+nt,{cssStyles:ct}=u,ht=at_svg(M),dt=tc(u,{});"handDrawn"!==u.look&&(dt.roughness=0,dt.fillStyle="solid");const ut=[{x:-rt/2-rt/2*.1,y:lt/2},...generateFullSineWavePoints(-rt/2-rt/2*.1,lt/2,rt/2+rt/2*.1,lt/2,nt,.8),{x:rt/2+rt/2*.1,y:-lt/2},{x:-rt/2-rt/2*.1,y:-lt/2}],pt=-rt/2+rt/2*.1,gt=-lt/2-.4*st,ft=[{x:pt+rt-at,y:1.4*(gt+it)},{x:pt+rt,y:gt+it-st},{x:pt+rt,y:.9*(gt+it)},...generateFullSineWavePoints(pt+rt,1.3*(gt+it),pt+rt-at,1.5*(gt+it),.03*-it,.5)],mt=createPathFromPoints(ut),yt=ht.path(mt,dt),xt=createPathFromPoints(ft),bt=ht.path(xt,{...dt,fillStyle:"solid"}),kt=M.insert((()=>bt),":first-child");return kt.insert((()=>yt),":first-child"),kt.attr("class","basic label-container"),ct&&"handDrawn"!==u.look&&kt.selectAll("path").attr("style",ct),f&&"handDrawn"!==u.look&&kt.selectAll("path").attr("style",f),kt.attr("transform",`translate(0,${-nt/2})`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)-(P.x-(P.left??0))},${-it/2+(u.padding??0)-nt/2-(P.y-(P.top??0))})`),Yl(u,kt),u.intersect=function(d){return pc.polygon(u,ut,d)},M}async function text(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+u.padding,u?.width||0),rt=Math.max(P.height+u.padding,u?.height||0),it=-tt/2,nt=-rt/2,at=M.insert("rect",":first-child");return at.attr("class","text").attr("style",f).attr("rx",0).attr("ry",0).attr("x",it).attr("y",nt).attr("width",tt).attr("height",rt),Yl(u,at),u.intersect=function(d){return pc.rect(u,d)},M}__name(question,"question"),__name(rect_left_inv_arrow,"rect_left_inv_arrow"),__name(rectWithTitle,"rectWithTitle"),__name(roundedRect,"roundedRect"),__name(shadedProcess,"shadedProcess"),__name(slopedRect,"slopedRect"),__name(squareRect2,"squareRect"),__name(stadium,"stadium"),__name(state,"state"),__name(stateEnd,"stateEnd"),__name(stateStart,"stateStart"),__name(subroutine,"subroutine"),__name(taggedRect,"taggedRect"),__name(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle"),__name(text,"text");var _c=__name(((d,u,g,f,M,P)=>`M${d},${u}\n    a${M},${P} 0,0,1 0,${-f}\n    l${g},0\n    a${M},${P} 0,0,1 0,${f}\n    M${g},${-f}\n    a${M},${P} 0,0,0 0,${f}\n    l${-g},0`),"createCylinderPathD"),wc=__name(((d,u,g,f,M,P)=>[`M${d},${u}`,`M${d+g},${u}`,`a${M},${P} 0,0,0 0,${-f}`,`l${-g},0`,`a${M},${P} 0,0,0 0,${f}`,`l${g},0`].join(" ")),"createOuterCylinderPathD"),Sc=__name(((d,u,g,f,M,P)=>[`M${d+g/2},${-f/2}`,`a${M},${P} 0,0,0 0,${f}`].join(" ")),"createInnerCylinderPathD");async function tiltedCylinder(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt,halfPadding:rt}=await jl(d,u,Gl(u)),it="neo"===u.look?2*rt:rt,nt=P.height+it,at=nt/2,st=at/(2.5+nt/50),lt=P.width+st+it,{cssStyles:ct}=u;let ht;if("handDrawn"===u.look){const d=at_svg(M),g=wc(0,0,lt,nt,st,at),f=Sc(0,0,lt,nt,st,at),P=d.path(g,tc(u,{})),tt=d.path(f,tc(u,{fill:"none"}));ht=M.insert((()=>tt),":first-child"),ht=M.insert((()=>P),":first-child"),ht.attr("class","basic label-container"),ct&&ht.attr("style",ct)}else{const d=_c(0,0,lt,nt,st,at);ht=M.insert("path",":first-child").attr("d",d).attr("class","basic label-container").attr("style",handleUndefinedAttr(ct)).attr("style",f),ht.attr("class","basic label-container"),ct&&ht.selectAll("path").attr("style",ct),f&&ht.selectAll("path").attr("style",f)}return ht.attr("label-offset-x",st),ht.attr("transform",`translate(${-lt/2}, ${nt/2} )`),tt.attr("transform",`translate(${-P.width/2-st-(P.x-(P.left??0))}, ${-P.height/2-(P.y-(P.top??0))})`),Yl(u,ht),u.intersect=function(d){const g=pc.rect(u,d),f=g.y-(u.y??0);if(0!=at&&(Math.abs(f)<(u.height??0)/2||Math.abs(f)==(u.height??0)/2&&Math.abs(g.x-(u.x??0))>(u.width??0)/2-st)){let M=st*st*(1-f*f/(at*at));0!=M&&(M=Math.sqrt(Math.abs(M))),M=st-M,d.x-(u.x??0)>0&&(M=-M),g.x+=M}return g},M}async function trapezoid(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=P.width+u.padding,rt=P.height+u.padding,it=[{x:-3*rt/6,y:0},{x:tt+3*rt/6,y:0},{x:tt,y:-rt},{x:0,y:-rt}];let nt;const{cssStyles:at}=u;if("handDrawn"===u.look){const d=at_svg(M),g=tc(u,{}),f=createPathFromPoints(it),P=d.path(f,g);nt=M.insert((()=>P),":first-child").attr("transform",`translate(${-tt/2}, ${rt/2})`),at&&nt.attr("style",at)}else nt=insertPolygonShape(M,tt,rt,it);return f&&nt.attr("style",f),u.width=tt,u.height=rt,Yl(u,nt),u.intersect=function(d){return pc.polygon(u,it,d)},M}async function trapezoidalPentagon(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(60,P.width+2*(u.padding??0),u?.width??0),rt=Math.max(20,P.height+2*(u.padding??0),u?.height??0),{cssStyles:it}=u,nt=at_svg(M),at=tc(u,{});"handDrawn"!==u.look&&(at.roughness=0,at.fillStyle="solid");const st=[{x:-tt/2*.8,y:-rt/2},{x:tt/2*.8,y:-rt/2},{x:tt/2,y:-rt/2*.6},{x:tt/2,y:rt/2},{x:-tt/2,y:rt/2},{x:-tt/2,y:-rt/2*.6}],lt=createPathFromPoints(st),ct=nt.path(lt,at),ht=M.insert((()=>ct),":first-child");return ht.attr("class","basic label-container"),it&&"handDrawn"!==u.look&&ht.selectChildren("path").attr("style",it),f&&"handDrawn"!==u.look&&ht.selectChildren("path").attr("style",f),Yl(u,ht),u.intersect=function(d){return pc.polygon(u,st,d)},M}async function triangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Rr(bi().flowchart?.htmlLabels),it=P.width+(u.padding??0),nt=it+P.height,at=it+P.height,st=[{x:0,y:0},{x:at,y:0},{x:at/2,y:-nt}],{cssStyles:lt}=u,ct=at_svg(M),ht=tc(u,{});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=createPathFromPoints(st),ut=ct.path(dt,ht),pt=M.insert((()=>ut),":first-child").attr("transform",`translate(${-nt/2}, ${nt/2})`);return lt&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",lt),f&&"handDrawn"!==u.look&&pt.selectChildren("path").attr("style",f),u.width=it,u.height=nt,Yl(u,pt),tt.attr("transform",`translate(${-P.width/2-(P.x-(P.left??0))}, ${nt/2-(P.height+(u.padding??0)/(rt?2:1)-(P.y-(P.top??0)))})`),u.intersect=function(d){return Le.info("Triangle intersect",u,st,d),pc.polygon(u,st,d)},M}async function waveEdgedRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=it/8,at=it+nt,{cssStyles:st}=u,lt=70-rt,ct=lt>0?lt/2:0,ht=at_svg(M),dt=tc(u,{});"handDrawn"!==u.look&&(dt.roughness=0,dt.fillStyle="solid");const ut=[{x:-rt/2-ct,y:at/2},...generateFullSineWavePoints(-rt/2-ct,at/2,rt/2+ct,at/2,nt,.8),{x:rt/2+ct,y:-at/2},{x:-rt/2-ct,y:-at/2}],pt=createPathFromPoints(ut),gt=ht.path(pt,dt),ft=M.insert((()=>gt),":first-child");return ft.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",st),f&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",f),ft.attr("transform",`translate(0,${-nt/2})`),tt.attr("transform",`translate(${-rt/2+(u.padding??0)-(P.x-(P.left??0))},${-it/2+(u.padding??0)-nt-(P.y-(P.top??0))})`),Yl(u,ft),u.intersect=function(d){return pc.polygon(u,ut,d)},M}async function waveRectangle(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P}=await jl(d,u,Gl(u)),tt=Math.max(P.width+2*(u.padding??0),u?.width??0),rt=Math.max(P.height+2*(u.padding??0),u?.height??0),it=tt/rt;let nt=tt,at=rt;nt>at*it?at=nt/it:nt=at*it,nt=Math.max(nt,100),at=Math.max(at,50);const st=Math.min(.2*at,at/4),lt=at+2*st,{cssStyles:ct}=u,ht=at_svg(M),dt=tc(u,{});"handDrawn"!==u.look&&(dt.roughness=0,dt.fillStyle="solid");const ut=[{x:-nt/2,y:lt/2},...generateFullSineWavePoints(-nt/2,lt/2,nt/2,lt/2,st,1),{x:nt/2,y:-lt/2},...generateFullSineWavePoints(nt/2,-lt/2,-nt/2,-lt/2,st,-1)],pt=createPathFromPoints(ut),gt=ht.path(pt,dt),ft=M.insert((()=>gt),":first-child");return ft.attr("class","basic label-container"),ct&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",ct),f&&"handDrawn"!==u.look&&ft.selectAll("path").attr("style",f),Yl(u,ft),u.intersect=function(d){return pc.polygon(u,ut,d)},M}async function windowPane(d,u){const{labelStyles:g,nodeStyles:f}=Jl(u);u.labelStyle=g;const{shapeSvg:M,bbox:P,label:tt}=await jl(d,u,Gl(u)),rt=Math.max(P.width+2*(u.padding??0),u?.width??0),it=Math.max(P.height+2*(u.padding??0),u?.height??0),nt=-rt/2,at=-it/2,{cssStyles:st}=u,lt=at_svg(M),ct=tc(u,{}),ht=[{x:nt-5,y:at-5},{x:nt-5,y:at+it},{x:nt+rt,y:at+it},{x:nt+rt,y:at-5}],dt=`M${nt-5},${at-5} L${nt+rt},${at-5} L${nt+rt},${at+it} L${nt-5},${at+it} L${nt-5},${at-5}\n                M${nt-5},${at} L${nt+rt},${at}\n                M${nt},${at-5} L${nt},${at+it}`;"handDrawn"!==u.look&&(ct.roughness=0,ct.fillStyle="solid");const ut=lt.path(dt,ct),pt=M.insert((()=>ut),":first-child");return pt.attr("transform","translate(2.5, 2.5)"),pt.attr("class","basic label-container"),st&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",st),f&&"handDrawn"!==u.look&&pt.selectAll("path").attr("style",f),tt.attr("transform",`translate(${-P.width/2+2.5-(P.x-(P.left??0))}, ${-P.height/2+2.5-(P.y-(P.top??0))})`),Yl(u,pt),u.intersect=function(d){return pc.polygon(u,ht,d)},M}async function textHelper(d,u,g,f,M=g.class.padding??12){const P=f?0:3,tt=d.insert("g").attr("class",Gl(u)).attr("id",u.domId||u.id);let rt=null,it=null,nt=null,at=null,st=0,lt=0,ct=0;if(rt=tt.insert("g").attr("class","annotation-group text"),u.annotations.length>0){const d=u.annotations[0];await addText(rt,{text:`«${d}»`},0);st=rt.node().getBBox().height}it=tt.insert("g").attr("class","label-group text"),await addText(it,u,0,["font-weight: bolder"]);const ht=it.node().getBBox();lt=ht.height,nt=tt.insert("g").attr("class","members-group text");let dt=0;for(const gt of u.members){dt+=await addText(nt,gt,dt,[gt.parseClassifier()])+P}ct=nt.node().getBBox().height,ct<=0&&(ct=M/2),at=tt.insert("g").attr("class","methods-group text");let ut=0;for(const gt of u.methods){ut+=await addText(at,gt,ut,[gt.parseClassifier()])+P}let pt=tt.node().getBBox();if(null!==rt){const d=rt.node().getBBox();rt.attr("transform",`translate(${-d.width/2})`)}return it.attr("transform",`translate(${-ht.width/2}, ${st})`),pt=tt.node().getBBox(),nt.attr("transform",`translate(0, ${st+lt+2*M})`),pt=tt.node().getBBox(),at.attr("transform",`translate(0, ${st+lt+(ct?ct+4*M:2*M)})`),pt=tt.node().getBBox(),{shapeSvg:tt,bbox:pt}}async function addText(d,u,g,f=[]){const M=d.insert("g").attr("class","label").attr("style",f.join("; ")),P=xr();let tt="useHtmlLabels"in u?u.useHtmlLabels:Rr(P.htmlLabels)??!0,rt="";rt="text"in u?u.text:u.label,!tt&&rt.startsWith("\\")&&(rt=rt.substring(1)),Ur(rt)&&(tt=!0);const it=await Dl(M,_i(js(rt)),{width:calculateTextWidth(rt,P)+50,classes:"markdown-node-label",useHtmlLabels:tt},P);let nt,at=1;if(tt){const d=it.children[0],u=select(it);at=d.innerHTML.split("<br>").length,d.innerHTML.includes("</math>")&&(at+=d.innerHTML.split("<mrow>").length-1);const g=d.getElementsByTagName("img");if(g){const d=""===rt.replace(/<img[^>]*>/g,"").trim();await Promise.all([...g].map((u=>new Promise((g=>{function setupImage(){if(u.style.display="flex",u.style.flexDirection="column",d){const d=P.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,g=5,f=parseInt(d,10)*g+"px";u.style.minWidth=f,u.style.maxWidth=f}else u.style.width="100%";g(u)}__name(setupImage,"setupImage"),setTimeout((()=>{u.complete&&setupImage()})),u.addEventListener("error",setupImage),u.addEventListener("load",setupImage)})))))}nt=d.getBoundingClientRect(),u.attr("width",nt.width),u.attr("height",nt.height)}else{f.includes("font-weight: bolder")&&select(it).selectAll("tspan").attr("font-weight",""),at=it.children.length;const d=it.children[0];if(""===it.textContent||it.textContent.includes("&gt")){d.textContent=rt[0]+rt.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();" "===rt[1]&&(d.textContent=d.textContent[0]+" "+d.textContent.substring(1))}"undefined"===d.textContent&&(d.textContent=""),nt=it.getBBox()}return M.attr("transform","translate(0,"+(-nt.height/(2*at)+g)+")"),nt.height}async function classBox(d,u){const g=bi(),f=g.class.padding??12,M=f,P=u.useHtmlLabels??Rr(g.htmlLabels)??!0,tt=u;tt.annotations=tt.annotations??[],tt.members=tt.members??[],tt.methods=tt.methods??[];const{shapeSvg:rt,bbox:it}=await textHelper(d,u,g,P,M),{labelStyles:nt,nodeStyles:at}=Jl(u);u.labelStyle=nt,u.cssStyles=tt.styles||"";const st=tt.styles?.join(";")||at||"";u.cssStyles||(u.cssStyles=st.replaceAll("!important","").split(";"));const lt=0===tt.members.length&&0===tt.methods.length&&!g.class?.hideEmptyMembersBox,ct=at_svg(rt),ht=tc(u,{});"handDrawn"!==u.look&&(ht.roughness=0,ht.fillStyle="solid");const dt=it.width;let ut=it.height;0===tt.members.length&&0===tt.methods.length?ut+=M:tt.members.length>0&&0===tt.methods.length&&(ut+=2*M);const pt=-dt/2,gt=-ut/2,ft=ct.rectangle(pt-f,gt-f-(lt?f:0===tt.members.length&&0===tt.methods.length?-f/2:0),dt+2*f,ut+2*f+(lt?2*f:0===tt.members.length&&0===tt.methods.length?-f:0),ht),mt=rt.insert((()=>ft),":first-child");mt.attr("class","basic label-container");const yt=mt.node().getBBox();rt.selectAll(".text").each(((d,u,g)=>{const M=select(g[u]),it=M.attr("transform");let nt=0;if(it){const d=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(it);d&&(nt=parseFloat(d[2]))}let at=nt+gt+f-(lt?f:0===tt.members.length&&0===tt.methods.length?-f/2:0);P||(at-=4);let st=pt;(M.attr("class").includes("label-group")||M.attr("class").includes("annotation-group"))&&(st=-M.node()?.getBBox().width/2||0,rt.selectAll("text").each((function(d,u,g){"middle"===window.getComputedStyle(g[u]).textAnchor&&(st=0)}))),M.attr("transform",`translate(${st}, ${at})`)}));const xt=rt.select(".annotation-group").node().getBBox().height-(lt?f/2:0)||0,bt=rt.select(".label-group").node().getBBox().height-(lt?f/2:0)||0,kt=rt.select(".members-group").node().getBBox().height-(lt?f/2:0)||0;if(tt.members.length>0||tt.methods.length>0||lt){const d=ct.line(yt.x,xt+bt+gt+f,yt.x+yt.width,xt+bt+gt+f,ht);rt.insert((()=>d)).attr("class","divider").attr("style",st)}if(lt||tt.members.length>0||tt.methods.length>0){const d=ct.line(yt.x,xt+bt+kt+gt+2*M+f,yt.x+yt.width,xt+bt+kt+gt+f+2*M,ht);rt.insert((()=>d)).attr("class","divider").attr("style",st)}if("handDrawn"!==tt.look&&rt.selectAll("path").attr("style",st),mt.select(":nth-child(2)").attr("style",st),rt.selectAll(".divider").select("path").attr("style",st),u.labelStyle?rt.selectAll("span").attr("style",u.labelStyle):rt.selectAll("span").attr("style",st),!P){const d=RegExp(/color\s*:\s*([^;]*)/),u=d.exec(st);if(u){const d=u[0].replace("color","fill");rt.selectAll("tspan").attr("style",d)}else if(nt){const u=d.exec(nt);if(u){const d=u[0].replace("color","fill");rt.selectAll("tspan").attr("style",d)}}}return Yl(u,mt),u.intersect=function(d){return pc.rect(u,d)},rt}__name(tiltedCylinder,"tiltedCylinder"),__name(trapezoid,"trapezoid"),__name(trapezoidalPentagon,"trapezoidalPentagon"),__name(triangle,"triangle"),__name(waveEdgedRectangle,"waveEdgedRectangle"),__name(waveRectangle,"waveRectangle"),__name(windowPane,"windowPane"),__name(textHelper,"textHelper"),__name(addText,"addText"),__name(classBox,"classBox");var Tc=__name((d=>{switch(d){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}}),"colorFromPriority");async function kanbanItem(d,u,{config:g}){const{labelStyles:f,nodeStyles:M}=Jl(u);u.labelStyle=f||"";const P=u.width;u.width=(u.width??200)-10;const{shapeSvg:tt,bbox:rt,label:it}=await jl(d,u,Gl(u)),nt=u.padding||10;let at,st="";"ticket"in u&&u.ticket&&g?.kanban?.ticketBaseUrl&&(st=g?.kanban?.ticketBaseUrl.replace("#TICKET#",u.ticket),at=tt.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",st).attr("target","_blank"));const lt={useHtmlLabels:u.useHtmlLabels,labelStyle:u.labelStyle||"",width:u.width,img:u.img,padding:u.padding||8,centerLabel:!1};let ct,ht;({label:ct,bbox:ht}=at?await Hl(at,"ticket"in u&&u.ticket||"",lt):await Hl(tt,"ticket"in u&&u.ticket||"",lt));const{label:dt,bbox:ut}=await Hl(tt,"assigned"in u&&u.assigned||"",lt);u.width=P;const pt=u?.width||0,gt=Math.max(ht.height,ut.height)/2,ft=Math.max(rt.height+20,u?.height||0)+gt,mt=-pt/2,yt=-ft/2;let xt;it.attr("transform","translate("+(nt-pt/2)+", "+(-gt-rt.height/2)+")"),ct.attr("transform","translate("+(nt-pt/2)+", "+(-gt+rt.height/2)+")"),dt.attr("transform","translate("+(nt+pt/2-ut.width-20)+", "+(-gt+rt.height/2)+")");const{rx:bt,ry:kt}=u,{cssStyles:Ct}=u;if("handDrawn"===u.look){const d=at_svg(tt),g=tc(u,{}),f=bt||kt?d.path(Xl(mt,yt,pt,ft,bt||0),g):d.rectangle(mt,yt,pt,ft,g);xt=tt.insert((()=>f),":first-child"),xt.attr("class","basic label-container").attr("style",Ct||null)}else{xt=tt.insert("rect",":first-child"),xt.attr("class","basic label-container __APA__").attr("style",M).attr("rx",bt??5).attr("ry",kt??5).attr("x",mt).attr("y",yt).attr("width",pt).attr("height",ft);const d="priority"in u&&u.priority;if(d){const u=tt.append("line"),g=mt+2,f=yt+Math.floor((bt??0)/2),M=yt+ft-Math.floor((bt??0)/2);u.attr("x1",g).attr("y1",f).attr("x2",g).attr("y2",M).attr("stroke-width","4").attr("stroke",Tc(d))}}return Yl(u,xt),u.height=ft,u.intersect=function(d){return pc.rect(u,d)},tt}__name(kanbanItem,"kanbanItem");var vc=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle$1},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],Bc=__name((()=>{const d={state:state,choice:choice,note:note,rectWithTitle:rectWithTitle,labelRect:labelRect,iconSquare:iconSquare,iconCircle:iconCircle,icon:icon,iconRounded:iconRounded,imageSquare:imageSquare,anchor:anchor,kanbanItem:kanbanItem,classBox:classBox},u=[...Object.entries(d),...vc.flatMap((d=>[d.shortName,..."aliases"in d?d.aliases:[],..."internalAliases"in d?d.internalAliases:[]].map((u=>[u,d.handler]))))];return Object.fromEntries(u)}),"generateShapeMap")();function isValidShape(d){return d in Bc}__name(isValidShape,"isValidShape");var Lc=new Map;async function insertNode(d,u,g){let f,M;"rect"===u.shape&&(u.rx&&u.ry?u.shape="roundedRect":u.shape="squareRect");const P=u.shape?Bc[u.shape]:void 0;if(!P)throw new Error(`No such shape: ${u.shape}. Please check your syntax.`);if(u.link){let tt;"sandbox"===g.config.securityLevel?tt="_top":u.linkTarget&&(tt=u.linkTarget||"_blank"),f=d.insert("svg:a").attr("xlink:href",u.link).attr("target",tt??null),M=await P(f,u,g)}else M=await P(d,u,g),f=M;return u.tooltip&&M.attr("title",u.tooltip),Lc.set(u.id,f),u.haveCallback&&f.attr("class",f.attr("class")+" clickable"),f}__name(insertNode,"insertNode");var Ac=__name(((d,u)=>{Lc.set(u.id,d)}),"setNodeElem"),Mc=__name((()=>{Lc.clear()}),"clear"),Fc=__name((d=>{const u=Lc.get(d.id);Le.trace("Transforming node",d.diff,d,"translate("+(d.x-d.width/2-5)+", "+d.width/2+")");const g=d.diff||0;return d.clusterNode?u.attr("transform","translate("+(d.x+g-d.width/2)+", "+(d.y-d.height/2-8)+")"):u.attr("transform","translate("+d.x+", "+d.y+")"),g}),"positionNode"),Ec={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function calculateDeltaAndAngle(d,u){if(void 0===d||void 0===u)return{angle:0,deltaX:0,deltaY:0};d=$c(d),u=$c(u);const[g,f]=[d.x,d.y],[M,P]=[u.x,u.y],tt=M-g,rt=P-f;return{angle:Math.atan(rt/tt),deltaX:tt,deltaY:rt}}__name(calculateDeltaAndAngle,"calculateDeltaAndAngle");var $c=__name((d=>Array.isArray(d)?{x:d[0],y:d[1]}:d),"pointTransformer"),Oc=__name((d=>({x:__name((function(u,g,f){let M=0;const P=$c(f[0]).x<$c(f[f.length-1]).x?"left":"right";if(0===g&&Object.hasOwn(Ec,d.arrowTypeStart)){const{angle:u,deltaX:g}=calculateDeltaAndAngle(f[0],f[1]);M=Ec[d.arrowTypeStart]*Math.cos(u)*(g>=0?1:-1)}else if(g===f.length-1&&Object.hasOwn(Ec,d.arrowTypeEnd)){const{angle:u,deltaX:g}=calculateDeltaAndAngle(f[f.length-1],f[f.length-2]);M=Ec[d.arrowTypeEnd]*Math.cos(u)*(g>=0?1:-1)}const tt=Math.abs($c(u).x-$c(f[f.length-1]).x),rt=Math.abs($c(u).y-$c(f[f.length-1]).y),it=Math.abs($c(u).x-$c(f[0]).x),nt=Math.abs($c(u).y-$c(f[0]).y),at=Ec[d.arrowTypeStart],st=Ec[d.arrowTypeEnd];if(tt<st&&tt>0&&rt<st){let d=st+1-tt;d*="right"===P?-1:1,M-=d}if(it<at&&it>0&&nt<at){let d=at+1-it;d*="right"===P?-1:1,M+=d}return $c(u).x+M}),"x"),y:__name((function(u,g,f){let M=0;const P=$c(f[0]).y<$c(f[f.length-1]).y?"down":"up";if(0===g&&Object.hasOwn(Ec,d.arrowTypeStart)){const{angle:u,deltaY:g}=calculateDeltaAndAngle(f[0],f[1]);M=Ec[d.arrowTypeStart]*Math.abs(Math.sin(u))*(g>=0?1:-1)}else if(g===f.length-1&&Object.hasOwn(Ec,d.arrowTypeEnd)){const{angle:u,deltaY:g}=calculateDeltaAndAngle(f[f.length-1],f[f.length-2]);M=Ec[d.arrowTypeEnd]*Math.abs(Math.sin(u))*(g>=0?1:-1)}const tt=Math.abs($c(u).y-$c(f[f.length-1]).y),rt=Math.abs($c(u).x-$c(f[f.length-1]).x),it=Math.abs($c(u).y-$c(f[0]).y),nt=Math.abs($c(u).x-$c(f[0]).x),at=Ec[d.arrowTypeStart],st=Ec[d.arrowTypeEnd];if(tt<st&&tt>0&&rt<st){let d=st+1-tt;d*="up"===P?-1:1,M-=d}if(it<at&&it>0&&nt<at){let d=at+1-it;d*="up"===P?-1:1,M+=d}return $c(u).y+M}),"y")})),"getLineFunctionsWithOffset"),Pc=__name(((d,u,g,f,M)=>{u.arrowTypeStart&&Dc(d,"start",u.arrowTypeStart,g,f,M),u.arrowTypeEnd&&Dc(d,"end",u.arrowTypeEnd,g,f,M)}),"addEdgeMarkers"),Ic={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},Dc=__name(((d,u,g,f,M,P)=>{const tt=Ic[g];if(!tt)return void Le.warn(`Unknown arrow type: ${g}`);const rt="start"===u?"Start":"End";d.attr(`marker-${u}`,`url(${f}#${M}_${P}-${tt}${rt})`)}),"addEdgeMarker"),Rc=new Map,Nc=new Map,zc=__name((()=>{Rc.clear(),Nc.clear()}),"clear"),qc=__name((d=>d?d.reduce(((d,u)=>d+";"+u),""):""),"getLabelStyles"),Wc=__name((async(d,u)=>{let g=Rr(bi().flowchart.htmlLabels);const f=await Dl(d,u.label,{style:qc(u.labelStyle),useHtmlLabels:g,addSvgBackground:!0,isNode:!1});Le.info("abc82",u,u.labelType);const M=d.insert("g").attr("class","edgeLabel"),P=M.insert("g").attr("class","label");P.node().appendChild(f);let tt,rt=f.getBBox();if(g){const d=f.children[0],u=select(f);rt=d.getBoundingClientRect(),u.attr("width",rt.width),u.attr("height",rt.height)}if(P.attr("transform","translate("+-rt.width/2+", "+-rt.height/2+")"),Rc.set(u.id,M),u.width=rt.width,u.height=rt.height,u.startLabelLeft){const g=await Vl(u.startLabelLeft,qc(u.labelStyle)),f=d.insert("g").attr("class","edgeTerminals"),M=f.insert("g").attr("class","inner");tt=M.node().appendChild(g);const P=g.getBBox();M.attr("transform","translate("+-P.width/2+", "+-P.height/2+")"),Nc.get(u.id)||Nc.set(u.id,{}),Nc.get(u.id).startLeft=f,setTerminalWidth(tt,u.startLabelLeft)}if(u.startLabelRight){const g=await Vl(u.startLabelRight,qc(u.labelStyle)),f=d.insert("g").attr("class","edgeTerminals"),M=f.insert("g").attr("class","inner");tt=f.node().appendChild(g),M.node().appendChild(g);const P=g.getBBox();M.attr("transform","translate("+-P.width/2+", "+-P.height/2+")"),Nc.get(u.id)||Nc.set(u.id,{}),Nc.get(u.id).startRight=f,setTerminalWidth(tt,u.startLabelRight)}if(u.endLabelLeft){const g=await Vl(u.endLabelLeft,qc(u.labelStyle)),f=d.insert("g").attr("class","edgeTerminals"),M=f.insert("g").attr("class","inner");tt=M.node().appendChild(g);const P=g.getBBox();M.attr("transform","translate("+-P.width/2+", "+-P.height/2+")"),f.node().appendChild(g),Nc.get(u.id)||Nc.set(u.id,{}),Nc.get(u.id).endLeft=f,setTerminalWidth(tt,u.endLabelLeft)}if(u.endLabelRight){const g=await Vl(u.endLabelRight,qc(u.labelStyle)),f=d.insert("g").attr("class","edgeTerminals"),M=f.insert("g").attr("class","inner");tt=M.node().appendChild(g);const P=g.getBBox();M.attr("transform","translate("+-P.width/2+", "+-P.height/2+")"),f.node().appendChild(g),Nc.get(u.id)||Nc.set(u.id,{}),Nc.get(u.id).endRight=f,setTerminalWidth(tt,u.endLabelRight)}return f}),"insertEdgeLabel");function setTerminalWidth(d,u){bi().flowchart.htmlLabels&&d&&(d.style.width=9*u.length+"px",d.style.height="12px")}__name(setTerminalWidth,"setTerminalWidth");var jc=__name(((d,u)=>{Le.debug("Moving label abc88 ",d.id,d.label,Rc.get(d.id),u);let g=u.updatedPath?u.updatedPath:u.originalPath;const f=bi(),{subGraphTitleTotalMargin:M}=Wn(f);if(d.label){const f=Rc.get(d.id);let P=d.x,tt=d.y;if(g){const f=qs.calcLabelPosition(g);Le.debug("Moving label "+d.label+" from (",P,",",tt,") to (",f.x,",",f.y,") abc88"),u.updatedPath&&(P=f.x,tt=f.y)}f.attr("transform",`translate(${P}, ${tt+M/2})`)}if(d.startLabelLeft){const u=Nc.get(d.id).startLeft;let f=d.x,M=d.y;if(g){const u=qs.calcTerminalLabelPosition(d.arrowTypeStart?10:0,"start_left",g);f=u.x,M=u.y}u.attr("transform",`translate(${f}, ${M})`)}if(d.startLabelRight){const u=Nc.get(d.id).startRight;let f=d.x,M=d.y;if(g){const u=qs.calcTerminalLabelPosition(d.arrowTypeStart?10:0,"start_right",g);f=u.x,M=u.y}u.attr("transform",`translate(${f}, ${M})`)}if(d.endLabelLeft){const u=Nc.get(d.id).endLeft;let f=d.x,M=d.y;if(g){const u=qs.calcTerminalLabelPosition(d.arrowTypeEnd?10:0,"end_left",g);f=u.x,M=u.y}u.attr("transform",`translate(${f}, ${M})`)}if(d.endLabelRight){const u=Nc.get(d.id).endRight;let f=d.x,M=d.y;if(g){const u=qs.calcTerminalLabelPosition(d.arrowTypeEnd?10:0,"end_right",g);f=u.x,M=u.y}u.attr("transform",`translate(${f}, ${M})`)}}),"positionEdgeLabel"),Hc=__name(((d,u)=>{const g=d.x,f=d.y,M=Math.abs(u.x-g),P=Math.abs(u.y-f),tt=d.width/2,rt=d.height/2;return M>=tt||P>=rt}),"outsideNode"),Yc=__name(((d,u,g)=>{Le.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(u)}\n  insidePoint : ${JSON.stringify(g)}\n  node        : x:${d.x} y:${d.y} w:${d.width} h:${d.height}`);const f=d.x,M=d.y,P=Math.abs(f-g.x),tt=d.width/2;let rt=g.x<u.x?tt-P:tt+P;const it=d.height/2,nt=Math.abs(u.y-g.y),at=Math.abs(u.x-g.x);if(Math.abs(M-u.y)*tt>Math.abs(f-u.x)*it){let d=g.y<u.y?u.y-it-M:M-it-u.y;rt=at*d/nt;const f={x:g.x<u.x?g.x+rt:g.x-at+rt,y:g.y<u.y?g.y+nt-d:g.y-nt+d};return 0===rt&&(f.x=u.x,f.y=u.y),0===at&&(f.x=u.x),0===nt&&(f.y=u.y),Le.debug(`abc89 top/bottom calc, Q ${nt}, q ${d}, R ${at}, r ${rt}`,f),f}{rt=g.x<u.x?u.x-tt-f:f-tt-u.x;let d=nt*rt/at,M=g.x<u.x?g.x+at-rt:g.x-at+rt,P=g.y<u.y?g.y+d:g.y-d;return Le.debug(`sides calc abc89, Q ${nt}, q ${d}, R ${at}, r ${rt}`,{_x:M,_y:P}),0===rt&&(M=u.x,P=u.y),0===at&&(M=u.x),0===nt&&(P=u.y),{x:M,y:P}}}),"intersection"),Gc=__name(((d,u)=>{Le.warn("abc88 cutPathAtIntersect",d,u);let g=[],f=d[0],M=!1;return d.forEach((d=>{if(Le.info("abc88 checking point",d,u),Hc(u,d)||M)Le.warn("abc88 outside",d,f),f=d,M||g.push(d);else{const P=Yc(u,f,d);Le.debug("abc88 inside",d,f,P),Le.debug("abc88 intersection",P,u);let tt=!1;g.forEach((d=>{tt=tt||d.x===P.x&&d.y===P.y})),g.some((d=>d.x===P.x&&d.y===P.y))?Le.warn("abc88 no intersect",P,g):g.push(P),M=!0}})),Le.debug("returning points",g),g}),"cutPathAtIntersect");function extractCornerPoints(d){const u=[],g=[];for(let f=1;f<d.length-1;f++){const M=d[f-1],P=d[f],tt=d[f+1];(M.x===P.x&&P.y===tt.y&&Math.abs(P.x-tt.x)>5&&Math.abs(P.y-M.y)>5||M.y===P.y&&P.x===tt.x&&Math.abs(P.x-M.x)>5&&Math.abs(P.y-tt.y)>5)&&(u.push(P),g.push(f))}return{cornerPoints:u,cornerPointPositions:g}}__name(extractCornerPoints,"extractCornerPoints");var Uc=__name((function(d,u,g){const f=u.x-d.x,M=u.y-d.y,P=g/Math.sqrt(f*f+M*M);return{x:u.x-P*f,y:u.y-P*M}}),"findAdjacentPoint"),Vc=__name((function(d){const{cornerPointPositions:u}=extractCornerPoints(d),g=[];for(let f=0;f<d.length;f++)if(u.includes(f)){const u=d[f-1],M=d[f+1],P=d[f],tt=Uc(u,P,5),rt=Uc(M,P,5),it=rt.x-tt.x,nt=rt.y-tt.y;g.push(tt);const at=2*Math.sqrt(2);let st={x:P.x,y:P.y};if(Math.abs(M.x-u.x)>10&&Math.abs(M.y-u.y)>=10){Le.debug("Corner point fixing",Math.abs(M.x-u.x),Math.abs(M.y-u.y));const d=5;st=P.x===tt.x?{x:it<0?tt.x-d+at:tt.x+d-at,y:nt<0?tt.y-at:tt.y+at}:{x:it<0?tt.x-at:tt.x+at,y:nt<0?tt.y-d+at:tt.y+d-at}}else Le.debug("Corner point skipping fixing",Math.abs(M.x-u.x),Math.abs(M.y-u.y));g.push(st,rt)}else g.push(d[f]);return g}),"fixCorners"),Xc=__name((function(d,u,g,f,M,P,tt){const{handDrawnSeed:rt}=bi();let it=u.points,nt=!1;const at=M;var st=P;st.intersect&&at.intersect&&(it=it.slice(1,u.points.length-1),it.unshift(at.intersect(it[0])),Le.debug("Last point APA12",u.start,"--\x3e",u.end,it[it.length-1],st,st.intersect(it[it.length-1])),it.push(st.intersect(it[it.length-1]))),u.toCluster&&(Le.info("to cluster abc88",g.get(u.toCluster)),it=Gc(u.points,g.get(u.toCluster).node),nt=!0),u.fromCluster&&(Le.debug("from cluster abc88",g.get(u.fromCluster),JSON.stringify(it,null,2)),it=Gc(it.reverse(),g.get(u.fromCluster).node).reverse(),nt=!0);let lt=it.filter((d=>!Number.isNaN(d.y)));lt=Vc(lt);let ct=curveBasis;u.curve&&(ct=u.curve);const{x:ht,y:dt}=Oc(u),ut=line$1().x(ht).y(dt).curve(ct);let pt,gt;switch(u.thickness){case"normal":default:pt="edge-thickness-normal";break;case"thick":pt="edge-thickness-thick";break;case"invisible":pt="edge-thickness-invisible"}switch(u.pattern){case"solid":default:pt+=" edge-pattern-solid";break;case"dotted":pt+=" edge-pattern-dotted";break;case"dashed":pt+=" edge-pattern-dashed"}let ft=ut(lt);const mt=Array.isArray(u.style)?u.style:[u.style];if("handDrawn"===u.look){const g=at_svg(d);Object.assign([],lt);pt+=" transition",gt=select(g.path(ft,{roughness:.3,seed:rt})).select("path").attr("id",u.id).attr("class"," "+pt+(u.classes?" "+u.classes:"")).attr("style",mt?mt.reduce(((d,u)=>d+";"+u),""):"");let f=gt.attr("d");gt.attr("d",f),d.node().appendChild(gt.node())}else gt=d.append("path").attr("d",ft).attr("id",u.id).attr("class"," "+pt+(u.classes?" "+u.classes:"")).attr("style",mt?mt.reduce(((d,u)=>d+";"+u),""):"");let yt="";(bi().flowchart.arrowMarkerAbsolute||bi().state.arrowMarkerAbsolute)&&(yt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,yt=yt.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Le.info("arrowTypeStart",u.arrowTypeStart),Le.info("arrowTypeEnd",u.arrowTypeEnd),Pc(gt,u,yt,tt,f);let xt={};return nt&&(xt.updatedPath=it),xt.originalPath=u.points,xt}),"insertEdge"),Zc=__name(((d,u,g,f)=>{u.forEach((u=>{Qc[u](d,g,f)}))}),"insertMarkers"),Qc={extension:__name(((d,u,g)=>{Le.trace("Making markers for ",g),d.append("defs").append("marker").attr("id",g+"_"+u+"-extensionStart").attr("class","marker extension "+u).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),d.append("defs").append("marker").attr("id",g+"_"+u+"-extensionEnd").attr("class","marker extension "+u).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension"),composition:__name(((d,u,g)=>{d.append("defs").append("marker").attr("id",g+"_"+u+"-compositionStart").attr("class","marker composition "+u).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),d.append("defs").append("marker").attr("id",g+"_"+u+"-compositionEnd").attr("class","marker composition "+u).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition"),aggregation:__name(((d,u,g)=>{d.append("defs").append("marker").attr("id",g+"_"+u+"-aggregationStart").attr("class","marker aggregation "+u).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),d.append("defs").append("marker").attr("id",g+"_"+u+"-aggregationEnd").attr("class","marker aggregation "+u).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation"),dependency:__name(((d,u,g)=>{d.append("defs").append("marker").attr("id",g+"_"+u+"-dependencyStart").attr("class","marker dependency "+u).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),d.append("defs").append("marker").attr("id",g+"_"+u+"-dependencyEnd").attr("class","marker dependency "+u).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency"),lollipop:__name(((d,u,g)=>{d.append("defs").append("marker").attr("id",g+"_"+u+"-lollipopStart").attr("class","marker lollipop "+u).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),d.append("defs").append("marker").attr("id",g+"_"+u+"-lollipopEnd").attr("class","marker lollipop "+u).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop"),point:__name(((d,u,g)=>{d.append("marker").attr("id",g+"_"+u+"-pointEnd").attr("class","marker "+u).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),d.append("marker").attr("id",g+"_"+u+"-pointStart").attr("class","marker "+u).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point"),circle:__name(((d,u,g)=>{d.append("marker").attr("id",g+"_"+u+"-circleEnd").attr("class","marker "+u).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),d.append("marker").attr("id",g+"_"+u+"-circleStart").attr("class","marker "+u).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle"),cross:__name(((d,u,g)=>{d.append("marker").attr("id",g+"_"+u+"-crossEnd").attr("class","marker cross "+u).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),d.append("marker").attr("id",g+"_"+u+"-crossStart").attr("class","marker cross "+u).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross"),barb:__name(((d,u,g)=>{d.append("defs").append("marker").attr("id",g+"_"+u+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb")},Kc=Zc,Jc={common:Zr,getConfig:xr,insertCluster:sc,insertEdge:Xc,insertEdgeLabel:Wc,insertMarkers:Kc,insertNode:insertNode,interpolateToCurve:interpolateToCurve,labelHelper:jl,log:Le,positionEdgeLabel:jc},th={},eh=__name((d=>{for(const u of d)th[u.name]=u}),"registerLayoutLoaders");__name((()=>{eh([{name:"dagre",loader:__name((async()=>await st((()=>import("./dagre-4EVJKHTY.GmvjgAO6.js")),__vite__mapDeps([0,1,2,3,4,5,6]))),"loader")}])}),"registerDefaultLayoutLoaders")();var rh=__name((async(d,u)=>{if(!(d.layoutAlgorithm in th))throw new Error(`Unknown layout algorithm: ${d.layoutAlgorithm}`);const g=th[d.layoutAlgorithm];return(await g.loader()).render(d,u,Jc,{algorithm:g.algorithm})}),"render"),ih=__name(((d="",{fallback:u="dagre"}={})=>{if(d in th)return d;if(u in th)return Le.warn(`Layout algorithm ${d} is not registered. Using ${u} as fallback.`),u;throw new Error(`Both layout algorithms ${d} and ${u} are not registered.`)}),"getRegisteredLayoutAlgorithm"),nh="11.4.1",ah=__name((d=>{const{securityLevel:u}=bi();let g=select("body");if("sandbox"===u){const u=select(`#i${d}`);g=select((u.node()?.contentDocument??document).body)}return g.select(`#${d}`)}),"selectSvgElement"),oh="comm",sh="rule",lh="decl",ch=Math.abs,hh=String.fromCharCode;function trim(d){return d.trim()}function replace(d,u,g){return d.replace(u,g)}function indexof(d,u,g){return d.indexOf(u,g)}function charat(d,u){return 0|d.charCodeAt(u)}function substr(d,u,g){return d.slice(u,g)}function strlen(d){return d.length}function append(d,u){return u.push(d),d}var dh=1,uh=1,ph=0,gh=0,fh=0,mh="";function node(d,u,g,f,M,P,tt,rt){return{value:d,root:u,parent:g,type:f,props:M,children:P,line:dh,column:uh,length:tt,return:"",siblings:rt}}function next(){return fh=gh<ph?charat(mh,gh++):0,uh++,10===fh&&(uh=1,dh++),fh}function peek(){return charat(mh,gh)}function caret(){return gh}function slice(d,u){return substr(mh,d,u)}function token(d){switch(d){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function delimit(d){return trim(slice(gh-1,delimiter(91===d?d+2:40===d?d+1:d)))}function whitespace(d){for(;(fh=peek())&&fh<33;)next();return token(d)>2||token(fh)>3?"":" "}function escaping(d,u){for(;--u&&next()&&!(fh<48||fh>102||fh>57&&fh<65||fh>70&&fh<97););return slice(d,caret()+(u<6&&32==peek()&&32==next()))}function delimiter(d){for(;next();)switch(fh){case d:return gh;case 34:case 39:34!==d&&39!==d&&delimiter(fh);break;case 40:41===d&&delimiter(d);break;case 92:next()}return gh}function commenter(d,u){for(;next()&&d+fh!==57&&(d+fh!==84||47!==peek()););return"/*"+slice(u,gh-1)+"*"+hh(47===d?d:next())}function identifier(d){for(;!token(peek());)next();return slice(d,gh)}function compile(d){return function dealloc(d){return mh="",d}(parse$1("",null,null,null,[""],d=function alloc(d){return dh=uh=1,ph=strlen(mh=d),gh=0,[]}(d),0,[0],d))}function parse$1(d,u,g,f,M,P,tt,rt,it){for(var nt=0,at=0,st=tt,lt=0,ct=0,ht=0,dt=1,ut=1,pt=1,gt=0,ft="",mt=M,yt=P,xt=f,bt=ft;ut;)switch(ht=gt,gt=next()){case 40:if(108!=ht&&58==charat(bt,st-1)){-1!=indexof(bt+=replace(delimit(gt),"&","&\f"),"&\f",ch(nt?rt[nt-1]:0))&&(pt=-1);break}case 34:case 39:case 91:bt+=delimit(gt);break;case 9:case 10:case 13:case 32:bt+=whitespace(ht);break;case 92:bt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),u,g,it),it),5!=token(ht||1)&&5!=token(peek()||1)||!strlen(bt)||" "===substr(bt,-1,void 0)||(bt+=" ");break;default:bt+="/"}break;case 123*dt:rt[nt++]=strlen(bt)*pt;case 125*dt:case 59:case 0:switch(gt){case 0:case 125:ut=0;case 59+at:-1==pt&&(bt=replace(bt,/\f/g,"")),ct>0&&(strlen(bt)-st||0===dt&&47===ht)&&append(ct>32?declaration(bt+";",f,g,st-1,it):declaration(replace(bt," ","")+";",f,g,st-2,it),it);break;case 59:bt+=";";default:if(append(xt=ruleset(bt,u,g,nt,at,M,rt,ft,mt=[],yt=[],st,P),P),123===gt)if(0===at)parse$1(bt,u,xt,xt,mt,P,st,rt,yt);else switch(99===lt&&110===charat(bt,3)?100:lt){case 100:case 108:case 109:case 115:parse$1(d,xt,xt,f&&append(ruleset(d,xt,xt,0,0,M,rt,ft,M,mt=[],st,yt),yt),M,yt,st,rt,f?mt:yt);break;default:parse$1(bt,xt,xt,xt,[""],yt,0,rt,yt)}}nt=at=ct=0,dt=pt=1,ft=bt="",st=tt;break;case 58:st=1+strlen(bt),ct=ht;default:if(dt<1)if(123==gt)--dt;else if(125==gt&&0==dt++&&125==(fh=gh>0?charat(mh,--gh):0,uh--,10===fh&&(uh=1,dh--),fh))continue;switch(bt+=hh(gt),gt*dt){case 38:pt=at>0?1:(bt+="\f",-1);break;case 44:rt[nt++]=(strlen(bt)-1)*pt,pt=1;break;case 64:45===peek()&&(bt+=delimit(next())),lt=peek(),at=st=strlen(ft=bt+=identifier(caret())),gt++;break;case 45:45===ht&&2==strlen(bt)&&(dt=0)}}return P}function ruleset(d,u,g,f,M,P,tt,rt,it,nt,at,st){for(var lt=M-1,ct=0===M?P:[""],ht=function sizeof(d){return d.length}(ct),dt=0,ut=0,pt=0;dt<f;++dt)for(var gt=0,ft=substr(d,lt+1,lt=ch(ut=tt[dt])),mt=d;gt<ht;++gt)(mt=trim(ut>0?ct[gt]+" "+ft:replace(ft,/&\f/g,ct[gt])))&&(it[pt++]=mt);return node(d,u,g,0===M?sh:rt,it,nt,at,st)}function comment(d,u,g,f){return node(d,u,g,oh,hh(function char(){return fh}()),substr(d,2,-2),0,f)}function declaration(d,u,g,f,M){return node(d,u,g,lh,substr(d,0,f),substr(d,f+1,-1),f,M)}function serialize(d,u){for(var g="",f=0;f<d.length;f++)g+=u(d[f],f,d,u)||"";return g}function stringify(d,u,g,f){switch(d.type){case"@layer":if(d.children.length)break;case"@import":case lh:return d.return=d.return||d.value;case oh:return"";case"@keyframes":return d.return=d.value+"{"+serialize(d.children,f)+"}";case sh:if(!strlen(d.value=d.props.join(",")))return""}return strlen(g=serialize(d.children,f))?d.return=d.value+"{"+g+"}":""}const yh=overArg(Object.keys,Object);var xh=Object.prototype.hasOwnProperty;function baseKeys(d){if(!isPrototype(d))return yh(d);var u=[];for(var g in Object(d))xh.call(d,g)&&"constructor"!=g&&u.push(g);return u}const bh=getNative(oo,"DataView");const kh=getNative(oo,"Promise");const Ch=getNative(oo,"Set");const _h=getNative(oo,"WeakMap");var wh="[object Map]",Sh="[object Promise]",Th="[object Set]",vh="[object WeakMap]",Bh="[object DataView]",Lh=toSource(bh),Ah=toSource(Ao),Mh=toSource(kh),Fh=toSource(Ch),Eh=toSource(_h),$h=baseGetTag;(bh&&$h(new bh(new ArrayBuffer(1)))!=Bh||Ao&&$h(new Ao)!=wh||kh&&$h(kh.resolve())!=Sh||Ch&&$h(new Ch)!=Th||_h&&$h(new _h)!=vh)&&($h=function(d){var u=baseGetTag(d),g="[object Object]"==u?d.constructor:void 0,f=g?toSource(g):"";if(f)switch(f){case Lh:return Bh;case Ah:return wh;case Mh:return Sh;case Fh:return Th;case Eh:return vh}return u});const Oh=$h;var Ph=Object.prototype.hasOwnProperty;function isEmpty(d){if(null==d)return!0;if(isArrayLike(d)&&(Yo(d)||"string"==typeof d||"function"==typeof d.splice||Xo(d)||ss(d)||Ho(d)))return!d.length;var u=Oh(d);if("[object Map]"==u||"[object Set]"==u)return!d.size;if(isPrototype(d))return!baseKeys(d).length;for(var g in d)if(Ph.call(d,g))return!1;return!0}var Ih={id:"c4",detector:__name((d=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./c4Diagram-6F5ED5ID.AIfiw7bO.js");return{diagram:d}}),__vite__mapDeps([7,8,6]));return{id:"c4",diagram:d}}),"loader")},Dh="flowchart",Rh={id:Dh,detector:__name(((d,u)=>"dagre-wrapper"!==u?.flowchart?.defaultRenderer&&"elk"!==u?.flowchart?.defaultRenderer&&/^\s*graph/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./flowDiagram-7ASYPVHJ.VklpP3kY.js");return{diagram:d}}),__vite__mapDeps([9,10,11,6]));return{id:Dh,diagram:d}}),"loader")},Nh="flowchart-v2",zh={id:Nh,detector:__name(((d,u)=>"dagre-d3"!==u?.flowchart?.defaultRenderer&&("elk"===u?.flowchart?.defaultRenderer&&(u.layout="elk"),!(!/^\s*graph/.test(d)||"dagre-wrapper"!==u?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(d))),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./flowDiagram-7ASYPVHJ.VklpP3kY.js");return{diagram:d}}),__vite__mapDeps([9,10,11,6]));return{id:Nh,diagram:d}}),"loader")},qh={id:"er",detector:__name((d=>/^\s*erDiagram/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./erDiagram-6RL3IURR.MEglqlfl.js");return{diagram:d}}),__vite__mapDeps([12,1,2,3,4,6]));return{id:"er",diagram:d}}),"loader")},Wh="gitGraph",jh={id:Wh,detector:__name((d=>/^\s*gitGraph/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./gitGraphDiagram-NRZ2UAAF.BT5oUmG1.js");return{diagram:d}}),__vite__mapDeps([13,14,15,16,6,2,4,5]));return{id:Wh,diagram:d}}),"loader")},Hh="gantt",Yh={id:Hh,detector:__name((d=>/^\s*gantt/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./ganttDiagram-NTVNEXSI.7ye9Obbz.js");return{diagram:d}}),__vite__mapDeps([17,6,18,19]));return{id:Hh,diagram:d}}),"loader")},Gh="info",Uh={id:Gh,detector:__name((d=>/^\s*info/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./infoDiagram-A4XQUW5V.yvKH4yUC.js");return{diagram:d}}),__vite__mapDeps([20,16,6,2,4,5]));return{id:Gh,diagram:d}}),"loader")},Vh={id:"pie",detector:__name((d=>/^\s*pie/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./pieDiagram-YF2LJOPJ.bsH_JCUR.js");return{diagram:d}}),__vite__mapDeps([21,14,16,6,2,4,5,22,23,19]));return{id:"pie",diagram:d}}),"loader")},Xh="quadrantChart",Zh={id:Xh,detector:__name((d=>/^\s*quadrantChart/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./quadrantDiagram-OS5C2QUG.6avOCsMq.js");return{diagram:d}}),__vite__mapDeps([24,18,19,6]));return{id:Xh,diagram:d}}),"loader")},Qh="xychart",Kh={id:Qh,detector:__name((d=>/^\s*xychart-beta/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./xychartDiagram-6QU3TZC5.qUvwvTK-.js");return{diagram:d}}),__vite__mapDeps([25,19,23,18,6]));return{id:Qh,diagram:d}}),"loader")},Jh="requirement",td={id:Jh,detector:__name((d=>/^\s*requirement(Diagram)?/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./requirementDiagram-MIRIMTAZ._UZVc4i8.js");return{diagram:d}}),__vite__mapDeps([26,1,2,3,4,6]));return{id:Jh,diagram:d}}),"loader")},ed="sequence",rd={id:ed,detector:__name((d=>/^\s*sequenceDiagram/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./sequenceDiagram-G6AWOVSC.E6wc8oJW.js");return{diagram:d}}),__vite__mapDeps([27,8,15,6]));return{id:ed,diagram:d}}),"loader")},id="class",nd={id:id,detector:__name(((d,u)=>"dagre-wrapper"!==u?.class?.defaultRenderer&&/^\s*classDiagram/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./classDiagram-LNE6IOMH.yP26bwk7.js");return{diagram:d}}),__vite__mapDeps([28,29,10,6]));return{id:id,diagram:d}}),"loader")},ad="classDiagram",od={id:ad,detector:__name(((d,u)=>!(!/^\s*classDiagram/.test(d)||"dagre-wrapper"!==u?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./classDiagram-v2-MQ7JQ4JX.yP26bwk7.js");return{diagram:d}}),__vite__mapDeps([30,29,10,6]));return{id:ad,diagram:d}}),"loader")},sd="state",ld={id:sd,detector:__name(((d,u)=>"dagre-wrapper"!==u?.state?.defaultRenderer&&/^\s*stateDiagram/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./stateDiagram-MAYHULR4.WvJuecpE.js");return{diagram:d}}),__vite__mapDeps([31,32,10,1,2,3,4,6]));return{id:sd,diagram:d}}),"loader")},cd="stateDiagram",hd={id:cd,detector:__name(((d,u)=>!!/^\s*stateDiagram-v2/.test(d)||!(!/^\s*stateDiagram/.test(d)||"dagre-wrapper"!==u?.state?.defaultRenderer)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./stateDiagram-v2-4JROLMXI.LbJyftVm.js");return{diagram:d}}),__vite__mapDeps([33,32,10,6]));return{id:cd,diagram:d}}),"loader")},dd="journey",ud={id:dd,detector:__name((d=>/^\s*journey/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./journeyDiagram-G5WM74LC.ClNaovKc.js");return{diagram:d}}),__vite__mapDeps([34,8,22,6]));return{id:dd,diagram:d}}),"loader")},pd={draw:__name(((d,u,g)=>{Le.debug("rendering svg for syntax error\n");const f=ah(u),M=f.append("g");f.attr("viewBox","0 0 2412 512"),Jr(f,100,512,!0),M.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),M.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),M.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),M.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),M.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),M.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),M.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),M.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${g}`)}),"draw")},gd=pd,fd={db:{},renderer:pd,parser:{parse:__name((()=>{}),"parse")}},md="flowchart-elk",yd={id:md,detector:__name(((d,u={})=>!!(/^\s*flowchart-elk/.test(d)||/^\s*flowchart|graph/.test(d)&&"elk"===u?.flowchart?.defaultRenderer)&&(u.layout="elk",!0)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./flowDiagram-7ASYPVHJ.VklpP3kY.js");return{diagram:d}}),__vite__mapDeps([9,10,11,6]));return{id:md,diagram:d}}),"loader")},xd="timeline",bd={id:xd,detector:__name((d=>/^\s*timeline/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./timeline-definition-U7ZMHBDA.-bgmtvTH.js");return{diagram:d}}),__vite__mapDeps([35,22,6]));return{id:xd,diagram:d}}),"loader")},kd="mindmap",Cd={id:kd,detector:__name((d=>/^\s*mindmap/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./mindmap-definition-GWI6TPTV.vqatwHQM.js");return{diagram:d}}),__vite__mapDeps([36,37,6]));return{id:kd,diagram:d}}),"loader")},_d="kanban",wd={id:_d,detector:__name((d=>/^\s*kanban/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./kanban-definition-QRCXZQQD.Gge_-edq.js");return{diagram:d}}),__vite__mapDeps([38,6]));return{id:_d,diagram:d}}),"loader")},Sd="sankey",Td={id:Sd,detector:__name((d=>/^\s*sankey-beta/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./sankeyDiagram-Y46BX6SQ.s5WmhGjL.js");return{diagram:d}}),__vite__mapDeps([39,23,19,6]));return{id:Sd,diagram:d}}),"loader")},vd="packet",Bd={id:vd,detector:__name((d=>/^\s*packet-beta/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./diagram-QW4FP2JN.yG90XMcQ.js");return{diagram:d}}),__vite__mapDeps([40,14,16,6,2,4,5]));return{id:vd,diagram:d}}),"loader")},Ld="block",Ad={id:Ld,detector:__name((d=>/^\s*block-beta/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./blockDiagram-ZHA2E4KO.YBbSDk9O.js");return{diagram:d}}),__vite__mapDeps([41,5,2,1,11,6]));return{id:Ld,diagram:d}}),"loader")},Md="architecture",Fd={id:Md,detector:__name((d=>/^\s*architecture/.test(d)),"detector"),loader:__name((async()=>{const{diagram:d}=await st((async()=>{const{diagram:d}=await import("./architectureDiagram-UYN6MBPD.KCSGAzGf.js");return{diagram:d}}),__vite__mapDeps([42,14,15,16,6,2,4,5,37]));return{id:Md,diagram:d}}),"loader")},Ed=!1,$d=__name((()=>{Ed||(Ed=!0,vi("error",fd,(d=>"error"===d.toLowerCase().trim())),vi("---",{db:{clear:__name((()=>{}),"clear")},styles:{},renderer:{draw:__name((()=>{}),"draw")},parser:{parse:__name((()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}),"parse")},init:__name((()=>null),"init")},(d=>d.toLowerCase().trimStart().startsWith("---"))),De(Ih,wd,od,nd,qh,Yh,Uh,Vh,td,rd,yd,zh,Rh,Cd,bd,jh,hd,ld,ud,Zh,Td,Bd,Kh,Ad,Fd))}),"addDiagrams"),Od=__name((async()=>{Le.debug("Loading registered diagrams");const d=(await Promise.allSettled(Object.entries(Pe).map((async([d,{detector:u,loader:g}])=>{if(g)try{Bi(d)}catch{try{const{diagram:d,id:f}=await g();vi(f,d,u)}catch(f){throw Le.error(`Failed to load external diagram with key ${d}. Removing from detectors.`),delete Pe[d],f}}})))).filter((d=>"rejected"===d.status));if(d.length>0){Le.error(`Failed to load ${d.length} external diagrams`);for(const u of d)Le.error(u);throw new Error(`Failed to load ${d.length} external diagrams`)}}),"loadRegisteredDiagrams");function setA11yDiagramInfo(d,u){d.attr("role","graphics-document document"),""!==u&&d.attr("aria-roledescription",u)}function addSVGa11yTitleDescription(d,u,g,f){if(void 0!==d.insert){if(g){const u=`chart-desc-${f}`;d.attr("aria-describedby",u),d.insert("desc",":first-child").attr("id",u).text(g)}if(u){const g=`chart-title-${f}`;d.attr("aria-labelledby",g),d.insert("title",":first-child").attr("id",g).text(u)}}}__name(setA11yDiagramInfo,"setA11yDiagramInfo"),__name(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var Pd=(__name(it=class{constructor(d,u,g,f,M){this.type=d,this.text=u,this.db=g,this.parser=f,this.renderer=M}static async fromText(d,u={}){const g=xr(),f=Ie(d,g);d=Ws(d)+"\n";try{Bi(f)}catch{const d=Ne(f);if(!d)throw new Oe(`Diagram ${f} not found.`);const{id:u,diagram:g}=await d();vi(u,g)}const{db:M,parser:P,renderer:tt,init:rt}=Bi(f);return P.parser&&(P.parser.yy=M),M.clear?.(),rt?.(g),u.title&&M.setDiagramTitle?.(u.title),await P.parse(d),new it(f,d,M,P,tt)}async render(d,u){await this.renderer.draw(this.text,d,u,this)}getParser(){return this.parser}getType(){return this.type}},"Diagram"),it),Id=[],Dd=__name((()=>{Id.forEach((d=>{d()})),Id=[]}),"attachFunctions"),Rd=__name((d=>d.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()),"cleanupComments");function extractFrontMatter(d){const u=d.match(Fe);if(!u)return{text:d,metadata:{}};let g=wn(u[1],{schema:_n})??{};g="object"!=typeof g||Array.isArray(g)?{}:g;const f={};return g.displayMode&&(f.displayMode=g.displayMode.toString()),g.title&&(f.title=g.title.toString()),g.config&&(f.config=g.config),{text:d.slice(u[0].length),metadata:f}}__name(extractFrontMatter,"extractFrontMatter");var Nd=__name((d=>d.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,((d,u,g)=>"<"+u+g.replace(/="([^"]*)"/g,"='$1'")+">"))),"cleanupText"),zd=__name((d=>{const{text:u,metadata:g}=extractFrontMatter(d),{displayMode:f,title:M,config:P={}}=g;return f&&(P.gantt||(P.gantt={}),P.gantt.displayMode=f),{title:M,config:P,text:u}}),"processFrontmatter"),qd=__name((d=>{const u=qs.detectInit(d)??{},g=qs.detectDirective(d,"wrap");return Array.isArray(g)?u.wrap=g.some((({type:d})=>"wrap"===d)):"wrap"===g?.type&&(u.wrap=!0),{text:_s(d),directive:u}}),"processDirectives");function preprocessDiagram(d){const u=Nd(d),g=zd(u),f=qd(g.text),M=cleanAndMerge(g.config,f.directive);return{code:d=Rd(f.text),title:g.title,config:M}}function toBase64(d){const u=(new TextEncoder).encode(d),g=Array.from(u,(d=>String.fromCodePoint(d))).join("");return btoa(g)}__name(preprocessDiagram,"preprocessDiagram"),__name(toBase64,"toBase64");var Wd=["foreignobject"],jd=["dominant-baseline"];function processAndSetConfigs(d){const u=preprocessDiagram(d);return Cr(),kr(u.config??{}),u}async function parse(d,u){$d();try{const{code:u,config:g}=processAndSetConfigs(d);return{diagramType:(await Kd(u)).type,config:g}}catch(g){if(u?.suppressErrors)return!1;throw g}}__name(processAndSetConfigs,"processAndSetConfigs"),__name(parse,"parse");var Hd=__name(((d,u,g=[])=>`\n.${d} ${u} { ${g.join(" !important; ")} !important; }`),"cssImportantStyles"),Yd=__name(((d,u=new Map)=>{let g="";if(void 0!==d.themeCSS&&(g+=`\n${d.themeCSS}`),void 0!==d.fontFamily&&(g+=`\n:root { --mermaid-font-family: ${d.fontFamily}}`),void 0!==d.altFontFamily&&(g+=`\n:root { --mermaid-alt-font-family: ${d.altFontFamily}}`),u instanceof Map){const f=d.htmlLabels??d.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];u.forEach((d=>{isEmpty(d.styles)||f.forEach((u=>{g+=Hd(d.id,u,d.styles)})),isEmpty(d.textStyles)||(g+=Hd(d.id,"tspan",(d?.textStyles||[]).map((d=>d.replace("color","fill")))))}))}return g}),"createCssStyles"),Gd=__name(((d,u,g,f)=>{const M=Yd(d,g);return serialize(compile(`${f}{${ni(u,M,d.themeVariables)}}`),stringify)}),"createUserStyles"),Ud=__name(((d="",u,g)=>{let f=d;return g||u||(f=f.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),f=js(f),f=f.replace(/<br>/g,"<br/>"),f}),"cleanUpSvgCode"),Vd=__name(((d="",u)=>`<iframe style="width:100%;height:${u?.viewBox?.baseVal?.height?u.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${toBase64(`<body style="margin:0">${d}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`),"putIntoIFrame"),Xd=__name(((d,u,g,f,M)=>{const P=d.append("div");P.attr("id",g),f&&P.attr("style",f);const tt=P.append("svg").attr("id",u).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return M&&tt.attr("xmlns:xlink",M),tt.append("g"),d}),"appendDivSvgG");function sandboxedIframe(d,u){return d.append("iframe").attr("id",u).attr("style","width: 100%; height: 100%;").attr("sandbox","")}__name(sandboxedIframe,"sandboxedIframe");var Zd=__name(((d,u,g,f)=>{d.getElementById(u)?.remove(),d.getElementById(g)?.remove(),d.getElementById(f)?.remove()}),"removeExistingElements"),Qd=__name((async function(d,u,g){$d();const f=processAndSetConfigs(u);u=f.code;const M=xr();Le.debug(M),u.length>(M?.maxTextSize??5e4)&&(u="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const P="#"+d,tt="i"+d,rt="#"+tt,it="d"+d,nt="#"+it,at=__name((()=>{const d=select(lt?rt:nt).node();d&&"remove"in d&&d.remove()}),"removeTempElements");let st=select("body");const lt="sandbox"===M.securityLevel,ct="loose"===M.securityLevel,ht=M.fontFamily;if(void 0!==g){if(g&&(g.innerHTML=""),lt){const d=sandboxedIframe(select(g),tt);st=select(d.nodes()[0].contentDocument.body),st.node().style.margin=0}else st=select(g);Xd(st,d,it,`font-family: ${ht}`,"http://www.w3.org/1999/xlink")}else{if(Zd(document,d,it,tt),lt){const d=sandboxedIframe(select("body"),tt);st=select(d.nodes()[0].contentDocument.body),st.node().style.margin=0}else st=select("body");Xd(st,d,it)}let dt,ut;try{dt=await Pd.fromText(u,{title:f.title})}catch(St){if(M.suppressErrorRendering)throw at(),St;dt=await Pd.fromText("error"),ut=St}const pt=st.select(nt).node(),gt=dt.type,ft=pt.firstChild,mt=ft.firstChild,yt=dt.renderer.getClasses?.(u,dt),xt=Gd(M,gt,yt,P),bt=document.createElement("style");bt.innerHTML=xt,ft.insertBefore(bt,mt);try{await dt.renderer.draw(u,d,nh,dt)}catch(Tt){throw M.suppressErrorRendering?at():gd.draw(u,d,nh),Tt}const kt=st.select(`${nt} svg`),Ct=dt.db.getAccTitle?.(),_t=dt.db.getAccDescription?.();addA11yInfo(gt,kt,Ct,_t),st.select(`[id="${d}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let wt=st.select(nt).node().innerHTML;if(Le.debug("config.arrowMarkerAbsolute",M.arrowMarkerAbsolute),wt=Ud(wt,lt,Rr(M.arrowMarkerAbsolute)),lt){const d=st.select(nt+" svg").node();wt=Vd(wt,d)}else ct||(wt=Te.sanitize(wt,{ADD_TAGS:Wd,ADD_ATTR:jd,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Dd(),ut)throw ut;return at(),{diagramType:gt,svg:wt,bindFunctions:dt.db.bindFunctions}}),"render");function initialize(d={}){const u=qe({},d);u?.fontFamily&&!u.themeVariables?.fontFamily&&(u.themeVariables||(u.themeVariables={}),u.themeVariables.fontFamily=u.fontFamily),gr(u),u?.theme&&u.theme in tr?u.themeVariables=tr[u.theme].getThemeVariables(u.themeVariables):u&&(u.themeVariables=tr.default.getThemeVariables(u.themeVariables));const g="object"==typeof u?pr(u):mr();Ae(g.logLevel),$d()}__name(initialize,"initialize");var Kd=__name(((d,u={})=>{const{code:g}=preprocessDiagram(d);return Pd.fromText(g,u)}),"getDiagramFromText");function addA11yInfo(d,u,g,f){setA11yDiagramInfo(u,d),addSVGa11yTitleDescription(u,g,f,u.attr("id"))}__name(addA11yInfo,"addA11yInfo");var Jd=Object.freeze({render:Qd,parse:parse,getDiagramFromText:Kd,initialize:initialize,getConfig:xr,setConfig:yr,getSiteConfig:mr,updateSiteConfig:fr,reset:__name((()=>{Cr()}),"reset"),globalReset:__name((()=>{Cr(lr)}),"globalReset"),defaultConfig:lr});Ae(xr().logLevel),Cr(xr());var tu=__name(((d,u,g)=>{Le.warn(d),isDetailedError(d)?(g&&g(d.str,d.hash),u.push({...d,message:d.str,error:d})):(g&&g(d),d instanceof Error&&u.push({str:d.message,message:d.message,hash:d.name,error:d}))}),"handleError"),eu=__name((async function(d={querySelector:".mermaid"}){try{await ru(d)}catch(u){if(isDetailedError(u)&&Le.error(u.str),pu.parseError&&pu.parseError(u),!d.suppressErrors)throw Le.error("Use the suppressErrors option to suppress these errors"),u}}),"run"),ru=__name((async function({postRenderCallback:d,querySelector:u,nodes:g}={querySelector:".mermaid"}){const f=Jd.getConfig();let M;if(Le.debug((d?"":"No ")+"Callback function found"),g)M=g;else{if(!u)throw new Error("Nodes and querySelector are both undefined");M=document.querySelectorAll(u)}Le.debug(`Found ${M.length} diagrams`),void 0!==f?.startOnLoad&&(Le.debug("Start On Load: "+f?.startOnLoad),Jd.updateSiteConfig({startOnLoad:f?.startOnLoad}));const P=new qs.InitIDGenerator(f.deterministicIds,f.deterministicIDSeed);let tt;const rt=[];for(const nt of Array.from(M)){if(Le.info("Rendering diagram: "+nt.id),nt.getAttribute("data-processed"))continue;nt.setAttribute("data-processed","true");const u=`mermaid-${P.next()}`;tt=nt.innerHTML,tt=dedent(qs.entityDecode(tt)).trim().replace(/<br\s*\/?>/gi,"<br/>");const g=qs.detectInit(tt);g&&Le.debug("Detected early reinit: ",g);try{const{svg:g,bindFunctions:f}=await uu(u,tt,nt);nt.innerHTML=g,d&&await d(u),f&&f(nt)}catch(it){tu(it,rt,pu.parseError)}}if(rt.length>0)throw rt[0]}),"runThrowsErrors"),iu=__name((function(d){Jd.initialize(d)}),"initialize"),nu=__name((async function(d,u,g){Le.warn("mermaid.init is deprecated. Please use run instead."),d&&iu(d);const f={postRenderCallback:g,querySelector:".mermaid"};"string"==typeof u?f.querySelector=u:u&&(u instanceof HTMLElement?f.nodes=[u]:f.nodes=u),await eu(f)}),"init"),au=__name((async(d,{lazyLoad:u=!0}={})=>{$d(),De(...d),!1===u&&await Od()}),"registerExternalDiagrams"),ou=__name((function(){if(pu.startOnLoad){const{startOnLoad:d}=Jd.getConfig();d&&pu.run().catch((d=>Le.error("Mermaid failed to initialize",d)))}}),"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",ou,!1);var su=__name((function(d){pu.parseError=d}),"setParseErrorHandler"),lu=[],cu=!1,hu=__name((async()=>{if(!cu){for(cu=!0;lu.length>0;){const u=lu.shift();if(u)try{await u()}catch(d){Le.error("Error executing queue",d)}}cu=!1}}),"executeQueue"),du=__name((async(d,u)=>new Promise(((g,f)=>{const M=__name((()=>new Promise(((M,P)=>{Jd.parse(d,u).then((d=>{M(d),g(d)}),(d=>{Le.error("Error parsing",d),pu.parseError?.(d),P(d),f(d)}))}))),"performCall");lu.push(M),hu().catch(f)}))),"parse"),uu=__name(((d,u,g)=>new Promise(((f,M)=>{const P=__name((()=>new Promise(((P,tt)=>{Jd.render(d,u,g).then((d=>{P(d),f(d)}),(d=>{Le.error("Error parsing",d),pu.parseError?.(d),tt(d),M(d)}))}))),"performCall");lu.push(P),hu().catch(M)}))),"render"),pu={startOnLoad:!0,mermaidAPI:Jd,parse:du,render:uu,init:nu,run:eu,registerExternalDiagrams:au,registerLayoutLoaders:eh,initialize:iu,parseError:void 0,contentLoaded:ou,setParseErrorHandler:su,detectType:Ie,registerIconPacks:Nn},gu=pu;
/*! Check if previously processed */
/*!
 * Wait for document loaded before starting the execution
 */
const fu=Object.freeze(Object.defineProperty({__proto__:null,default:gu},Symbol.toStringTag,{value:"Module"}));export{ja as $,rh as A,rgba2 as B,dt as C,vt as D,ar as E,cleanAndMerge as F,xr as G,Ms as H,wi as I,_n as J,ah as K,nh as L,Va as M,Wa as N,Ya as O,constant$1 as P,Xa as Q,path as R,Ua as S,Za as T,Ga as U,Ha as V,za as W,qa as X,asin as Y,acos as Z,__name as _,qe as a,interpolateNumber as a$,Ze as a0,line$1 as a1,Ur as a2,Vr as a3,Xr as a4,zs as a5,ys as a6,qr as a7,curveBasis as a8,As as a9,Ac as aA,Xc as aB,jc as aC,Wc as aD,computeDimensionOfText as aE,array as aF,In as aG,Nn as aH,qn as aI,isObject as aJ,isIterateeCall as aK,keysIn as aL,eq as aM,isArrayLike as aN,Yo as aO,identity as aP,isIndex as aQ,assignValue as aR,define as aS,extend as aT,Rgb as aU,Color as aV,rgbConvert as aW,nogamma as aX,hue as aY,ct as aZ,constant$2 as a_,__export as aa,ai as ab,ti as ac,isDark$1 as ad,lighten$1 as ae,darken$1 as af,sc as ag,insertNode as ah,Fc as ai,getStylesFromArray as aj,Rr as ak,Dl as al,Wn as am,Oc as an,replaceIconSubstring as ao,js as ap,baseRest as aq,isArrayLikeObject as ar,constant as as,isFunction as at,isEmpty as au,Kc as av,Mc as aw,zc as ax,lc as ay,Yl as az,gi as b,color as b0,ua as b1,interpolateString as b2,fs as b3,overRest as b4,oo as b5,Fo as b6,baseAssignValue as b7,baseUnary as b8,ms as b9,isObjectLike as ba,baseGetTag as bb,so as bc,arrayLikeKeys as bd,baseKeys as be,memoize as bf,Ho as bg,copyObject as bh,No as bi,cloneArrayBuffer as bj,cloneTypedArray as bk,Oh as bl,as as bm,copyArray as bn,Xo as bo,cloneBuffer as bp,initCloneObject as bq,Stack as br,MapCache as bs,Io as bt,ss as bu,isLength as bv,Ch as bw,createAssigner as bx,isPrototype as by,fu as bz,pi as c,bi as d,Zr as e,calculateTextHeight as f,ui as g,calculateTextWidth as h,Fr as i,select as j,Jr as k,Le as l,Yn as m,vr as n,ki as o,Ci as p,fi as q,mi as r,di as s,wn as t,isValidShape as u,qs as v,$s as w,hi as x,Hs as y,ih as z};
