{"version":3,"file":"useCurrentUser.zlImhYTS.js","sources":["../../../app/hooks/useCurrentUser.ts"],"sourcesContent":["import invariant from \"invariant\";\nimport User from \"~/models/User\";\nimport useStores from \"./useStores\";\n\n/**\n * Returns the current user, or undefined if there is no current user and `rejectOnEmpty` is set to\n * false.\n *\n * @param options.rejectOnEmpty - If true, throws an error if there is no current user. Defaults to true.\n */\nfunction useCurrentUser(options: { rejectOnEmpty: false }): User | undefined;\nfunction useCurrentUser(options?: { rejectOnEmpty: true }): User;\nfunction useCurrentUser({\n  rejectOnEmpty = true,\n}: { rejectOnEmpty?: boolean } = {}) {\n  const { auth } = useStores();\n  if (rejectOnEmpty) {\n    invariant(auth.user, \"user required\");\n  }\n  return auth.user || undefined;\n}\n\nexport default useCurrentUser;\n"],"names":["useCurrentUser","rejectOnEmpty","auth","useStores","user","undefined"],"mappings":"+CAYA,SAASA,gBAAeC,cACtBA,GAAgB,GACe,IACzB,MAAAC,KAAEA,GAASC,IAIjB,OAHIF,GACQC,EAAAA,EAAKE,KAAM,iBAEhBF,EAAKE,WAAQC,CACtB"}