import{j as e,o as t,u as s,a,as as n,at as o,au as i,r,Z as c,d as l,H as d,A as m,am as u,I as g,B as y}from"./index.mlCxaiYE.js";import{u as h}from"./index.esm.XsAbwjVB.js";import{S as f}from"./SettingRow.96ERny3f.js";import{S as p}from"./Scene.tZk0YIWv.js";function GoogleIcon({size:t=24,color:s="currentColor"}){return e("svg",{fill:s,width:t,height:t,viewBox:"-8 -8 48 48",version:"1.1",children:e("path",{d:"M32.6162791,13.9090909 L16.8837209,13.9090909 L16.8837209,20.4772727 L25.9395349,20.4772727 C25.0953488,24.65 21.5651163,27.0454545 16.8837209,27.0454545 C11.3581395,27.0454545 6.90697674,22.5636364 6.90697674,17 C6.90697674,11.4363636 11.3581395,6.95454545 16.8837209,6.95454545 C19.2627907,6.95454545 21.4116279,7.80454545 23.1,9.19545455 L28.0116279,4.25 C25.0186047,1.62272727 21.1813953,0 16.8837209,0 C7.52093023,0 0,7.57272727 0,17 C0,26.4272727 7.52093023,34 16.8837209,34 C25.3255814,34 33,27.8181818 33,17 C33,15.9954545 32.8465116,14.9136364 32.6162791,13.9090909 Z"})})}const I=t((function GoogleAnalytics(){const{integrations:t}=s(),{t:I}=a(),A=n(t.orderedData,{type:o.Analytics,service:i.GoogleAnalytics}),{register:C,reset:S,handleSubmit:b,formState:G}=h({mode:"all",defaultValues:{measurementId:A?.settings.measurementId}});r.useEffect((()=>{t.fetchPage({type:o.Analytics})}),[t]),r.useEffect((()=>{S({measurementId:A?.settings.measurementId})}),[A,S]);const v=r.useCallback((async e=>{try{e.measurementId?await t.save({id:A?.id,type:o.Analytics,service:i.GoogleAnalytics,settings:{measurementId:e.measurementId}}):await(A?.delete()),c.success(I("Settings saved"))}catch(s){c.error(s.message)}}),[t,A,I]);return l(p,{title:I("Google Analytics"),icon:e(GoogleIcon,{}),children:[e(d,{children:I("Google Analytics")}),e(m,{as:"p",type:"secondary",children:e(u,{children:"Add a Google Analytics 4 measurement ID to send document views and analytics from the workspace to your own Google Analytics account."})}),l("form",{onSubmit:b(v),children:[e(f,{label:I("Measurement ID"),name:"measurementId",description:I('Create a "Web" stream in your Google Analytics admin dashboard and copy the measurement ID from the generated code snippet to install.'),border:!1,children:e(g,{placeholder:"G-XXXXXXXXX1",...C("measurementId")})}),e(y,{type:"submit",disabled:G.isSubmitting,children:G.isSubmitting?`${I("Saving")}â€¦`:I("Save")})]})]})}));export{I as default};
