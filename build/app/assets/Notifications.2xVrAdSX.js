import{o as e,a as t,ap as i,j as n,h as o,aq as c,ar as a,Z as s,r,d,H as l,am as m,A as u,e as v,F as p}from"./index.mlCxaiYE.js";import{N as h}from"./Notice.4wB6_cwE.js";import{S as f}from"./Scene.tZk0YIWv.js";import{S as w}from"./Switch.3DOmHSIs.js";import{u as b}from"./useCurrentTeam.fRZpnoZU.js";import{u as C}from"./useCurrentUser.zlImhYTS.js";import{u as I}from"./usePolicy.wYF8wJNp.js";import{S as y}from"./SettingRow.96ERny3f.js";import"./PopoverDisclosure.OO70kItq.js";const g=e((function Notifications(){const e=C(),g=b(),{t:R}=t(),j=I(g.id),E=[{event:i.PublishDocument,icon:n(o.PublishIcon,{}),title:R("Document published"),description:R("Receive a notification whenever a new document is published")},{event:i.UpdateDocument,icon:n(o.EditIcon,{}),title:R("Document updated"),description:R("Receive a notification when a document you are subscribed to is edited")},{event:i.CreateComment,icon:n(o.CommentIcon,{}),title:R("Comment posted"),description:R("Receive a notification when a document you are subscribed to or a thread you participated in receives a comment")},{event:i.MentionedInComment,icon:n(o.EmailIcon,{}),title:R("Mentioned"),description:R("Receive a notification when someone mentions you in a document or comment")},{event:i.ResolveComment,icon:n(o.DoneIcon,{}),title:R("Resolved"),description:R("Receive a notification when a comment thread you were involved in is resolved")},{event:i.CreateCollection,icon:n(o.CollectionIcon,{}),title:R("Collection created"),description:R("Receive a notification whenever a new collection is created")},{event:i.InviteAccepted,icon:n(o.UserIcon,{}),title:R("Invite accepted"),description:R("Receive a notification when someone you invited creates an account")},{event:i.AddUserToDocument,icon:n(o.DocumentIcon,{}),title:R("Invited to document"),description:R("Receive a notification when a document is shared with you")},{event:i.AddUserToCollection,icon:n(o.CollectionIcon,{}),title:R("Invited to collection"),description:R("Receive a notification when you are given access to a collection")},{event:i.ExportCompleted,icon:n(o.CheckboxIcon,{checked:!0}),title:R("Export completed"),description:R("Receive a notification when an export you requested has been completed")},{visible:c,icon:n(o.AcademicCapIcon,{}),event:i.Onboarding,title:R("Getting started"),description:R("Tips on getting started with features and functionality")},{visible:c,icon:n(o.StarredIcon,{}),event:i.Features,title:R("New features"),description:R("Receive an email when new features of note are added")}],N=a((()=>{s.success(R("Notifications saved"))}),500),D=r.useCallback((async t=>{await e.setNotificationEventType(t.target.name,t.target.checked),N()}),[e,N]),T="?success"===window.location.search;return d(f,{title:R("Notifications"),icon:n(o.EmailIcon,{}),children:[n(l,{children:R("Notifications")}),T&&n(h,{children:n(m,{children:"Unsubscription successful. Your notification settings were updated"})}),n(u,{as:"p",type:"secondary",children:n(m,{children:"Manage when and where you receive email notifications."})}),v.EMAIL_ENABLED&&j.manage&&n(h,{children:n(m,{children:"The email integration is currently disabled. Please set the associated environment variables and restart the server to enable notifications."})}),n("h2",{children:R("Notifications")}),E.map((t=>{const i=e.subscribedToEventType(t.event);return n(y,{visible:t.visible,label:d(p,{align:"center",gap:4,children:[t.icon," ",t.title]}),name:t.event,description:t.description,children:n(w,{id:t.event,name:t.event,checked:!!i,onChange:D},t.event)},t.event)}))]})}));export{g as default};
