{"version":3,"file":"Facepile.0K3TyxgD.js","sources":["../../../app/components/Facepile.tsx"],"sourcesContent":["import { observer } from \"mobx-react\";\nimport * as React from \"react\";\nimport styled from \"styled-components\";\nimport User from \"~/models/User\";\nimport { Avatar, AvatarSize } from \"~/components/Avatar\";\nimport Flex from \"~/components/Flex\";\nimport Initials from \"./Avatar/Initials\";\n\ntype Props = {\n  /** The users to display */\n  users: User[];\n  /** The size of the avatars, defaults to AvatarSize.Large */\n  size?: number;\n  /** A number to show as the number of additional users */\n  overflow?: number;\n  /** The maximum number of users to display, defaults to 8 */\n  limit?: number;\n  /** A component to render the avatar, defaults to Avatar. */\n  renderAvatar?: React.ComponentType<\n    React.ComponentProps<typeof Avatar> & {\n      model: User;\n    }\n  >;\n};\n\nfunction Facepile({\n  users,\n  overflow = 0,\n  size = AvatarSize.Large,\n  limit = 8,\n  renderAvatar = Avatar,\n  ...rest\n}: Props) {\n  const filtered = users.filter(Boolean).slice(-limit);\n  const Component = renderAvatar;\n\n  return (\n    <Avatars {...rest}>\n      {overflow > 0 && (\n        <Initials size={size} content={String(overflow)}>\n          {users.length ? \"+\" : \"\"}\n          {overflow}\n        </Initials>\n      )}\n      {filtered.map((model, index) => {\n        const lastChild = index === 0 && overflow <= 0;\n        return (\n          <Component\n            key={model.id}\n            {...{\n              model,\n              size,\n              style: {\n                marginRight: lastChild ? 0 : -4,\n                ...(lastChild || filtered.length === 1\n                  ? {}\n                  : { clipPath: `url(#${clipPathId(size)})` }),\n              },\n            }}\n          />\n        );\n      })}\n      <FacepileClip size={size} />\n    </Avatars>\n  );\n}\n\nfunction FacepileClip({ size }: { size: number }) {\n  return (\n    <SVG\n      width=\"25\"\n      height=\"28\"\n      viewBox=\"0 0 25 28\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <clipPath id={clipPathId(size)}>\n        <path\n          transform={size !== 28 ? `scale(${size / 28})` : \"\"}\n          d=\"M14.0633 0.5C18.1978 0.5 21.8994 2.34071 24.3876 5.24462C22.8709 7.81315 22.0012 10.8061 22.0012 14C22.0012 17.1939 22.8709 20.1868 24.3876 22.7554C21.8994 25.6593 18.1978 27.5 14.0633 27.5C6.57035 27.5 0.5 21.4537 0.5 14C0.5 6.54628 6.57035 0.5 14.0633 0.5Z\"\n        />\n      </clipPath>\n    </SVG>\n  );\n}\n\nfunction clipPathId(size: number) {\n  return `facepile-${size}`;\n}\n\nconst SVG = styled.svg`\n  position: absolute;\n  top: 0;\n  left: 0;\n`;\n\nconst Avatars = styled(Flex)`\n  align-items: center;\n  flex-direction: row-reverse;\n  cursor: var(--pointer);\n`;\n\nexport default observer(Facepile);\n"],"names":["FacepileClip","size","SVG","width","height","viewBox","fill","xmlns","children","jsx","id","clipPathId","transform","d","styled","svg","withConfig","componentId","Avatars","Flex","observer","Facepile","users","overflow","AvatarSize","Large","limit","renderAvatar","Avatar","rest","filtered","filter","Boolean","slice","Component","jsxs","Initials","content","String","length","map","model","index","lastChild","style","marginRight","clipPath"],"mappings":"6HAmEA,SAASA,cAAaC,KAAEA,IACtB,SACGC,EAAA,CACCC,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BAENC,SAACC,EAAA,WAAS,CAAAC,GAAIC,WAAWV,GACvBO,SAACC,EAAA,OACC,CAAAG,UAAoB,KAATX,EAAc,SAASA,EAAO,MAAQ,GACjDY,EAAE,0QAKZ,CAEA,SAASF,WAAWV,GAClB,MAAO,YAAYA,GACrB,CAEA,MAAMC,EAAMY,EAAOC,IAAGC,WAAA,CAAAC,YAAA,gBAAVH,CAIX,CAAA,oCAEKI,EAAUJ,EAAOK,GAAKH,WAAA,CAAAC,YAAA,gBAAZH,CAIf,CAAA,yEAEcM,EAAAA,GA7Ef,SAASC,UAASC,MAChBA,EAAAA,SACAC,EAAW,EAAAtB,KACXA,EAAOuB,EAAWC,MAAAA,MAClBC,EAAQ,EAAAC,aACRA,EAAeC,KACZC,IAEH,MAAMC,EAAWR,EAAMS,OAAOC,SAASC,OAAOP,GACxCQ,EAAYP,EAGhB,OAACQ,EAAAjB,EAAQ,IAAIW,EACVN,SAAAA,CAAAA,EAAW,GACTY,EAAAC,EAAA,CAASnC,OAAYoC,QAASC,OAAOf,GACnCD,SAAAA,CAAAA,EAAMiB,OAAS,IAAM,GACrBhB,KAGJO,EAASU,KAAI,CAACC,EAAOC,KACdC,MAAAA,EAAsB,IAAVD,GAAenB,GAAY,EAE3C,OAAAd,EAACyB,GAGGO,QACAxC,OACA2C,MAAO,CACLC,YAAaF,EAAY,GAAI,KACzBA,GAAiC,IAApBb,EAASS,OACtB,CAAA,EACA,CAAEO,SAAU,QAAQnC,WAAWV,SARlCwC,EAAM/B,GAWX,IAGLD,EAAAT,cAAaC,WAGpB"}