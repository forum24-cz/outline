import{o as e,a as s,u as a,a3 as i,a4 as r,r as t,a5 as d,j as n,z as m,G as o}from"./index.mlCxaiYE.js";import{A as u,a as l}from"./TeamLogo.qV1feKYB.js";import{L as c}from"./Item.dGEOVRdT.js";import{P as g}from"./Badge.sHfYRIgC.js";import{u as p}from"./useCurrentUser.zlImhYTS.js";const f=e((function DocumentViews({document:e,isOpen:f}){const{t:w}=s(),{views:j,presence:I}=a(),A=p(),D=i(A.language),v=I.get(e.id),x=v?Array.from(v.values()):[],V=x.map((e=>e.userId)),b=x.filter((e=>e.isEditing)).map((e=>e.userId)),y=j.inDocument(e.id),C=r(y,(e=>!V.includes(e.userId))),L=t.useMemo((()=>d(C.map((e=>e.user)))),[C]);return n(m,{children:f&&n(g,{"aria-label":w("Viewers"),items:L,renderItem:e=>{const s=y.find((s=>s.userId===e.id)),a=V.includes(e.id),i=b.includes(e.id),r=a?w(i?"Currently editing":"Currently viewing"):w("Viewed {{ timeAgo }}",{timeAgo:o(s?Date.parse(s.lastViewedAt):new Date,{addSuffix:!0,locale:D})});return n(c,{title:e.name,subtitle:r,image:n(u,{model:e,size:l.Large},e.id),border:!1,small:!0},e.id)}})})}));export{f as D};
