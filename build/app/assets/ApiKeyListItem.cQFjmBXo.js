import{dE as e,dF as t,dG as n,r as o,j as a,c4 as r,dH as i,dI as s,d as l,dJ as d,dK as c,dL as u,dM as f,z as p,dN as h,dO as v,dP as y,dQ as m,n as b,B as g,a as k,X as D,b as M,h as w,a3 as N,ck as P,dR as C,A as _,u as S,Z as x,F as O,I,dS as A,P as W,Q as L,o as R,T}from"./index.mlCxaiYE.js";import{g as E,C as F,M as j}from"./InputSelectPermission.lb2lIKIy.js";import{u as B}from"./useUserLocale.0OnEZJRN.js";import{d as Y,b as H,s as K,c as z,g as U,e as Z,f as $,h as q,j as G}from"./Badge.sHfYRIgC.js";import{P as V}from"./Switch.3DOmHSIs.js";import{u as Q,P as J}from"./PopoverDisclosure.OO70kItq.js";import{at as X,b as ee,O as te,C as ne}from"./DocumentContext.hhTeDqBR.js";import{C as oe,L as ae}from"./Item.dGEOVRdT.js";import{T as re}from"./Time.rp9cc_zo.js";import{u as ie}from"./useCurrentUser.zlImhYTS.js";function startOfMonth(t){const n=e(t);return n.setDate(1),n.setHours(0,0,0,0),n}function endOfWeek(n,o){const a=t(),r=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,i=e(n),s=i.getDay(),l=6+(s<r?-7:0)-(s-r);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function endOfISOWeek(e){return endOfWeek(e,{weekStartsOn:1})}function getWeeksInMonth(t,n){return Y(function lastDayOfMonth(t){const n=e(t),o=n.getMonth();return n.setFullYear(n.getFullYear(),o+1,0),n.setHours(0,0,0,0),n}(t),startOfMonth(t),n)+1}function isAfter(t,n){const o=e(t),a=e(n);return o.getTime()>a.getTime()}function isBefore(t,n){return+e(t)<+e(n)}function isSameMonth(t,n){const o=e(t),a=e(n);return o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()}function setMonth(t,o){const a=e(t),r=a.getFullYear(),i=a.getDate(),s=n(t,0);s.setFullYear(r,o,15),s.setHours(0,0,0,0);const l=function getDaysInMonth(t){const o=e(t),a=o.getFullYear(),r=o.getMonth(),i=n(t,0);return i.setFullYear(a,r+1,0),i.setHours(0,0,0,0),i.getDate()}(s);return a.setMonth(o,Math.min(i,l)),a}function setYear(t,o){const a=e(t);return isNaN(+a)?n(t,NaN):(a.setFullYear(o),a)}var __assign=function(){return __assign=Object.assign||function __assign2(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},__assign.apply(this,arguments)};function __spreadArray(e,t,n){if(n||2===arguments.length)for(var o,a=0,r=t.length;a<r;a++)!o&&a in t||(o||(o=Array.prototype.slice.call(t,0,a)),o[a]=t[a]);return e.concat(o||Array.prototype.slice.call(t))}function isDayPickerMultiple(e){return"multiple"===e.mode}function isDayPickerRange(e){return"range"===e.mode}function isDayPickerSingle(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var se={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var le=Object.freeze({__proto__:null,formatCaption:function formatCaption(e,t){return $(e,"LLLL y",t)},formatDay:function formatDay(e,t){return $(e,"d",t)},formatMonthCaption:function formatMonthCaption(e,t){return $(e,"LLLL",t)},formatWeekNumber:function formatWeekNumber(e){return"".concat(e)},formatWeekdayName:function formatWeekdayName(e,t){return $(e,"cccccc",t)},formatYearCaption:function formatYearCaption(e,t){return $(e,"yyyy",t)}}),de=Object.freeze({__proto__:null,labelDay:function(e,t,n){return $(e,"do MMMM (EEEE)",n)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return $(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}});var ce=o.createContext(void 0);function DayPickerProvider(e){var t,n,o=e.initialProps,r=function getDefaultContextValues(){return{captionLayout:"buttons",classNames:se,formatters:le,labels:de,locale:v,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"}}(),i=function parseFromToProps(e){var t=e.fromYear,n=e.toYear,o=e.fromMonth,a=e.toMonth,r=e.fromDate,i=e.toDate;return o?r=startOfMonth(o):t&&(r=new Date(t,0,1)),a?i=d(a):n&&(i=new Date(n,11,31)),{fromDate:r?c(r):void 0,toDate:i?c(i):void 0}}(o),s=i.fromDate,l=i.toDate,u=null!==(t=o.captionLayout)&&void 0!==t?t:r.captionLayout;"buttons"===u||s&&l||(u="buttons"),(isDayPickerSingle(o)||isDayPickerMultiple(o)||isDayPickerRange(o))&&(n=o.onSelect);var f=__assign(__assign(__assign({},r),o),{captionLayout:u,classNames:__assign(__assign({},r.classNames),o.classNames),components:__assign({},o.components),formatters:__assign(__assign({},r.formatters),o.formatters),fromDate:s,labels:__assign(__assign({},r.labels),o.labels),mode:o.mode||r.mode,modifiers:__assign(__assign({},r.modifiers),o.modifiers),modifiersClassNames:__assign(__assign({},r.modifiersClassNames),o.modifiersClassNames),onSelect:n,styles:__assign(__assign({},r.styles),o.styles),toDate:l});return a(ce.Provider,{value:f,children:e.children})}function useDayPicker(){var e=o.useContext(ce);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CaptionLabel(e){var t=useDayPicker(),n=t.locale,o=t.classNames,r=t.styles,i=t.formatters.formatCaption;return a("div",{className:o.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function IconDropdown(e){return a("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:a("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dropdown(e){var t,n,o=e.onChange,r=e.value,i=e.children,s=e.caption,d=e.className,c=e.style,u=useDayPicker(),f=null!==(n=null===(t=u.components)||void 0===t?void 0:t.IconDropdown)&&void 0!==n?n:IconDropdown;return l("div",{className:d,style:c,children:[a("span",{className:u.classNames.vhidden,children:e["aria-label"]}),a("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:r,onChange:o,children:i}),l("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,a(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function MonthsDropdown(t){var n,o=useDayPicker(),r=o.fromDate,i=o.toDate,s=o.styles,l=o.locale,d=o.formatters.formatMonthCaption,c=o.classNames,u=o.components,f=o.labels.labelMonthDropdown;if(!r)return a(p,{});if(!i)return a(p,{});var h=[];if(function isSameYear(t,n){const o=e(t),a=e(n);return o.getFullYear()===a.getFullYear()}(r,i))for(var v=startOfMonth(r),y=r.getMonth();y<=i.getMonth();y++)h.push(setMonth(v,y));else for(v=startOfMonth(new Date),y=0;y<=11;y++)h.push(setMonth(v,y));var m=null!==(n=null==u?void 0:u.Dropdown)&&void 0!==n?n:Dropdown;return a(m,{name:"months","aria-label":f(),className:c.dropdown_month,style:s.dropdown_month,onChange:function(e){var n=Number(e.target.value),o=setMonth(startOfMonth(t.displayMonth),n);t.onChange(o)},value:t.displayMonth.getMonth(),caption:d(t.displayMonth,{locale:l}),children:h.map((function(e){return a("option",{value:e.getMonth(),children:d(e,{locale:l})},e.getMonth())}))})}function YearsDropdown(e){var t,n=e.displayMonth,o=useDayPicker(),r=o.fromDate,i=o.toDate,s=o.locale,l=o.styles,d=o.classNames,c=o.components,u=o.formatters.formatYearCaption,f=o.labels.labelYearDropdown,h=[];if(!r)return a(p,{});if(!i)return a(p,{});for(var v=r.getFullYear(),y=i.getFullYear(),m=v;m<=y;m++)h.push(setYear(K(new Date),m));var b=null!==(t=null==c?void 0:c.Dropdown)&&void 0!==t?t:Dropdown;return a(b,{name:"years","aria-label":f(),className:d.dropdown_year,style:l.dropdown_year,onChange:function(t){var o=setYear(startOfMonth(n),Number(t.target.value));e.onChange(o)},value:n.getFullYear(),caption:u(n,{locale:s}),children:h.map((function(e){return a("option",{value:e.getFullYear(),children:u(e,{locale:s})},e.getFullYear())}))})}function useNavigationState(){var e=useDayPicker(),t=function getInitialMonth(e){var t=e.month,n=e.defaultMonth,o=e.today,a=t||n||o||new Date,r=e.toDate,i=e.fromDate,s=e.numberOfMonths,l=void 0===s?1:s;return r&&f(r,a)<0&&(a=u(r,-1*(l-1))),i&&f(a,i)<0&&(a=i),startOfMonth(a)}(e),n=function useControlledValue(e,t){var n=o.useState(e),a=n[0];return[void 0===t?a:t,n[1]]}(t,e.month),a=n[0],r=n[1];return[a,function(t){var n;if(!e.disableNavigation){var o=startOfMonth(t);r(o),null===(n=e.onMonthChange)||void 0===n||n.call(e,o)}}]}var ue=o.createContext(void 0);function NavigationProvider(e){var t=useDayPicker(),n=useNavigationState(),o=n[0],r=n[1],i=function getDisplayMonths(e,t){for(var n=t.reverseMonths,o=t.numberOfMonths,a=startOfMonth(e),r=startOfMonth(u(a,o)),i=f(r,a),s=[],l=0;l<i;l++){var d=u(a,l);s.push(d)}return n&&(s=s.reverse()),s}(o,t),s=function getNextMonth(e,t){if(!t.disableNavigation){var n=t.toDate,o=t.pagedNavigation,a=t.numberOfMonths,r=void 0===a?1:a,i=o?r:1,s=startOfMonth(e);if(!n)return u(s,i);if(!(f(n,e)<r))return u(s,i)}}(o,t),l=function getPreviousMonth(e,t){if(!t.disableNavigation){var n=t.fromDate,o=t.pagedNavigation,a=t.numberOfMonths,r=o?void 0===a?1:a:1,i=startOfMonth(e);if(!n)return u(i,-r);if(!(f(i,n)<=0))return u(i,-r)}}(o,t),isDateDisplayed=function(e){return i.some((function(t){return isSameMonth(e,t)}))},d={currentMonth:o,displayMonths:i,goToMonth:r,goToDate:function(e,n){isDateDisplayed(e)||(n&&isBefore(e,n)?r(u(e,1+-1*t.numberOfMonths)):r(e))},previousMonth:l,nextMonth:s,isDateDisplayed:isDateDisplayed};return a(ue.Provider,{value:d,children:e.children})}function useNavigation(){var e=o.useContext(ue);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function CaptionDropdowns(e){var t,n=useDayPicker(),o=n.classNames,r=n.styles,i=n.components,s=useNavigation().goToMonth,handleMonthChange=function(t){s(u(t,e.displayIndex?-e.displayIndex:0))},d=null!==(t=null==i?void 0:i.CaptionLabel)&&void 0!==t?t:CaptionLabel,c=a(d,{id:e.id,displayMonth:e.displayMonth});return l("div",{className:o.caption_dropdowns,style:r.caption_dropdowns,children:[a("div",{className:o.vhidden,children:c}),a(MonthsDropdown,{onChange:handleMonthChange,displayMonth:e.displayMonth}),a(YearsDropdown,{onChange:handleMonthChange,displayMonth:e.displayMonth})]})}function IconLeft(e){return a("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IconRight(e){return a("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:a("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var fe=o.forwardRef((function(e,t){var n=useDayPicker(),o=n.classNames,r=n.styles,i=[o.button_reset,o.button];e.className&&i.push(e.className);var s=i.join(" "),l=__assign(__assign({},r.button_reset),r.button);return e.style&&Object.assign(l,e.style),a("button",__assign({},e,{ref:t,type:"button",className:s,style:l}))}));function Navigation(e){var t,n,o=useDayPicker(),r=o.dir,i=o.locale,s=o.classNames,d=o.styles,c=o.labels,u=c.labelPrevious,f=c.labelNext,h=o.components;if(!e.nextMonth&&!e.previousMonth)return a(p,{});var v=u(e.previousMonth,{locale:i}),y=[s.nav_button,s.nav_button_previous].join(" "),m=f(e.nextMonth,{locale:i}),b=[s.nav_button,s.nav_button_next].join(" "),g=null!==(t=null==h?void 0:h.IconRight)&&void 0!==t?t:IconRight,k=null!==(n=null==h?void 0:h.IconLeft)&&void 0!==n?n:IconLeft;return l("div",{className:s.nav,style:d.nav,children:[!e.hidePrevious&&a(fe,{name:"previous-month","aria-label":v,className:y,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a("rtl"===r?g:k,{className:s.nav_icon,style:d.nav_icon})}),!e.hideNext&&a(fe,{name:"next-month","aria-label":m,className:b,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a("rtl"===r?k:g,{className:s.nav_icon,style:d.nav_icon})})]})}function CaptionNavigation(e){var t=useDayPicker().numberOfMonths,n=useNavigation(),o=n.previousMonth,r=n.nextMonth,i=n.goToMonth,s=n.displayMonths,l=s.findIndex((function(t){return isSameMonth(e.displayMonth,t)})),d=0===l,c=l===s.length-1,u=t>1&&(d||!c),f=t>1&&(c||!d);return a(Navigation,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:r,previousMonth:o,onPreviousClick:function(){o&&i(o)},onNextClick:function(){r&&i(r)}})}function Caption(e){var t,n,o=useDayPicker(),r=o.classNames,i=o.disableNavigation,s=o.styles,d=o.captionLayout,c=o.components,u=null!==(t=null==c?void 0:c.CaptionLabel)&&void 0!==t?t:CaptionLabel;return n=i?a(u,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===d?a(CaptionDropdowns,{displayMonth:e.displayMonth,id:e.id}):l(p,"dropdown-buttons"===d?{children:[a(CaptionDropdowns,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),a(CaptionNavigation,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}:{children:[a(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a(CaptionNavigation,{displayMonth:e.displayMonth,id:e.id})]}),a("div",{className:r.caption,style:s.caption,children:n})}function Footer(e){var t=useDayPicker(),n=t.footer,o=t.styles,r=t.classNames.tfoot;return n?a("tfoot",{className:r,style:o.tfoot,children:a("tr",{children:a("td",{colSpan:8,children:n})})}):a(p,{})}function HeadRow(){var e=useDayPicker(),t=e.classNames,n=e.styles,o=e.showWeekNumber,r=e.locale,s=e.weekStartsOn,d=e.ISOWeek,c=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,f=function getWeekdays(e,t,n){for(var o=n?z(new Date):y(new Date,{locale:e,weekStartsOn:t}),a=[],r=0;r<7;r++){var s=i(o,r);a.push(s)}return a}(r,s,d);return l("tr",{style:n.head_row,className:t.head_row,children:[o&&a("td",{style:n.head_cell,className:t.head_cell}),f.map((function(e,o){return a("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":u(e,{locale:r}),children:c(e,{locale:r})},o)}))]})}function Head(){var e,t=useDayPicker(),n=t.classNames,o=t.styles,r=t.components,i=null!==(e=null==r?void 0:r.HeadRow)&&void 0!==e?e:HeadRow;return a("thead",{style:o.head,className:n.head,children:a(i,{})})}function DayContent(e){var t=useDayPicker(),n=t.locale,o=t.formatters.formatDay;return a(p,{children:o(e.date,{locale:n})})}var pe=o.createContext(void 0);function SelectMultipleProvider(e){if(!isDayPickerMultiple(e.initialProps)){return a(pe.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}return a(SelectMultipleProviderInternal,{initialProps:e.initialProps,children:e.children})}function SelectMultipleProviderInternal(e){var t=e.initialProps,n=e.children,o=t.selected,r=t.min,i=t.max,s={disabled:[]};o&&s.disabled.push((function(e){var t=i&&o.length>i-1,n=o.some((function(t){return H(t,e)}));return Boolean(t&&!n)}));var l={selected:o,onDayClick:function(e,n,a){var s,l;if((null===(s=t.onDayClick)||void 0===s||s.call(t,e,n,a),!Boolean(n.selected&&r&&(null==o?void 0:o.length)===r))&&!Boolean(!n.selected&&i&&(null==o?void 0:o.length)===i)){var d=o?__spreadArray([],o,!0):[];if(n.selected){var c=d.findIndex((function(t){return H(e,t)}));d.splice(c,1)}else d.push(e);null===(l=t.onSelect)||void 0===l||l.call(t,d,e,n,a)}},modifiers:s};return a(pe.Provider,{value:l,children:n})}function useSelectMultiple(){var e=o.useContext(pe);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var he,ve,ye=o.createContext(void 0);function SelectRangeProvider(e){if(!isDayPickerRange(e.initialProps)){return a(ye.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}return a(SelectRangeProviderInternal,{initialProps:e.initialProps,children:e.children})}function SelectRangeProviderInternal(e){var t=e.initialProps,n=e.children,o=t.selected,l=o||{},d=l.from,c=l.to,u=t.min,f=t.max,p={range_start:[],range_end:[],range_middle:[],disabled:[]};if(d?(p.range_start=[d],c?(p.range_end=[c],H(d,c)||(p.range_middle=[{after:d,before:c}])):p.range_end=[d]):c&&(p.range_start=[c],p.range_end=[c]),u&&(d&&!c&&p.disabled.push({after:r(d,u-1),before:i(d,u-1)}),d&&c&&p.disabled.push({after:d,before:i(d,u-1)}),!d&&c&&p.disabled.push({after:r(c,u-1),before:i(c,u-1)})),f){if(d&&!c&&(p.disabled.push({before:i(d,1-f)}),p.disabled.push({after:i(d,f-1)})),d&&c){var h=f-(s(c,d)+1);p.disabled.push({before:r(d,h)}),p.disabled.push({after:i(c,h)})}!d&&c&&(p.disabled.push({before:i(c,1-f)}),p.disabled.push({after:i(c,f-1)}))}return a(ye.Provider,{value:{selected:o,onDayClick:function(e,n,a){var r,i;null===(r=t.onDayClick)||void 0===r||r.call(t,e,n,a);var s=function addToRange(e,t){var n=t||{},o=n.from,a=n.to;if(o&&a){if(H(a,e)&&H(o,e))return;if(H(a,e))return{from:a,to:void 0};if(H(o,e))return;return isAfter(o,e)?{from:e,to:a}:{from:o,to:e}}return a?isAfter(e,a)?{from:a,to:e}:{from:e,to:a}:o?isBefore(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}(e,o);null===(i=t.onSelect)||void 0===i||i.call(t,s,e,n,a)},modifiers:p},children:n})}function useSelectRange(){var e=o.useContext(ye);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function matcherToArray(e){return Array.isArray(e)?__spreadArray([],e,!0):void 0!==e?[e]:[]}(ve=he||(he={})).Outside="outside",ve.Disabled="disabled",ve.Selected="selected",ve.Hidden="hidden",ve.Today="today",ve.RangeStart="range_start",ve.RangeEnd="range_end",ve.RangeMiddle="range_middle";var me=he.Selected,be=he.Disabled,ge=he.Hidden,ke=he.Today,De=he.RangeEnd,Me=he.RangeMiddle,we=he.RangeStart,Ne=he.Outside;var Pe=o.createContext(void 0);function ModifiersProvider(e){var t=useDayPicker(),n=function getInternalModifiers(e,t,n){var o,a=((o={})[me]=matcherToArray(e.selected),o[be]=matcherToArray(e.disabled),o[ge]=matcherToArray(e.hidden),o[ke]=[e.today],o[De]=[],o[Me]=[],o[we]=[],o[Ne]=[],o);return e.fromDate&&a[be].push({before:e.fromDate}),e.toDate&&a[be].push({after:e.toDate}),isDayPickerMultiple(e)?a[be]=a[be].concat(t.modifiers[be]):isDayPickerRange(e)&&(a[be]=a[be].concat(n.modifiers[be]),a[we]=n.modifiers[we],a[Me]=n.modifiers[Me],a[De]=n.modifiers[De]),a}(t,useSelectMultiple(),useSelectRange()),o=function getCustomModifiers(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],o=e[1];t[n]=matcherToArray(o)})),t}(t.modifiers),r=__assign(__assign({},n),o);return a(Pe.Provider,{value:r,children:e.children})}function useModifiers(){var e=o.useContext(Pe);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function isMatch(e,t){return t.some((function(t){if("boolean"==typeof t)return t;if(function isDateType(e){return q(e)}(t))return H(e,t);if(function isArrayOfDates(e){return Array.isArray(e)&&e.every(q)}(t))return t.includes(e);if(function isDateRange(e){return Boolean(e&&"object"==typeof e&&"from"in e)}(t))return function isDateInRange(e,t){var n,o=t.from,a=t.to;return o&&a?(s(a,o)<0&&(o=(n=[a,o])[0],a=n[1]),s(e,o)>=0&&s(a,e)>=0):a?H(a,e):!!o&&H(o,e)}(e,t);if(function isDayOfWeekType(e){return Boolean(e&&"object"==typeof e&&"dayOfWeek"in e)}(t))return t.dayOfWeek.includes(e.getDay());if(function isDateInterval(e){return Boolean(e&&"object"==typeof e&&"before"in e&&"after"in e)}(t)){var n=s(t.before,e)>0,o=s(t.after,e)<0;return isAfter(t.before,t.after)?o&&n:n||o}return function isDateAfterType(e){return Boolean(e&&"object"==typeof e&&"after"in e)}(t)?s(e,t.after)>0:function isDateBeforeType(e){return Boolean(e&&"object"==typeof e&&"before"in e)}(t)?s(t.before,e)>0:"function"==typeof t&&t(e)}))}function getActiveModifiers(e,t,n){var o=Object.keys(t).reduce((function(n,o){var a=t[o];return isMatch(e,a)&&n.push(o),n}),[]),a={};return o.forEach((function(e){return a[e]=!0})),n&&!isSameMonth(e,n)&&(a.outside=!0),a}function getNextFocus(t,n){var o=n.moveBy,a=n.direction,r=n.context,s=n.modifiers,l=n.retry,d=void 0===l?{count:0,lastFocused:t}:l,c=r.weekStartsOn,f=r.fromDate,p=r.toDate,v=r.locale,b={day:i,week:h,month:u,year:m,startOfWeek:function(e){return r.ISOWeek?z(e):y(e,{locale:v,weekStartsOn:c})},endOfWeek:function(e){return r.ISOWeek?endOfISOWeek(e):endOfWeek(e,{locale:v,weekStartsOn:c})}}[o](t,"after"===a?1:-1);"before"===a&&f?b=function max(t){let n;return t.forEach((function(t){const o=e(t);(void 0===n||n<o||isNaN(Number(o)))&&(n=o)})),n||new Date(NaN)}([f,b]):"after"===a&&p&&(b=function min(t){let n;return t.forEach((t=>{const o=e(t);(!n||n>o||isNaN(+o))&&(n=o)})),n||new Date(NaN)}([p,b]));var g=!0;if(s){var k=getActiveModifiers(b,s);g=!k.disabled&&!k.hidden}return g?b:d.count>365?d.lastFocused:getNextFocus(b,{moveBy:o,direction:a,context:r,modifiers:s,retry:__assign(__assign({},d),{count:d.count+1})})}var Ce=o.createContext(void 0);function FocusProvider(e){var t=useNavigation(),n=useModifiers(),r=o.useState(),s=r[0],l=r[1],c=o.useState(),u=c[0],f=c[1],p=function getInitialFocusTarget(e,t){for(var n,o,a=startOfMonth(e[0]),r=d(e[e.length-1]),s=a;s<=r;){var l=getActiveModifiers(s,t);if(l.disabled||l.hidden)s=i(s,1);else{if(l.selected)return s;l.today&&!o&&(o=s),n||(n=s),s=i(s,1)}}return o||n}(t.displayMonths,n),h=(null!=s?s:u&&t.isDateDisplayed(u))?u:p,focus=function(e){l(e)},v=useDayPicker(),moveFocus=function(e,o){if(s){var a=getNextFocus(s,{moveBy:e,direction:o,context:v,modifiers:n});H(s,a)||(t.goToDate(a,s),focus(a))}},y={focusedDay:s,focusTarget:h,blur:function(){f(s),l(void 0)},focus:focus,focusDayAfter:function(){return moveFocus("day","after")},focusDayBefore:function(){return moveFocus("day","before")},focusWeekAfter:function(){return moveFocus("week","after")},focusWeekBefore:function(){return moveFocus("week","before")},focusMonthBefore:function(){return moveFocus("month","before")},focusMonthAfter:function(){return moveFocus("month","after")},focusYearBefore:function(){return moveFocus("year","before")},focusYearAfter:function(){return moveFocus("year","after")},focusStartOfWeek:function(){return moveFocus("startOfWeek","before")},focusEndOfWeek:function(){return moveFocus("endOfWeek","after")}};return a(Ce.Provider,{value:y,children:e.children})}function useFocusContext(){var e=o.useContext(Ce);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}var _e=o.createContext(void 0);function SelectSingleProvider(e){if(!isDayPickerSingle(e.initialProps)){return a(_e.Provider,{value:{selected:void 0},children:e.children})}return a(SelectSingleProviderInternal,{initialProps:e.initialProps,children:e.children})}function SelectSingleProviderInternal(e){var t=e.initialProps,n=e.children,o={selected:t.selected,onDayClick:function(e,n,o){var a,r,i;null===(a=t.onDayClick)||void 0===a||a.call(t,e,n,o),!n.selected||t.required?null===(i=t.onSelect)||void 0===i||i.call(t,e,e,n,o):null===(r=t.onSelect)||void 0===r||r.call(t,void 0,e,n,o)}};return a(_e.Provider,{value:o,children:n})}function useSelectSingle(){var e=o.useContext(_e);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function getDayClassNames(e,t){var n=[e.classNames.day];return Object.keys(t).forEach((function(t){var o=e.modifiersClassNames[t];if(o)n.push(o);else if(function isInternalModifier(e){return Object.values(he).includes(e)}(t)){var a=e.classNames["day_".concat(t)];a&&n.push(a)}})),n}function useDayRender(e,t,n){var r,i,s,l=useDayPicker(),d=useFocusContext(),c=function useActiveModifiers(e,t){return getActiveModifiers(e,useModifiers(),t)}(e,t),u=function useDayEventHandlers(e,t){var n=useDayPicker(),o=useSelectSingle(),a=useSelectMultiple(),r=useSelectRange(),i=useFocusContext(),s=i.focusDayAfter,l=i.focusDayBefore,d=i.focusWeekAfter,c=i.focusWeekBefore,u=i.blur,f=i.focus,p=i.focusMonthBefore,h=i.focusMonthAfter,v=i.focusYearBefore,y=i.focusYearAfter,m=i.focusStartOfWeek,b=i.focusEndOfWeek;return{onClick:function(i){var s,l,d,c;isDayPickerSingle(n)?null===(s=o.onDayClick)||void 0===s||s.call(o,e,t,i):isDayPickerMultiple(n)?null===(l=a.onDayClick)||void 0===l||l.call(a,e,t,i):isDayPickerRange(n)?null===(d=r.onDayClick)||void 0===d||d.call(r,e,t,i):null===(c=n.onDayClick)||void 0===c||c.call(n,e,t,i)},onFocus:function(o){var a;f(e),null===(a=n.onDayFocus)||void 0===a||a.call(n,e,t,o)},onBlur:function(o){var a;u(),null===(a=n.onDayBlur)||void 0===a||a.call(n,e,t,o)},onKeyDown:function(o){var a;switch(o.key){case"ArrowLeft":o.preventDefault(),o.stopPropagation(),"rtl"===n.dir?s():l();break;case"ArrowRight":o.preventDefault(),o.stopPropagation(),"rtl"===n.dir?l():s();break;case"ArrowDown":o.preventDefault(),o.stopPropagation(),d();break;case"ArrowUp":o.preventDefault(),o.stopPropagation(),c();break;case"PageUp":o.preventDefault(),o.stopPropagation(),o.shiftKey?v():p();break;case"PageDown":o.preventDefault(),o.stopPropagation(),o.shiftKey?y():h();break;case"Home":o.preventDefault(),o.stopPropagation(),m();break;case"End":o.preventDefault(),o.stopPropagation(),b()}null===(a=n.onDayKeyDown)||void 0===a||a.call(n,e,t,o)},onKeyUp:function(o){var a;null===(a=n.onDayKeyUp)||void 0===a||a.call(n,e,t,o)},onMouseEnter:function(o){var a;null===(a=n.onDayMouseEnter)||void 0===a||a.call(n,e,t,o)},onMouseLeave:function(o){var a;null===(a=n.onDayMouseLeave)||void 0===a||a.call(n,e,t,o)},onPointerEnter:function(o){var a;null===(a=n.onDayPointerEnter)||void 0===a||a.call(n,e,t,o)},onPointerLeave:function(o){var a;null===(a=n.onDayPointerLeave)||void 0===a||a.call(n,e,t,o)},onTouchCancel:function(o){var a;null===(a=n.onDayTouchCancel)||void 0===a||a.call(n,e,t,o)},onTouchEnd:function(o){var a;null===(a=n.onDayTouchEnd)||void 0===a||a.call(n,e,t,o)},onTouchMove:function(o){var a;null===(a=n.onDayTouchMove)||void 0===a||a.call(n,e,t,o)},onTouchStart:function(o){var a;null===(a=n.onDayTouchStart)||void 0===a||a.call(n,e,t,o)}}}(e,c),f=function useSelectedDays(){var e=useDayPicker(),t=useSelectSingle(),n=useSelectMultiple(),o=useSelectRange();return isDayPickerSingle(e)?t.selected:isDayPickerMultiple(e)?n.selected:isDayPickerRange(e)?o.selected:void 0}(),p=Boolean(l.onDayClick||"default"!==l.mode);o.useEffect((function(){var t;c.outside||d.focusedDay&&p&&H(d.focusedDay,e)&&(null===(t=n.current)||void 0===t||t.focus())}),[d.focusedDay,e,n,p,c.outside]);var h=getDayClassNames(l,c).join(" "),v=function getDayStyle(e,t){var n=__assign({},e.styles.day);return Object.keys(t).forEach((function(t){var o;n=__assign(__assign({},n),null===(o=e.modifiersStyles)||void 0===o?void 0:o[t])})),n}(l,c),y=Boolean(c.outside&&!l.showOutsideDays||c.hidden),m=null!==(s=null===(i=l.components)||void 0===i?void 0:i.DayContent)&&void 0!==s?s:DayContent,b={style:v,className:h,children:a(m,{date:e,displayMonth:t,activeModifiers:c}),role:"gridcell"},g=d.focusTarget&&H(d.focusTarget,e)&&!c.outside,k=d.focusedDay&&H(d.focusedDay,e),D=__assign(__assign(__assign({},b),((r={disabled:c.disabled,role:"gridcell"})["aria-selected"]=c.selected,r.tabIndex=k||g?0:-1,r)),u);return{isButton:p,isHidden:y,activeModifiers:c,selectedDays:f,buttonProps:D,divProps:b}}function Day(e){var t=o.useRef(null),n=useDayRender(e.date,e.displayMonth,t);return n.isHidden?a("div",{role:"gridcell"}):n.isButton?a(fe,__assign({name:"day",ref:t},n.buttonProps)):a("div",__assign({},n.divProps))}function WeekNumber(e){var t=e.number,n=e.dates,o=useDayPicker(),r=o.onWeekNumberClick,i=o.styles,s=o.classNames,l=o.locale,d=o.labels.labelWeekNumber,c=(0,o.formatters.formatWeekNumber)(Number(t),{locale:l});if(!r)return a("span",{className:s.weeknumber,style:i.weeknumber,children:c});var u=d(Number(t),{locale:l});return a(fe,{name:"week-number","aria-label":u,className:s.weeknumber,style:i.weeknumber,onClick:function(e){r(t,n,e)},children:c})}function Row(t){var n,o,r,i=useDayPicker(),s=i.styles,d=i.classNames,c=i.showWeekNumber,u=i.components,f=null!==(n=null==u?void 0:u.Day)&&void 0!==n?n:Day,p=null!==(o=null==u?void 0:u.WeekNumber)&&void 0!==o?o:WeekNumber;return c&&(r=a("td",{className:d.cell,style:s.cell,children:a(p,{number:t.weekNumber,dates:t.dates})})),l("tr",{className:d.row,style:s.row,children:[r,t.dates.map((function(n){return a("td",{className:d.cell,style:s.cell,role:"presentation",children:a(f,{displayMonth:t.displayMonth,date:n})},function getUnixTime(t){return Math.trunc(+e(t)/1e3)}(n))}))]})}function daysToMonthWeeks(e,t,n){for(var o=(null==n?void 0:n.ISOWeek)?endOfISOWeek(t):endOfWeek(t,n),a=(null==n?void 0:n.ISOWeek)?z(e):y(e,n),r=s(o,a),l=[],d=0;d<=r;d++)l.push(i(a,d));return l.reduce((function(e,t){var o=(null==n?void 0:n.ISOWeek)?U(t):Z(t,n),a=e.find((function(e){return e.weekNumber===o}));return a?(a.dates.push(t),e):(e.push({weekNumber:o,dates:[t]}),e)}),[])}function Table(e){var t,n,o,r=useDayPicker(),i=r.locale,s=r.classNames,c=r.styles,u=r.hideHead,f=r.fixedWeeks,p=r.components,v=r.weekStartsOn,y=r.firstWeekContainsDate,m=r.ISOWeek,b=function getMonthWeeks(e,t){var n=daysToMonthWeeks(startOfMonth(e),d(e),t);if(null==t?void 0:t.useFixedWeeks){var o=getWeeksInMonth(e,t);if(o<6){var a=n[n.length-1],r=a.dates[a.dates.length-1],i=h(r,6-o),s=daysToMonthWeeks(h(r,1),i,t);n.push.apply(n,s)}}return n}(e.displayMonth,{useFixedWeeks:Boolean(f),ISOWeek:m,locale:i,weekStartsOn:v,firstWeekContainsDate:y}),g=null!==(t=null==p?void 0:p.Head)&&void 0!==t?t:Head,k=null!==(n=null==p?void 0:p.Row)&&void 0!==n?n:Row,D=null!==(o=null==p?void 0:p.Footer)&&void 0!==o?o:Footer;return l("table",{id:e.id,className:s.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&a(g,{}),a("tbody",{className:s.tbody,style:c.tbody,children:b.map((function(t){return a(k,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)}))}),a(D,{displayMonth:e.displayMonth})]})}var Se=function canUseDOM(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}()?o.useLayoutEffect:o.useEffect,xe=!1,Oe=0;function genId(){return"react-day-picker-".concat(++Oe)}function Month(e){var t,n,r=useDayPicker(),i=r.dir,s=r.classNames,d=r.styles,c=r.components,u=useNavigation().displayMonths,f=function useId(e){var t,n=null!=e?e:xe?genId():null,a=o.useState(n),r=a[0],i=a[1];return Se((function(){null===r&&i(genId())}),[]),o.useEffect((function(){!1===xe&&(xe=!0)}),[]),null!==(t=null!=e?e:r)&&void 0!==t?t:void 0}(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),p=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[s.month],v=d.month,y=0===e.displayIndex,m=e.displayIndex===u.length-1,b=!y&&!m;"rtl"===i&&(m=(t=[y,m])[0],y=t[1]),y&&(h.push(s.caption_start),v=__assign(__assign({},v),d.caption_start)),m&&(h.push(s.caption_end),v=__assign(__assign({},v),d.caption_end)),b&&(h.push(s.caption_between),v=__assign(__assign({},v),d.caption_between));var g=null!==(n=null==c?void 0:c.Caption)&&void 0!==n?n:Caption;return l("div",{className:h.join(" "),style:v,children:[a(g,{id:f,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),a(Table,{id:p,"aria-labelledby":f,displayMonth:e.displayMonth})]},e.displayIndex)}function Months(e){var t=useDayPicker(),n=t.classNames,o=t.styles;return a("div",{className:n.months,style:o.months,children:e.children})}function Root(e){var t,n,r=e.initialProps,i=useDayPicker(),s=useFocusContext(),l=useNavigation(),d=o.useState(!1),c=d[0],u=d[1];o.useEffect((function(){i.initialFocus&&s.focusTarget&&(c||(s.focus(s.focusTarget),u(!0)))}),[i.initialFocus,c,s.focus,s.focusTarget,s]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var p=__assign(__assign({},i.styles.root),i.style),h=Object.keys(r).filter((function(e){return e.startsWith("data-")})).reduce((function(e,t){var n;return __assign(__assign({},e),((n={})[t]=r[t],n))}),{}),v=null!==(n=null===(t=r.components)||void 0===t?void 0:t.Months)&&void 0!==n?n:Months;return a("div",__assign({className:f.join(" "),style:p,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:a(v,{children:l.displayMonths.map((function(e,t){return a(Month,{displayIndex:t,displayMonth:e},t)}))})}))}function RootProvider(e){var t=e.children,n=function __rest(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["children"]);return a(DayPickerProvider,{initialProps:n,children:a(NavigationProvider,{children:a(SelectSingleProvider,{initialProps:n,children:a(SelectMultipleProvider,{initialProps:n,children:a(SelectRangeProvider,{initialProps:n,children:a(ModifiersProvider,{children:a(FocusProvider,{children:t})})})})})})})}function DayPicker(e){return a(RootProvider,__assign({},e,{children:a(Root,{initialProps:e})}))}const ExpiryDatePicker=({selectedDate:e,onSelect:t})=>{const{t:n}=k(),o=D(),r=B(),i=N(r),s=Q({gutter:0,placement:"right"}),d=M.useRef(null),c=M.useMemo((()=>({"--rdp-caption-font-size":"16px","--rdp-cell-size":"34px","--rdp-selected-text":o.accentText,"--rdp-accent-color":o.accent,"--rdp-accent-color-dark":o.accent,"--rdp-background-color":o.listItemHoverBackground,"--rdp-background-color-dark":o.listItemHoverBackground})),[o]),u=M.useCallback((e=>{s.hide(),t(e)}),[s,t]);return l(p,{children:[a(J,{...s,children:t=>a(Ie,{...t,icon:a(Icon,{}),neutral:!0,children:e?$(e,"MMM dd, yyyy",{locale:i}):n("Choose a date")})}),a(V,{...s,ref:d,width:280,shrink:!0,"aria-label":n("Choose a date"),children:a(DayPicker,{required:!0,mode:"single",selected:e,onSelect:u,style:c,disabled:{before:new Date}})})]})},Icon=()=>a(Ae,{children:a(w.CalendarIcon,{})}),Ie=b(g).withConfig({componentId:"sc-1oip2bk-0"})(["margin-top:12px;width:150px;"]),Ae=b.span.withConfig({componentId:"sc-1oip2bk-1"})(["display:flex;justify-content:center;align-items:center;width:24px;height:24px;"]);var We=(e=>(e.Week="7 days",e.Month="30 days",e.TwoMonths="60 days",e.ThreeMonths="90 days",e.Custom="Custom",e.NoExpiration="No expiration",e))(We||{});const Le=new Map([["7 days",{label:P.t("7 days"),value:7}],["30 days",{label:P.t("30 days"),value:30}],["60 days",{label:P.t("60 days"),value:60}],["90 days",{label:P.t("90 days"),value:90}],["Custom",{label:P.t("Custom")}],["No expiration",{label:P.t("No expiration")}]]),calculateExpiryDate=(e,t)=>{const n=Le.get(t)?.value;if(!n)return;const o=i(e,n);return C(o)};function ApiKeyNew({onSubmit:e}){const[t,n]=o.useState(""),[r,i]=o.useState(""),[s,d]=o.useState(We.Week),c=o.useRef(new Date),[u,f]=o.useState((()=>calculateExpiryDate(c.current,s))),[p,h]=o.useState(!1),{apiKeys:v}=S(),{t:y}=k(),m=B(),b=p||!t||!u&&s!==We.NoExpiration,D=o.useMemo((()=>[...Le.entries()].map((([e,{label:t}])=>({label:t,value:e})))),[]),M=o.useCallback((e=>{n(e.target.value)}),[]),w=o.useCallback((e=>{i(e.target.value)}),[]),N=o.useCallback((e=>{const t=e;d(t),f(calculateExpiryDate(c.current,t))}),[]),P=o.useCallback((e=>{f(C(e))}),[]),W=o.useCallback((async n=>{n.preventDefault(),h(!0);try{await v.create({name:t,expiresAt:u?.toISOString(),scope:r?r.split(" "):void 0}),x.success(y("API key created. Please copy the value now as it will not be shown again.")),e()}catch(o){x.error(o.message)}finally{h(!1)}}),[y,t,r,u,e,v]);return l("form",{onSubmit:W,children:[l(O,{column:!0,children:[a(I,{type:"text",label:y("Name"),placeholder:y("Development"),onChange:M,value:t,minLength:A.minNameLength,maxLength:A.maxNameLength,required:!0,autoFocus:!0,flex:!0}),a(I,{type:"text",label:y("Scopes"),placeholder:"documents.info",onChange:w,value:r,flex:!0}),l(_,{type:"secondary",size:"small",as:"p",children:[y("Space-separated scopes restrict the access of this API key to specific parts of the API. Leave blank for full access"),"."]}),l(O,{align:"center",gap:16,children:[a(Re,{ariaLabel:y("Expiration"),label:y("Expiration"),value:s,options:D,onChange:N,skipBodyScroll:!0}),s===We.Custom?a(ExpiryDatePicker,{selectedDate:u,onSelect:P}):a(Te,{type:"secondary",size:"small",children:u?`${G(u.toString(),y,m)}.`:`${y("Never expires")}.`})]})]}),a(O,{justify:"flex-end",children:a(g,{type:"submit",disabled:b,children:p?`${y("Creating")}…`:y("Create")})})]})}const Re=b(E).withConfig({componentId:"sc-fb97ln-0"})(["width:150px;"]),Te=b(_).withConfig({componentId:"sc-fb97ln-1"})(["position:relative;top:4px;"]),Ee=W({name:({t:e})=>e("New API key"),analyticsName:"New API key",section:X,icon:a(w.PlusIcon,{}),keywords:"create",visible:()=>L.policies.abilities(L.auth.team?.id||"").createApiKey,perform:({t:e,event:t})=>{t?.preventDefault(),t?.stopPropagation(),L.dialogs.openModal({title:e("New API key"),content:a(ApiKeyNew,{onSubmit:L.dialogs.closeAllModals})})}});function ApiKeyRevokeDialog({apiKey:e,onSubmit:t}){const{t:n}=k();return a(oe,{onSubmit:async()=>{await e.delete(),t()},submitText:n("Revoke"),savingText:`${n("Revoking")}…`,danger:!0,children:n("Are you sure you want to revoke the {{ tokenName }} token?",{tokenName:e.name})})}const Fe=R((function ApiKeyMenu({apiKey:e}){const t=ee({modal:!0}),{dialogs:n}=S(),{t:r}=k(),i=o.useCallback((()=>{n.openModal({title:r("Revoke token"),content:a(ApiKeyRevokeDialog,{onSubmit:n.closeAllModals,apiKey:e})})}),[r,n,e]);return l(p,{children:[a(te,{"aria-label":r("Show menu"),...t}),a(F,{...t,children:a(j,{...t,onClick:i,dangerous:!0,children:r("Revoke")})})]})})),je=R((({apiKey:e})=>{const{t:t}=k(),n=B(),r=ie(),i=l(p,{children:[l(_,{type:"tertiary",children:[t("Created")," ",a(re,{dateTime:e.createdAt,addSuffix:!0})," ",e.userId===r.id?"":t("by {{ name }}",{name:r.name})," ","·"," "]}),e.lastActiveAt&&l(_,{type:"tertiary",children:[t("Last used")," ",a(re,{dateTime:e.lastActiveAt,addSuffix:!0})," ","·"," "]}),l(_,{type:e.isExpired?"danger":"tertiary",children:[e.expiresAt?G(e.expiresAt,t,n):t("No expiry"),e.scope&&a(p,{children:" · "})]}),e.scope&&a(T,{content:e.scope.map((e=>l(p,{children:[e,a("br",{})]}))),children:a(_,{type:"tertiary",children:t("Restricted scope")})})]}),[s,d]=o.useState(!1),c=o.useRef(),u=o.useCallback((()=>{c.current&&clearTimeout(c.current),d(!0),c.current=setTimeout((()=>{d(!1)}),3e3),x.message(t("API key copied to clipboard"))}),[t]);return a(ae,{title:e.name,subtitle:i,actions:l(O,{align:"center",gap:8,children:[e.value&&u&&a(ne,{text:e.value,onCopy:u,children:a(g,{type:"button",icon:a(w.CopyIcon,{}),neutral:!0,borderOnHover:!0,children:t(s?"Copied":"Copy")})}),a(_,{type:"tertiary",size:"xsmall",style:{marginRight:8},monospace:!0,children:e.obfuscatedValue}),a(Fe,{apiKey:e})]})},e.id)}));export{je as A,Ee as c};
