import{o as e,u as o,r,a,d as t,j as s,h as i,H as n,A as m,am as l,e as p,I as c,B as u,Z as d}from"./index.mlCxaiYE.js";import{S as h}from"./Scene.tZk0YIWv.js";import{U as j}from"./authenticated.03alztlO.js";import{u as f}from"./useCurrentUser.zlImhYTS.js";import{I as y}from"./ImageInput.dfilRqQV.js";import{S as v}from"./SettingRow.96ERny3f.js";import"./DocumentContext.hhTeDqBR.js";import"./PlaceholderText.UNfhMHoO.js";import"./LoadingIndicatorBar.mGaD64ZX.js";import"./Switch.3DOmHSIs.js";import"./PopoverDisclosure.OO70kItq.js";import"./InputSelectPermission.lb2lIKIy.js";import"./TeamLogo.qV1feKYB.js";import"./useBoolean.4JQO1FDN.js";import"./Badge.sHfYRIgC.js";import"./Item.dGEOVRdT.js";import"./Time.rp9cc_zo.js";import"./index.esm.XsAbwjVB.js";import"./useCurrentTeam.fRZpnoZU.js";import"./usePolicy.wYF8wJNp.js";import"./SharedLayoutContext.2BBc39h7.js";import"./urls.doI9odX4.js";import"./Notice.4wB6_cwE.js";import"./ButtonLink.tgoiIjKJ.js";import"./routeHelpers.MPg4vHxP.js";const g=e((()=>{const e=f(),{dialogs:g}=o(),S=r.useRef(null),[b,C]=r.useState(e.name),{t:I}=a(),P=S.current?.checkValidity(),{isSaving:w}=e;return t(h,{title:I("Profile"),icon:s(i.ProfileIcon,{}),children:[s(n,{children:I("Profile")}),s(m,{as:"p",type:"secondary",children:s(l,{children:"Manage how you appear to other members of the workspace."})}),t("form",{onSubmit:async o=>{o.preventDefault();try{await e.save({name:b}),d.success(I("Profile saved"))}catch(r){d.error(r.message)}},ref:S,children:[s(v,{label:I("Photo"),name:"avatarUrl",description:I("Choose a photo or image to represent yourself."),children:s(y,{onSuccess:async o=>{await e.save({avatarUrl:o}),d.success(I("Profile picture updated"))},onError:e=>{d.error(e||I("Unable to upload new profile picture"))},model:e})}),s(v,{border:p.EMAIL_ENABLED,label:I("Name"),name:"name",description:I("This could be your real name, or a nickname — however you’d like people to refer to you."),children:s(c,{id:"name",autoComplete:"name",value:b,onChange:e=>{C(e.target.value)},required:!0})}),p.EMAIL_ENABLED&&s(v,{border:!1,label:I("Email address"),name:"email",children:s(c,{type:"email",value:e.email,readOnly:!0,onClick:()=>{g.openModal({title:I("Change email"),content:s(j,{user:e,onSubmit:g.closeAllModals})})}})}),s(u,{type:"submit",disabled:w||!P,children:w?`${I("Saving")}…`:I("Save")})]})]})}));export{g as default};
