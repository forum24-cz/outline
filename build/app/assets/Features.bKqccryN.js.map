{"version":3,"file":"Features.bKqccryN.js","sources":["../../../app/scenes/Settings/Features.tsx"],"sourcesContent":["import { observer } from \"mobx-react\";\nimport { BeakerIcon } from \"outline-icons\";\nimport * as React from \"react\";\nimport { Trans, useTranslation } from \"react-i18next\";\nimport { toast } from \"sonner\";\nimport { TeamPreference } from \"@shared/types\";\nimport Heading from \"~/components/Heading\";\nimport Scene from \"~/components/Scene\";\nimport Switch from \"~/components/Switch\";\nimport Text from \"~/components/Text\";\nimport useCurrentTeam from \"~/hooks/useCurrentTeam\";\nimport SettingRow from \"./components/SettingRow\";\n\nfunction Features() {\n  const team = useCurrentTeam();\n  const { t } = useTranslation();\n\n  const handlePreferenceChange =\n    (inverted = false) =>\n    async (ev: React.ChangeEvent<HTMLInputElement>) => {\n      team.setPreference(\n        ev.target.name as TeamPreference,\n        inverted ? !ev.target.checked : ev.target.checked\n      );\n      await team.save();\n      toast.success(t(\"Settings saved\"));\n    };\n\n  return (\n    <Scene title={t(\"Features\")} icon={<BeakerIcon />}>\n      <Heading>{t(\"Features\")}</Heading>\n      <Text as=\"p\" type=\"secondary\">\n        <Trans>\n          Manage optional and beta features. Changing these settings will affect\n          the experience for all members of the workspace.\n        </Trans>\n      </Text>\n      <SettingRow\n        name={TeamPreference.SeamlessEdit}\n        label={t(\"Separate editing\")}\n        description={t(\n          `When enabled documents have a separate editing mode by default instead of being always editable. This setting can be overridden by user preferences.`\n        )}\n      >\n        <Switch\n          id={TeamPreference.SeamlessEdit}\n          name={TeamPreference.SeamlessEdit}\n          checked={!team.getPreference(TeamPreference.SeamlessEdit)}\n          onChange={handlePreferenceChange(true)}\n        />\n      </SettingRow>\n      <SettingRow\n        name={TeamPreference.Commenting}\n        label={t(\"Commenting\")}\n        description={t(\n          \"When enabled team members can add comments to documents.\"\n        )}\n      >\n        <Switch\n          id={TeamPreference.Commenting}\n          name={TeamPreference.Commenting}\n          checked={team.getPreference(TeamPreference.Commenting)}\n          onChange={handlePreferenceChange(false)}\n        />\n      </SettingRow>\n    </Scene>\n  );\n}\n\nexport default observer(Features);\n"],"names":["observer","Features","team","useCurrentTeam","t","useTranslation","handlePreferenceChange","inverted","async","ev","setPreference","target","name","checked","save","success","jsxs","Scene","title","icon","jsx","BeakerIcon","children","Heading","Text","as","type","Trans","SettingRow","TeamPreference","SeamlessEdit","label","description","Switch","id","getPreference","onChange","Commenting"],"mappings":"2TAqEA,MAAeA,EAAAA,GAxDf,SAASC,WACP,MAAMC,EAAOC,KACPC,EAAEA,GAAMC,IAERC,uBACJA,CAACC,GAAW,IACZC,MAAOC,IACAC,EAAAA,cACHD,EAAGE,OAAOC,KACVL,GAAYE,EAAGE,OAAOE,QAAUJ,EAAGE,OAAOE,eAEtCX,EAAKY,OACLC,EAAAA,QAAQX,EAAE,kBAAiB,EAInC,OAACY,EAAAC,GAAMC,MAAOd,EAAE,YAAae,KAAOC,EAAAC,EAAAA,WAAA,IAClCC,SAAA,GAACC,EAAA,CAASnB,SAAEA,EAAA,cACXgB,EAAAI,GAAKC,GAAG,IAAIC,KAAK,YAChBJ,SAAAF,EAACO,EAAK,CAAAL,SAAA,gIAKPM,EAAA,CACChB,KAAMiB,EAAeC,aACrBC,MAAO3B,EAAE,oBACT4B,YAAa5B,EACX,wJAGFkB,WAACW,EACC,CAAAC,GAAIL,EAAeC,aACnBlB,KAAMiB,EAAeC,aACrBjB,SAAUX,EAAKiC,cAAcN,EAAeC,cAC5CM,SAAU9B,wBAAuB,SAGpCsB,EAAA,CACChB,KAAMiB,EAAeQ,WACrBN,MAAO3B,EAAE,cACT4B,YAAa5B,EACX,4DAGFkB,WAACW,EAAA,CACCC,GAAIL,EAAeQ,WACnBzB,KAAMiB,EAAeQ,WACrBxB,QAASX,EAAKiC,cAAcN,EAAeQ,YAC3CD,SAAU9B,wBAAuB,SAK3C"}