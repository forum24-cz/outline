import{cE as e,cF as n,bb as t,cG as a,bc as r,bM as s,r as u,bN as o,cH as l,cI as i,bP as c,bd as d,cJ as f,cK as b,cL as p,cM as v,cN as m,bQ as k,cO as y,cP as _,cQ as P,cR as S,be as C}from"./index.mlCxaiYE.js";function isPortalEvent(n){return!e(n.currentTarget,n.target)}function isUA(e){return!!n&&-1!==window.navigator.userAgent.indexOf(e)}var g=isUA("Mac")&&!isUA("Chrome")&&(isUA("Safari")||isUA("Firefox"));function focusIfNeeded(e){!f(e)&&b(e)&&e.focus()}function getTabIndex(e,n,t,a){return e?n&&!t?-1:void 0:n?a:a||0}function useDisableEvent(e,n){return u.useCallback((function(t){var a;null===(a=e.current)||void 0===a||a.call(e,t),t.defaultPrevented||n&&(t.stopPropagation(),t.preventDefault())}),[e,n])}var E=t({name:"Tabbable",compose:a,keys:["disabled","focusable"],useOptions:function useOptions(e,n){var t=n.disabled;return r({disabled:t},e)},useProps:function useProps(e,n){var t=n.ref,a=n.tabIndex,d=n.onClickCapture,f=n.onMouseDownCapture,b=n.onMouseDown,p=n.onKeyPressCapture,v=n.style,m=s(n,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),k=u.useRef(null),y=o(d),_=o(f),P=o(b),S=o(p),C=!!e.disabled&&!e.focusable,E=u.useState(!0),O=E[0],T=E[1],w=u.useState(!0),A=w[0],R=w[1],D=e.disabled?r({pointerEvents:"none"},v):v;l((function(){var e=k.current;e&&(function isNativeTabbable(e){return["BUTTON","INPUT","SELECT","TEXTAREA","A"].includes(e.tagName)}(e)||T(!1),function supportsDisabledAttribute(e){return["BUTTON","INPUT","SELECT","TEXTAREA"].includes(e.tagName)}(e)||R(!1))}),[]);var N=useDisableEvent(y,e.disabled),U=useDisableEvent(_,e.disabled),I=useDisableEvent(S,e.disabled),x=u.useCallback((function(e){var n;null===(n=P.current)||void 0===n||n.call(P,e);var t=e.currentTarget;if(!e.defaultPrevented&&g&&!isPortalEvent(e)&&i(t)){var a=requestAnimationFrame((function(){t.removeEventListener("mouseup",r,!0),focusIfNeeded(t)})),r=function focusImmediately2(){cancelAnimationFrame(a),focusIfNeeded(t)};t.addEventListener("mouseup",r,{once:!0,capture:!0})}}),[]);return r({ref:c(k,t),style:D,tabIndex:getTabIndex(C,O,A,a),disabled:!(!C||!A)||void 0,"aria-disabled":!!e.disabled||void 0,onClickCapture:N,onMouseDownCapture:U,onMouseDown:x,onKeyPressCapture:I},m)}});d({as:"div",useHook:E});var O=t({name:"Clickable",compose:E,keys:["unstable_clickOnEnter","unstable_clickOnSpace"],useOptions:function useOptions2(e){var n=e.unstable_clickOnEnter,t=void 0===n||n,a=e.unstable_clickOnSpace,u=void 0===a||a,o=s(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return r({unstable_clickOnEnter:t,unstable_clickOnSpace:u},o)},useProps:function useProps2(e,n){var t=n.onKeyDown,a=n.onKeyUp,l=s(n,["onKeyDown","onKeyUp"]),c=u.useState(!1),d=c[0],f=c[1],b=o(t),v=o(a),m=u.useCallback((function(n){var t;if(null===(t=b.current)||void 0===t||t.call(b,n),!n.defaultPrevented&&!e.disabled&&!n.metaKey&&p(n)){var a=e.unstable_clickOnEnter&&"Enter"===n.key,r=e.unstable_clickOnSpace&&" "===n.key;if(a||r){if(function isNativeClick(e){var n=e.currentTarget;return!!e.isTrusted&&(i(n)||"INPUT"===n.tagName||"TEXTAREA"===n.tagName||"A"===n.tagName||"SELECT"===n.tagName)}(n))return;n.preventDefault(),a?n.currentTarget.click():r&&f(!0)}}}),[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),k=u.useCallback((function(n){var t;if(null===(t=v.current)||void 0===t||t.call(v,n),!n.defaultPrevented&&!e.disabled&&!n.metaKey){var a=e.unstable_clickOnSpace&&" "===n.key;d&&a&&(f(!1),n.currentTarget.click())}}),[e.disabled,e.unstable_clickOnSpace,d]);return r({"data-active":d||void 0,onKeyDown:m,onKeyUp:k},l)}});d({as:"button",memo:!0,useHook:O});var T=t({name:"Button",compose:O,keys:[],useProps:function useProps3(e,n){var t=n.ref,a=s(n,["ref"]),o=u.useRef(null),l=u.useState(void 0),d=l[0],f=l[1],b=u.useState("button"),p=b[0],v=b[1];return u.useEffect((function(){var e=o.current;e&&(i(e)||("A"!==e.tagName&&f("button"),v(void 0)))}),[]),r({ref:c(o,t),role:d,type:p},a)}});d({as:"button",memo:!0,useHook:T});var w=t({name:"Disclosure",compose:T,keys:v,useProps:function useProps4(e,n){var t=n.onClick,a=n["aria-controls"],l=s(n,["onClick","aria-controls"]),i=o(t),c=a?a+" "+e.baseId:e.baseId,d=u.useCallback((function(n){var t,a;null===(t=i.current)||void 0===t||t.call(i,n),n.defaultPrevented||null===(a=e.toggle)||void 0===a||a.call(e)}),[e.toggle]);return r({"aria-expanded":!!e.visible,"aria-controls":c,onClick:d},l)}}),A=d({as:"button",memo:!0,useHook:w}),R=t({name:"DialogDisclosure",compose:w,keys:m,useProps:function useProps5(e,n){var t=n.ref,a=n.onClick,i=s(n,["ref","onClick"]),d=u.useRef(null),f=o(a),b=u.useState(!1),p=b[0],v=b[1],m=e.unstable_disclosureRef;l((function(){var n=d.current;m&&!m.current&&(m.current=n);var t=!(null!=m&&m.current)||m.current===n;v(!!e.visible&&t)}),[e.visible,m]);var k=u.useCallback((function(e){var n;null===(n=f.current)||void 0===n||n.call(f,e),e.defaultPrevented||m&&(m.current=e.currentTarget)}),[m]);return r({ref:c(d,t),"aria-haspopup":"dialog","aria-expanded":p,onClick:k},i)}});d({as:"button",memo:!0,useHook:R});var D=isUA("Mac")&&!isUA("Chrome")&&isUA("Safari");function applyStyles(e){return function(n){return e&&!P(n,e)?e:n}}function usePopoverState(e){void 0===e&&(e={});var n=k(e),t=n.gutter,a=void 0===t?12:t,o=n.placement,i=void 0===o?"bottom":o,c=n.unstable_flip,d=void 0===c||c,f=n.unstable_offset,b=n.unstable_preventOverflow,p=void 0===b||b,v=n.unstable_fixed,m=void 0!==v&&v,P=n.modal,S=void 0!==P&&P,C=s(n,["gutter","placement","unstable_flip","unstable_offset","unstable_preventOverflow","unstable_fixed","modal"]),g=u.useRef(null),E=u.useRef(null),O=u.useRef(null),T=u.useRef(null),w=u.useState(i),A=w[0],R=w[1],N=u.useState(i),U=N[0],I=N[1],x=u.useState(f||[0,a])[0],K=u.useState({position:"fixed",left:"100%",top:"100%"}),M=K[0],h=K[1],H=u.useState({}),F=H[0],L=H[1],B=y(r({modal:S},C)),q=u.useCallback((function(){return!!g.current&&(g.current.forceUpdate(),!0)}),[]),X=u.useCallback((function(e){e.placement&&I(e.placement),e.styles&&(h(applyStyles(e.styles.popper)),T.current&&L(applyStyles(e.styles.arrow)))}),[]);return l((function(){return E.current&&O.current&&(g.current=_(E.current,O.current,{placement:A,strategy:m?"fixed":"absolute",onFirstUpdate:D?X:void 0,modifiers:[{name:"eventListeners",enabled:B.visible},{name:"applyStyles",enabled:!1},{name:"flip",enabled:d,options:{padding:8}},{name:"offset",options:{offset:x}},{name:"preventOverflow",enabled:p,options:{tetherOffset:function tetherOffset(){var e;return(null===(e=T.current)||void 0===e?void 0:e.clientWidth)||0}}},{name:"arrow",enabled:!!T.current,options:{element:T.current}},{name:"updateState",phase:"write",requires:["computeStyles"],enabled:B.visible&&!0,fn:function fn(e){var n=e.state;return X(n)}}]})),function(){g.current&&(g.current.destroy(),g.current=null)}}),[A,m,B.visible,d,x,p]),u.useEffect((function(){if(B.visible){var e=window.requestAnimationFrame((function(){var e;null===(e=g.current)||void 0===e||e.forceUpdate()}));return function(){window.cancelAnimationFrame(e)}}}),[B.visible]),r(r({},B),{},{unstable_referenceRef:E,unstable_popoverRef:O,unstable_arrowRef:T,unstable_popoverStyles:M,unstable_arrowStyles:F,unstable_update:q,unstable_originalPlacement:A,placement:U,place:R})}var N=["baseId","unstable_idCountRef","visible","animated","animating","setBaseId","show","hide","toggle","setVisible","setAnimated","stopAnimation","modal","unstable_disclosureRef","setModal","unstable_referenceRef","unstable_popoverRef","unstable_arrowRef","unstable_popoverStyles","unstable_arrowStyles","unstable_originalPlacement","unstable_update","placement","place"],U=N,I=t({name:"Popover",compose:S,keys:N,useOptions:function useOptions3(e){var n=e.modal,t=void 0!==n&&n,a=s(e,["modal"]);return r({modal:t},a)},useProps:function useProps6(e,n){var t=n.ref,a=n.style,u=s(n,["ref","style"]);return r({ref:c(e.unstable_popoverRef,t),style:r(r({},e.unstable_popoverStyles),a)},u)}}),x=d({as:"div",useHook:I,useCreateElement:function useCreateElement$1(e,n,t){return C(e,n,t)}}),K=t({name:"PopoverDisclosure",compose:R,keys:U,useProps:function useProps7(e,n){var t=n.ref,a=s(n,["ref"]);return r({ref:c(e.unstable_referenceRef,t)},a)}}),M=d({as:"button",memo:!0,useHook:K});export{A as D,M as P,x as a,E as b,O as c,I as d,K as e,isPortalEvent as i,usePopoverState as u};
