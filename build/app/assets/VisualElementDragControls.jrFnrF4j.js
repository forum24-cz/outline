import{U as t,W as n,X as e,b as r,Y as o,Z as i,n as s,_ as u,$ as l,a0 as p,s as f,D as v,g as d,j as m,a1 as g,a2 as h,a3 as y,w as x,a4 as D,a5 as A,a6 as E,a7 as P,a8 as M,a9 as C,aa as T,ab as V}from"./SharedLayoutContext.2BBc39h7.js";import{ca as S,r as w,eZ as L,eX as k,eY as O}from"./index.mlCxaiYE.js";var invariant=function(){},isColorString=function(e,r){return function(o){return Boolean(t(o)&&n.test(o)&&o.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(o,r))}},splitColor=function(n,r,o){return function(i){var s;if(!t(i))return i;var u=i.match(e),l=u[0],p=u[1],f=u[2],v=u[3];return(s={})[n]=parseFloat(l),s[r]=parseFloat(p),s[o]=parseFloat(f),s.alpha=void 0!==v?parseFloat(v):1,s}},I={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:function(t){var n=t.hue,e=t.saturation,s=t.lightness,u=t.alpha,l=void 0===u?1:u;return"hsla("+Math.round(n)+", "+r.transform(o(e))+", "+r.transform(o(s))+", "+o(i.transform(l))+")"}},R=u(0,255),B=S(S({},s),{transform:function(t){return Math.round(R(t))}}),F={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:function(t){var n=t.red,e=t.green,r=t.blue,s=t.alpha,u=void 0===s?1:s;return"rgba("+B.transform(n)+", "+B.transform(e)+", "+B.transform(r)+", "+o(i.transform(u))+")"}};var U={test:isColorString("#"),parse:function parseHex(t){var n="",e="",r="",o="";return t.length>5?(n=t.substr(1,2),e=t.substr(3,2),r=t.substr(5,2),o=t.substr(7,2)):(n=t.substr(1,1),e=t.substr(2,1),r=t.substr(3,1),o=t.substr(4,1),n+=n,e+=e,r+=r,o+=o),{red:parseInt(n,16),green:parseInt(e,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:F.transform},N={test:function(t){return F.test(t)||U.test(t)||I.test(t)},parse:function(t){return F.test(t)?F.parse(t):I.test(t)?I.parse(t):U.parse(t)},transform:function(n){return t(n)?n:n.hasOwnProperty("red")?F.transform(n):I.transform(n)}},j="${c}",q="${n}";function analyse$1(t){var n=[],r=0,o=t.match(l);o&&(r=o.length,t=t.replace(l,j),n.push.apply(n,o.map(N.parse)));var i=t.match(e);return i&&(t=t.replace(e,q),n.push.apply(n,i.map(s.parse))),{values:n,numColors:r,tokenised:t}}function parse(t){return analyse$1(t).values}function createTransformer(t){var n=analyse$1(t),e=n.values,r=n.numColors,i=n.tokenised,s=e.length;return function(t){for(var n=i,e=0;e<s;e++)n=n.replace(e<r?j:q,e<r?N.transform(t[e]):o(t[e]));return n}}var convertNumbersToZero=function(t){return"number"==typeof t?0:t};var G={test:function test(n){var r,o,i,s;return isNaN(n)&&t(n)&&(null!==(o=null===(r=n.match(e))||void 0===r?void 0:r.length)&&void 0!==o?o:0)+(null!==(s=null===(i=n.match(l))||void 0===i?void 0:i.length)&&void 0!==s?s:0)>0},parse:parse,createTransformer:createTransformer,getAnimatableNone:function getAnimatableNone$1(t){var n=parse(t);return createTransformer(t)(n.map(convertNumbersToZero))}},X=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){var n=t.slice(0,-1).split("("),r=n[0],o=n[1];if("drop-shadow"===r)return t;var i=(o.match(e)||[])[0];if(!i)return t;var s=o.replace(i,""),u=X.has(r)?1:0;return i!==o&&(u*=100),r+"("+u+s+")"}var z,$,Y=/([a-z-]*)\(.*?\)/g,H=S(S({},G),{getAnimatableNone:function(t){var n=t.match(Y);return n?n.map(applyDefaultFilter).join(" "):t}});function addDomEvent(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function useDomEvent(t,n,e,r){w.useEffect((function(){var o=t.current;if(e&&o)return addDomEvent(o,n,e,r)}),[t,n,e,r])}function isMouseEvent(t){return"undefined"!=typeof PointerEvent&&t instanceof PointerEvent?!("mouse"!==t.pointerType):t instanceof MouseEvent}function isTouchEvent(t){return!!t.touches}($=z||(z={})).Animate="animate",$.Hover="whileHover",$.Tap="whileTap",$.Drag="whileDrag",$.Focus="whileFocus",$.Exit="exit";var Z={pageX:0,pageY:0};function pointFromTouch(t,n){void 0===n&&(n="page");var e=t.touches[0]||t.changedTouches[0]||Z;return{x:e[n+"X"],y:e[n+"Y"]}}function pointFromMouse(t,n){return void 0===n&&(n="page"),{x:t[n+"X"],y:t[n+"Y"]}}function extractEventInfo(t,n){return void 0===n&&(n="page"),{point:isTouchEvent(t)?pointFromTouch(t,n):pointFromMouse(t,n)}}var wrapHandler=function(t,n){void 0===n&&(n=!1);var listener=function(n){return t(n,extractEventInfo(n))};return n?function filterPrimaryPointer(t){return function(n){var e=n instanceof MouseEvent;(!e||e&&0===n.button)&&t(n)}}(listener):listener},W={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},_={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function getPointerEventName(t){return p&&null===window.onpointerdown?t:p&&null===window.ontouchstart?_[t]:p&&null===window.onmousedown?W[t]:t}function addPointerEvent(t,n,e,r){return addDomEvent(t,getPointerEventName(n),wrapHandler(e,"pointerdown"===n),r)}function usePointerEvent(t,n,e,r){return useDomEvent(t,getPointerEventName(n),e&&wrapHandler(e,"pointerdown"===n),r)}function createLock(t){var n=null;return function(){return null===n&&(n=t,function(){n=null})}}var K=createLock("dragHorizontal"),J=createLock("dragVertical");function getGlobalLock(t){var n=!1;if("y"===t)n=J();else if("x"===t)n=K();else{var e=K(),r=J();e&&r?n=function(){e(),r()}:(e&&e(),r&&r())}return n}function isDragActive(){var t=getGlobalLock(!0);return!t||(t(),!1)}var clamp=function(t,n,e){return Math.min(Math.max(e,t),n)},Q=.001;function findSpring(t){var n,e,r=t.duration,o=void 0===r?800:r,i=t.bounce,s=void 0===i?.25:i,u=t.velocity,l=void 0===u?0:u,p=t.mass,f=void 0===p?1:p,v=1-s;v=clamp(.05,1,v),o=clamp(.01,10,o/1e3),v<1?(n=function(t){var n=t*v,e=n*o,r=n-l,i=calcAngularFreq(t,v),s=Math.exp(-e);return Q-r/i*s},e=function(t){var e=t*v*o,r=e*l+l,i=Math.pow(v,2)*Math.pow(t,2)*o,s=Math.exp(-e),u=calcAngularFreq(Math.pow(t,2),v);return(-n(t)+Q>0?-1:1)*((r-i)*s)/u}):(n=function(t){return Math.exp(-t*o)*((t-l)*o+1)-.001},e=function(t){return Math.exp(-t*o)*(o*o*(l-t))});var d=function approximateRoot(t,n,e){for(var r=e,o=1;o<tt;o++)r-=t(r)/n(r);return r}(n,e,5/o);if(o*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:o};var m=Math.pow(d,2)*f;return{stiffness:m,damping:2*v*Math.sqrt(f*m),duration:o}}var tt=12;function calcAngularFreq(t,n){return t*Math.sqrt(1-n*n)}var nt=["duration","bounce"],et=["stiffness","damping","mass"];function isSpringType(t,n){return n.some((function(n){return void 0!==t[n]}))}function spring(t){var n=t.from,e=void 0===n?0:n,r=t.to,o=void 0===r?1:r,i=t.restSpeed,s=void 0===i?2:i,u=t.restDelta,l=L(t,["from","to","restSpeed","restDelta"]),p={done:!1,value:e},f=function getSpringOptions(t){var n=S({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!isSpringType(t,et)&&isSpringType(t,nt)){var e=findSpring(t);(n=S(S(S({},n),e),{velocity:0,mass:1})).isResolvedFromDuration=!0}return n}(l),v=f.stiffness,d=f.damping,m=f.mass,g=f.velocity,h=f.duration,y=f.isResolvedFromDuration,x=zero,D=zero;function createSpring(){var t=g?-g/1e3:0,n=o-e,r=d/(2*Math.sqrt(v*m)),i=Math.sqrt(v/m)/1e3;if(null!=u||(u=Math.abs(o-e)<=1?.01:.4),r<1){var s=calcAngularFreq(i,r);x=function(e){var u=Math.exp(-r*i*e);return o-u*((t+r*i*n)/s*Math.sin(s*e)+n*Math.cos(s*e))},D=function(e){var o=Math.exp(-r*i*e);return r*i*o*(Math.sin(s*e)*(t+r*i*n)/s+n*Math.cos(s*e))-o*(Math.cos(s*e)*(t+r*i*n)-s*n*Math.sin(s*e))}}else if(1===r)x=function(e){return o-Math.exp(-i*e)*(n+(t+i*n)*e)};else{var l=i*Math.sqrt(r*r-1);x=function(e){var s=Math.exp(-r*i*e),u=Math.min(l*e,300);return o-s*((t+r*i*n)*Math.sinh(u)+l*n*Math.cosh(u))/l}}}return createSpring(),{next:function(t){var n=x(t);if(y)p.done=t>=h;else{var e=1e3*D(t),r=Math.abs(e)<=s,i=Math.abs(o-n)<=u;p.done=r&&i}return p.value=p.done?o:n,p},flipTarget:function(){var t;g=-g,e=(t=[o,e])[0],o=t[1],createSpring()}}}spring.needsInterpolation=function(t,n){return"string"==typeof t||"string"==typeof n};var zero=function(t){return 0},progress=function(t,n,e){var r=n-t;return 0===r?1:(e-t)/r},mix=function(t,n,e){return-e*t+e*n+t},mixLinearColor=function(t,n,e){var r=t*t,o=n*n;return Math.sqrt(Math.max(0,e*(o-r)+r))},rt=[U,F,I],getColorType=function(t){return rt.find((function(n){return n.test(t)}))},mixColor=function(t,n){var e=getColorType(t),r=getColorType(n);e.transform,r.transform;var o=e.parse(t),i=r.parse(n),s=S({},o),u=e===I?mix:mixLinearColor;return function(t){for(var n in s)"alpha"!==n&&(s[n]=u(o[n],i[n],t));return s.alpha=mix(o.alpha,i.alpha,t),e.transform(s)}},isNum=function(t){return"number"==typeof t},combineFunctions=function(t,n){return function(e){return n(t(e))}},pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.reduce(combineFunctions)};function getMixer(t,n){return isNum(t)?function(e){return mix(t,n,e)}:N.test(t)?mixColor(t,n):mixComplex(t,n)}var mixArray=function(t,n){var e=k([],t),r=e.length,o=t.map((function(t,e){return getMixer(t,n[e])}));return function(t){for(var n=0;n<r;n++)e[n]=o[n](t);return e}},mixObject=function(t,n){var e=S(S({},t),n),r={};for(var o in e)void 0!==t[o]&&void 0!==n[o]&&(r[o]=getMixer(t[o],n[o]));return function(t){for(var n in r)e[n]=r[n](t);return e}};function analyse(t){for(var n=G.parse(t),e=n.length,r=0,o=0,i=0,s=0;s<e;s++)r||"number"==typeof n[s]?r++:void 0!==n[s].hue?i++:o++;return{parsed:n,numNumbers:r,numRGB:o,numHSL:i}}var mixComplex=function(t,n){var e=G.createTransformer(n),r=analyse(t),o=analyse(n);return pipe(mixArray(r.parsed,o.parsed),e)},mixNumber=function(t,n){return function(e){return mix(t,n,e)}};function createMixers(t,n,e){for(var r=[],o=e||function detectMixerFactory(t){return"number"==typeof t?mixNumber:"string"==typeof t?N.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:"object"==typeof t?mixObject:void 0}(t[0]),i=t.length-1,s=0;s<i;s++){var u=o(t[s],t[s+1]);if(n){var l=Array.isArray(n)?n[s]:n;u=pipe(l,u)}r.push(u)}return r}function interpolate(t,n,e){var r=void 0===e?{}:e,o=r.clamp,i=void 0===o||o,s=r.ease,u=r.mixer,l=t.length;n.length,!s||!Array.isArray(s)||s.length,t[0]>t[l-1]&&(t=[].concat(t),n=[].concat(n),t.reverse(),n.reverse());var p=createMixers(n,s,u),f=2===l?function fastInterpolate(t,n){var e=t[0],r=t[1],o=n[0];return function(t){return o(progress(e,r,t))}}(t,p):function slowInterpolate(t,n){var e=t.length,r=e-1;return function(o){var i=0,s=!1;if(o<=t[0]?s=!0:o>=t[r]&&(i=r-1,s=!0),!s){for(var u=1;u<e&&!(t[u]>o||u===r);u++);i=u-1}var l=progress(t[i],t[i+1],o);return n[i](l)}}(t,p);return i?function(n){return f(clamp(t[0],t[l-1],n))}:f}var ot,reverseEasing=function(t){return function(n){return 1-t(1-n)}},mirrorEasing=function(t){return function(n){return n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2}},createBackIn=function(t){return function(n){return n*n*((t+1)*n-t)}},at=4/11,it=8/11,linear=function(t){return t},st=(ot=2,function(t){return Math.pow(t,ot)}),ut=reverseEasing(st),lt=mirrorEasing(st),circIn=function(t){return 1-Math.sin(Math.acos(t))},ct=reverseEasing(circIn),pt=mirrorEasing(ct),ft=createBackIn(1.525),vt=reverseEasing(ft),dt=mirrorEasing(ft),mt=function(t){var n=createBackIn(t);return function(t){return(t*=2)<1?.5*n(t):.5*(2-Math.pow(2,-10*(t-1)))}}(1.525),gt=4356/361,ht=35442/1805,yt=16061/1805,bounceOut=function(t){if(1===t||0===t)return t;var n=t*t;return t<at?7.5625*n:t<it?9.075*n-9.9*t+3.4:t<.9?gt*n-ht*t+yt:10.8*t*t-20.52*t+10.72},xt=reverseEasing(bounceOut);function defaultEasing(t,n){return t.map((function(){return n||lt})).splice(0,t.length-1)}function keyframes$1(t){var n=t.from,e=void 0===n?0:n,r=t.to,o=void 0===r?1:r,i=t.ease,s=t.offset,u=t.duration,l=void 0===u?300:u,p={done:!1,value:e},f=Array.isArray(o)?o:[e,o],v=function convertOffsetToTimes(t,n){return t.map((function(t){return t*n}))}(s&&s.length===f.length?s:function defaultOffset(t){var n=t.length;return t.map((function(t,e){return 0!==e?e/(n-1):0}))}(f),l);function createInterpolator(){return interpolate(v,f,{ease:Array.isArray(i)?i:defaultEasing(f,i)})}var d=createInterpolator();return{next:function(t){return p.value=d(t),p.done=t>=l,p},flipTarget:function(){f.reverse(),d=createInterpolator()}}}var Dt={keyframes:keyframes$1,spring:spring,decay:function decay(t){var n=t.velocity,e=void 0===n?0:n,r=t.from,o=void 0===r?0:r,i=t.power,s=void 0===i?.8:i,u=t.timeConstant,l=void 0===u?350:u,p=t.restDelta,f=void 0===p?.5:p,v=t.modifyTarget,d={done:!1,value:o},m=s*e,g=o+m,h=void 0===v?g:v(g);return h!==g&&(m=h-o),{next:function(t){var n=-m*Math.exp(-t/l);return d.done=!(n>f||n<-f),d.value=d.done?h:h+n,d},flipTarget:function(){}}}};function loopElapsed(t,n,e){return void 0===e&&(e=0),t-n-e}var framesync=function(t){var passTimestamp=function(n){var e=n.delta;return t(e)};return{start:function(){return f.update(passTimestamp,!0)},stop:function(){return v.update(passTimestamp)}}};function animate(t){var n,e,r,o,i,s=t.from,u=t.autoplay,l=void 0===u||u,p=t.driver,f=void 0===p?framesync:p,v=t.elapsed,d=void 0===v?0:v,m=t.repeat,g=void 0===m?0:m,h=t.repeatType,y=void 0===h?"loop":h,x=t.repeatDelay,D=void 0===x?0:x,A=t.onPlay,E=t.onStop,P=t.onComplete,M=t.onRepeat,C=t.onUpdate,T=L(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),V=T.to,w=0,k=T.duration,O=!1,I=!0,R=function detectAnimationFromOptions(t){if(Array.isArray(t.to))return keyframes$1;if(Dt[t.type])return Dt[t.type];var n=new Set(Object.keys(t));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?keyframes$1:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?spring:keyframes$1}(T);(null===(e=(n=R).needsInterpolation)||void 0===e?void 0:e.call(n,s,V))&&(i=interpolate([0,100],[s,V],{clamp:!1}),s=0,V=100);var B=R(S(S({},T),{from:s,to:V}));function repeat(){w++,"reverse"===y?d=function reverseElapsed(t,n,e,r){return void 0===e&&(e=0),void 0===r&&(r=!0),r?loopElapsed(n+-t,n,e):n-(t-n)+e}(d,k,D,I=w%2==0):(d=loopElapsed(d,k,D),"mirror"===y&&B.flipTarget()),O=!1,M&&M()}function update(t){if(I||(t=-t),d+=t,!O){var n=B.next(Math.max(0,d));o=n.value,i&&(o=i(o)),O=I?n.done:d<=0}null==C||C(o),O&&(0===w&&(null!=k||(k=d)),w<g?function hasRepeatDelayElapsed(t,n,e,r){return r?t>=n+e:t<=-e}(d,k,D,I)&&repeat():function complete(){r.stop(),P&&P()}())}return l&&function play(){null==A||A(),(r=f(update)).start()}(),{stop:function(){null==E||E(),r.stop()}}}function velocityPerSecond(t,n){return n?t*(1e3/n):0}var isPoint=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},isPoint3D=function(t){return isPoint(t)&&t.hasOwnProperty("z")},distance1D=function(t,n){return Math.abs(t-n)};function distance(t,n){if(isNum(t)&&isNum(n))return distance1D(t,n);if(isPoint(t)&&isPoint(n)){var e=distance1D(t.x,n.x),r=distance1D(t.y,n.y),o=isPoint3D(t)&&isPoint3D(n)?distance1D(t.z,n.z):0;return Math.sqrt(Math.pow(e,2)+Math.pow(r,2)+Math.pow(o,2))}}var a=function(t,n){return 1-3*n+3*t},b=function(t,n){return 3*n-6*t},c=function(t){return 3*t},calcBezier=function(t,n,e){return((a(n,e)*t+b(n,e))*t+c(n))*t},getSlope=function(t,n,e){return 3*a(n,e)*t*t+2*b(n,e)*t+c(n)};var At=.1;function cubicBezier(t,n,e,r){if(t===n&&e===r)return linear;for(var o=new Float32Array(11),i=0;i<11;++i)o[i]=calcBezier(i*At,t,e);function getTForX(n){for(var r=0,i=1;10!==i&&o[i]<=n;++i)r+=At;--i;var s=r+(n-o[i])/(o[i+1]-o[i])*At,u=getSlope(s,t,e);return u>=.001?function newtonRaphsonIterate(t,n,e,r){for(var o=0;o<8;++o){var i=getSlope(n,e,r);if(0===i)return n;n-=(calcBezier(n,e,r)-t)/i}return n}(n,s,t,e):0===u?s:function binarySubdivide(t,n,e,r,o){var i,s,u=0;do{(i=calcBezier(s=n+(e-n)/2,r,o)-t)>0?e=s:n=s}while(Math.abs(i)>1e-7&&++u<10);return s}(n,r,r+At,t,e)}return function(t){return 0===t||1===t?t:calcBezier(getTForX(t),n,r)}}var secondsToMilliseconds=function(t){return 1e3*t},bt={linear:linear,easeIn:st,easeInOut:lt,easeOut:ut,circIn:circIn,circInOut:pt,circOut:ct,backIn:ft,backInOut:dt,backOut:vt,anticipate:mt,bounceIn:xt,bounceInOut:function(t){return t<.5?.5*(1-bounceOut(1-2*t)):.5*bounceOut(2*t-1)+.5},bounceOut:bounceOut},easingDefinitionToFunction=function(t){if(Array.isArray(t)){t.length;var n=O(t,4);return cubicBezier(n[0],n[1],n[2],n[3])}return"string"==typeof t?bt[t]:t},isAnimatable=function(t,n){return"zIndex"!==t&&(!("number"!=typeof n&&!Array.isArray(n))||!("string"!=typeof n||!G.test(n)||n.startsWith("url(")))},underDampedSpring=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},criticallyDampedSpring=function(t){return{type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},linearTween=function(){return{type:"keyframes",ease:"linear",duration:.3}},keyframes=function(t){return{type:"keyframes",duration:.8,values:t}},Et={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},Pt=S(S({},g),{color:N,backgroundColor:N,outlineColor:N,fill:N,stroke:N,borderColor:N,borderTopColor:N,borderRightColor:N,borderBottomColor:N,borderLeftColor:N,filter:H,WebkitFilter:H}),getDefaultValueType=function(t){return Pt[t]};function getAnimatableNone(t,n){var e,r=getDefaultValueType(t);return r!==H&&(r=G),null===(e=r.getAnimatableNone)||void 0===e?void 0:e.call(r,n)}function convertTransitionToAnimationOptions(t){var n=t.ease,e=t.times,r=t.yoyo,o=t.flip,i=t.loop,s=L(t,["ease","times","yoyo","flip","loop"]),u=S({},s);return e&&(u.offset=e),s.duration&&(u.duration=secondsToMilliseconds(s.duration)),s.repeatDelay&&(u.repeatDelay=secondsToMilliseconds(s.repeatDelay)),n&&(u.ease=function(t){return Array.isArray(t)&&"number"!=typeof t[0]}(n)?n.map(easingDefinitionToFunction):easingDefinitionToFunction(n)),"tween"===s.type&&(u.type="keyframes"),(r||i||o)&&(r?u.repeatType="reverse":i?u.repeatType="loop":o&&(u.repeatType="mirror"),u.repeat=i||r||o||s.repeat),"spring"!==s.type&&(u.type="keyframes"),u}function getPopmotionAnimationOptions(t,n,e){var r,o,i,s;return Array.isArray(n.to)&&(null!==(r=t.duration)&&void 0!==r||(t.duration=.8)),function hydrateKeyframes(t){return Array.isArray(t.to)&&null===t.to[0]&&(t.to=k([],O(t.to)),t.to[0]=t.from),t}(n),function isTransitionDefined(t){t.when,t.delay,t.delayChildren,t.staggerChildren,t.staggerDirection,t.repeat,t.repeatType,t.repeatDelay,t.from;var n=L(t,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(n).length}(t)||(t=S(S({},t),(o=e,i=n.to,s=m(i)?keyframes:Et[o]||Et.default,S({to:i},s(i))))),S(S({},n),convertTransitionToAnimationOptions(t))}function getAnimation(t,n,e,r,o){var i,s=getValueTransition(r,t),u=null!==(i=s.from)&&void 0!==i?i:n.get(),l=isAnimatable(t,e);return"none"===u&&l&&"string"==typeof e?u=getAnimatableNone(t,e):isZero(u)&&"string"==typeof e?u=getZeroUnit(e):!Array.isArray(e)&&isZero(e)&&"string"==typeof u&&(e=getZeroUnit(u)),isAnimatable(t,u)&&l&&!1!==s.type?function start(){var r={from:u,to:e,velocity:n.getVelocity(),onComplete:o,onUpdate:function(t){return n.set(t)}};return"inertia"===s.type||"decay"===s.type?function inertia(t){var n,e=t.from,r=void 0===e?0:e,o=t.velocity,i=void 0===o?0:o,s=t.min,u=t.max,l=t.power,p=void 0===l?.8:l,f=t.timeConstant,v=void 0===f?750:f,m=t.bounceStiffness,g=void 0===m?500:m,h=t.bounceDamping,y=void 0===h?10:h,x=t.restDelta,D=void 0===x?1:x,A=t.modifyTarget,E=t.driver,P=t.onUpdate,M=t.onComplete;function isOutOfBounds(t){return void 0!==s&&t<s||void 0!==u&&t>u}function boundaryNearest(t){return void 0===s?u:void 0===u||Math.abs(s-t)<Math.abs(u-t)?s:u}function startAnimation2(t){null==n||n.stop(),n=animate(S(S({},t),{driver:E,onUpdate:function(n){var e;null==P||P(n),null===(e=t.onUpdate)||void 0===e||e.call(t,n)},onComplete:M}))}function startSpring(t){startAnimation2(S({type:"spring",stiffness:g,damping:y,restDelta:D},t))}if(isOutOfBounds(r))startSpring({from:r,velocity:i,to:boundaryNearest(r)});else{var C=p*i+r;void 0!==A&&(C=A(C));var T,V,w=boundaryNearest(C),L=w===s?-1:1;startAnimation2({type:"decay",from:r,velocity:i,timeConstant:v,power:p,restDelta:D,modifyTarget:A,onUpdate:isOutOfBounds(C)?function(t){T=V,V=t,i=velocityPerSecond(t-T,d().delta),(1===L&&t>w||-1===L&&t<w)&&startSpring({from:t,to:w,velocity:i})}:void 0})}return{stop:function(){return null==n?void 0:n.stop()}}}(S(S({},r),s)):animate(S(S({},getPopmotionAnimationOptions(s,r,t)),{onUpdate:function(t){var n;r.onUpdate(t),null===(n=s.onUpdate)||void 0===n||n.call(s,t)},onComplete:function(){var t;r.onComplete(),null===(t=s.onComplete)||void 0===t||t.call(s)}}))}:function set(){var t;return n.set(e),o(),null===(t=null==s?void 0:s.onComplete)||void 0===t||t.call(s),{stop:function(){}}}}function isZero(t){return 0===t||"string"==typeof t&&0===parseFloat(t)&&-1===t.indexOf(" ")}function getZeroUnit(t){return"number"==typeof t?0:getAnimatableNone("",t)}function getValueTransition(t,n){return t[n]||t.default||t}function startAnimation(t,n,e,r){return void 0===r&&(r={}),n.start((function(o){var i,s,u=getAnimation(t,n,e,r,o),l=function getDelayFromTransition(t,n){var e;return null!==(e=(getValueTransition(t,n)||{}).delay)&&void 0!==e?e:0}(r,t),start=function(){return s=u()};return l?i=setTimeout(start,secondsToMilliseconds(l)):start(),function(){clearTimeout(i),null==s||s.stop()}}))}function addUniqueItem(t,n){-1===t.indexOf(n)&&t.push(n)}function removeItem(t,n){var e=t.indexOf(n);e>-1&&t.splice(e,1)}var Mt=function(){function SubscriptionManager2(){this.subscriptions=[]}return SubscriptionManager2.prototype.add=function(t){var n=this;return addUniqueItem(this.subscriptions,t),function(){return removeItem(n.subscriptions,t)}},SubscriptionManager2.prototype.notify=function(t,n,e){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](t,n,e);else for(var o=0;o<r;o++){var i=this.subscriptions[o];i&&i(t,n,e)}},SubscriptionManager2.prototype.getSize=function(){return this.subscriptions.length},SubscriptionManager2.prototype.clear=function(){this.subscriptions.length=0},SubscriptionManager2}(),Ct=function(){function MotionValue2(t){var n,e=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new Mt,this.velocityUpdateSubscribers=new Mt,this.renderSubscribers=new Mt,this.canTrackVelocity=!1,this.updateAndNotify=function(t,n){void 0===n&&(n=!0),e.prev=e.current,e.current=t;var r=d(),o=r.delta,i=r.timestamp;e.lastUpdated!==i&&(e.timeDelta=o,e.lastUpdated=i,f.postRender(e.scheduleVelocityCheck)),e.prev!==e.current&&e.updateSubscribers.notify(e.current),e.velocityUpdateSubscribers.getSize()&&e.velocityUpdateSubscribers.notify(e.getVelocity()),n&&e.renderSubscribers.notify(e.current)},this.scheduleVelocityCheck=function(){return f.postRender(e.velocityCheck)},this.velocityCheck=function(t){t.timestamp!==e.lastUpdated&&(e.prev=e.current,e.velocityUpdateSubscribers.notify(e.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return MotionValue2.prototype.onChange=function(t){return this.updateSubscribers.add(t)},MotionValue2.prototype.clearListeners=function(){this.updateSubscribers.clear()},MotionValue2.prototype.onRenderRequest=function(t){return t(this.get()),this.renderSubscribers.add(t)},MotionValue2.prototype.attach=function(t){this.passiveEffect=t},MotionValue2.prototype.set=function(t,n){void 0===n&&(n=!0),n&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,n)},MotionValue2.prototype.get=function(){return this.current},MotionValue2.prototype.getPrevious=function(){return this.prev},MotionValue2.prototype.getVelocity=function(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},MotionValue2.prototype.start=function(t){var n=this;return this.stop(),new Promise((function(e){n.hasAnimated=!0,n.stopAnimation=t(e)})).then((function(){return n.clearAnimation()}))},MotionValue2.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},MotionValue2.prototype.isAnimating=function(){return!!this.stopAnimation},MotionValue2.prototype.clearAnimation=function(){this.stopAnimation=null},MotionValue2.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},MotionValue2}();function motionValue(t){return new Ct(t)}var Tt=function(){function PanSession2(t,n,e){var r=this,o=(void 0===e?{}:e).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var t=getPanInfo(r.lastMoveEventInfo,r.history),n=null!==r.startEvent,e=distance(t.offset,{x:0,y:0})>=3;if(n||e){var o=t.point,i=d().timestamp;r.history.push(S(S({},o),{timestamp:i}));var s=r.handlers,u=s.onStart,l=s.onMove;n||(u&&u(r.lastMoveEvent,t),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,t)}}},this.handlePointerMove=function(t,n){r.lastMoveEvent=t,r.lastMoveEventInfo=transformPoint(n,r.transformPagePoint),isMouseEvent(t)&&0===t.buttons?r.handlePointerUp(t,n):f.update(r.updatePoint,!0)},this.handlePointerUp=function(t,n){r.end();var e=r.handlers,o=e.onEnd,i=e.onSessionEnd,s=getPanInfo(transformPoint(n,r.transformPagePoint),r.history);r.startEvent&&o&&o(t,s),i&&i(t,s)},!(isTouchEvent(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=o;var i=transformPoint(extractEventInfo(t),this.transformPagePoint),s=i.point,u=d().timestamp;this.history=[S(S({},s),{timestamp:u})];var l=n.onSessionStart;l&&l(t,getPanInfo(i,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}}return PanSession2.prototype.updateHandlers=function(t){this.handlers=t},PanSession2.prototype.end=function(){this.removeListeners&&this.removeListeners(),v.update(this.updatePoint)},PanSession2}();function transformPoint(t,n){return n?{point:n(t.point)}:t}function subtractPoint(t,n){return{x:t.x-n.x,y:t.y-n.y}}function getPanInfo(t,n){var e=t.point;return{point:e,delta:subtractPoint(e,lastDevicePoint(n)),offset:subtractPoint(e,startDevicePoint(n)),velocity:getVelocity(n,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,n){if(t.length<2)return{x:0,y:0};for(var e=t.length-1,r=null,o=lastDevicePoint(t);e>=0&&(r=t[e],!(o.timestamp-r.timestamp>secondsToMilliseconds(n)));)e--;if(!r)return{x:0,y:0};var i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function eachAxis(t){return[t("x"),t("y")]}function applyConstraints(t,n,e){var r=n.min,o=n.max;return void 0!==r&&t<r?t=e?mix(r,t,e.min):Math.max(t,r):void 0!==o&&t>o&&(t=e?mix(o,t,e.max):Math.min(t,o)),t}function calcRelativeAxisConstraints(t,n,e){return{min:void 0!==n?t.min+n:void 0,max:void 0!==e?t.max+e-(t.max-t.min):void 0}}function calcViewportAxisConstraints(t,n){var e,r=n.min-t.min,o=n.max-t.max;return n.max-n.min<t.max-t.min&&(r=(e=O([o,r],2))[0],o=e[1]),{min:t.min+r,max:t.min+o}}function resolveAxisElastic(t,n,e){return{min:resolvePointElastic(t,n),max:resolvePointElastic(t,e)}}function resolvePointElastic(t,n){var e;return"number"==typeof t?t:null!==(e=t[n])&&void 0!==e?e:0}function getBoundingBox(t,n){var e=t.getBoundingClientRect();return h(y(e,n))}function isNear(t,n,e){return void 0===n&&(n=0),void 0===e&&(e=.01),distance(t,n)<e}function calcLength(t){return t.max-t.min}function calcOrigin(t,n){var e=.5,r=calcLength(t),o=calcLength(n);return o>r?e=progress(n.min,n.max-r,t.min):r>o&&(e=progress(t.min,t.max-o,n.min)),clamp(0,1,e)}function updateAxisDelta(t,n,e,r){void 0===r&&(r=.5),t.origin=r,t.originPoint=mix(n.min,n.max,t.origin),t.scale=calcLength(e)/calcLength(n),isNear(t.scale,1,1e-4)&&(t.scale=1),t.translate=mix(e.min,e.max,t.origin)-t.originPoint,isNear(t.translate)&&(t.translate=0)}function updateBoxDelta(t,n,e,r){updateAxisDelta(t.x,n.x,e.x,defaultOrigin(r.originX)),updateAxisDelta(t.y,n.y,e.y,defaultOrigin(r.originY))}function defaultOrigin(t){return"number"==typeof t?t:.5}function calcRelativeAxis(t,n,e){t.min=e.min+n.min,t.max=t.min+calcLength(n)}function calcRelativeBox(t,n){calcRelativeAxis(t.target.x,t.relativeTarget.x,n.target.x),calcRelativeAxis(t.target.y,t.relativeTarget.y,n.target.y)}function tweenAxis(t,n,e,r){t.min=mix(n.min,e.min,r),t.max=mix(n.max,e.max,r)}function calcRelativeOffsetAxis(t,n){return{min:n.min-t.min,max:n.max-t.min}}function calcRelativeOffset(t,n){return{x:calcRelativeOffsetAxis(t.x,n.x),y:calcRelativeOffsetAxis(t.y,n.y)}}function checkIfParentHasChanged(t,n){var e=t.getLayoutId(),r=n.getLayoutId();return e!==r||void 0===r&&t!==n}function isDraggable(t){var n=t.getProps(),e=n.drag,r=n._dragX;return e&&!r}function resetAxis(t,n){t.min=n.min,t.max=n.max}function resetBox(t,n){resetAxis(t.x,n.x),resetAxis(t.y,n.y)}function scalePoint(t,n,e){return e+n*(t-e)}function applyPointDelta(t,n,e,r,o){return void 0!==o&&(t=scalePoint(t,o,r)),scalePoint(t,e,r)+n}function applyAxisDelta(t,n,e,r,o){void 0===n&&(n=0),void 0===e&&(e=1),t.min=applyPointDelta(t.min,n,e,r,o),t.max=applyPointDelta(t.max,n,e,r,o)}function applyBoxDelta(t,n){var e=n.x,r=n.y;applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,r.translate,r.scale,r.originPoint)}function applyAxisTransforms(t,n,e,r){var o=O(r,3),i=o[0],s=o[1],u=o[2];t.min=n.min,t.max=n.max;var l=void 0!==e[u]?e[u]:.5,p=mix(n.min,n.max,l);applyAxisDelta(t,e[i],e[s],p,e.scale)}var Vt=["x","scaleX","originX"],St=["y","scaleY","originY"];function applyBoxTransforms(t,n,e){applyAxisTransforms(t.x,n.x,e,Vt),applyAxisTransforms(t.y,n.y,e,St)}function removePointDelta(t,n,e,r,o){return t=scalePoint(t-=n,1/e,r),void 0!==o&&(t=scalePoint(t,1/o,r)),t}function removeAxisTransforms(t,n,e){var r=O(e,3),o=r[0],i=r[1],s=r[2];!function removeAxisDelta(t,n,e,r,o){void 0===n&&(n=0),void 0===e&&(e=1),void 0===r&&(r=.5);var i=mix(t.min,t.max,r)-n;t.min=removePointDelta(t.min,n,e,i,o),t.max=removePointDelta(t.max,n,e,i,o)}(t,n[o],n[i],n[s],n.scale)}function removeBoxTransforms(t,n){removeAxisTransforms(t.x,n,Vt),removeAxisTransforms(t.y,n,St)}function applyTreeDeltas(t,n,e){var r=e.length;if(r){var o,i;n.x=n.y=1;for(var s=0;s<r;s++)i=(o=e[s]).getLayoutState().delta,n.x*=i.x.scale,n.y*=i.y.scale,applyBoxDelta(t,i),isDraggable(o)&&applyBoxTransforms(t,t,o.getLatestValues())}}var wt,Lt=new WeakMap,kt=function(){function VisualElementDragControls2(t){var n=t.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic=x(),this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=n,this.visualElement.enableLayoutProjection(),Lt.set(n,this)}return VisualElementDragControls2.prototype.start=function(t,n){var e=this,r=void 0===n?{}:n,o=r.snapToCursor,i=void 0!==o&&o,s=r.cursorProgress,u=this.props.transformPagePoint;this.panSession=new Tt(t,{onSessionStart:function(t){var n;e.stopMotion();var r=function getViewportPointFromEvent(t){return extractEventInfo(t,"client")}(t).point;null===(n=e.cancelLayout)||void 0===n||n.call(e),e.cancelLayout=P((function(t,n){var o=M(e.visualElement),u=T(e.visualElement),l=k(k([],O(o)),O(u)),p=!1;e.isLayoutDrag()&&e.visualElement.lockProjectionTarget(),n((function(){l.forEach((function(t){return t.resetTransform()}))})),t((function(){C(e.visualElement),u.forEach(C)})),n((function(){l.forEach((function(t){return t.restoreTransform()})),i&&(p=e.snapToCursor(r))})),t((function(){Boolean(e.getAxisMotionValue("x")&&!e.isExternalDrag())||e.visualElement.rebaseProjectionTarget(!0,e.visualElement.measureViewportBox(!1)),e.visualElement.scheduleUpdateLayoutProjection();var t=e.visualElement.projection;eachAxis((function(n){if(!p){var o=t.target[n],i=o.min,u=o.max;e.cursorProgress[n]=s?s[n]:progress(i,u,r[n])}var l=e.getAxisMotionValue(n);l&&(e.originPoint[n]=l.get())}))})),n((function(){V.update(),V.preRender(),V.render(),V.postRender()})),t((function(){return e.resolveDragConstraints()}))}))},onStart:function(t,n){var r,o,i,s=e.props,u=s.drag,l=s.dragPropagation;(!u||l||(e.openGlobalLock&&e.openGlobalLock(),e.openGlobalLock=getGlobalLock(u),e.openGlobalLock))&&(E(),e.isDragging=!0,e.currentDirection=null,null===(o=(r=e.props).onDragStart)||void 0===o||o.call(r,t,n),null===(i=e.visualElement.animationState)||void 0===i||i.setActive(z.Drag,!0))},onMove:function(t,n){var r,o,i,s,u=e.props,l=u.dragPropagation,p=u.dragDirectionLock;if(l||e.openGlobalLock){var f=n.offset;if(p&&null===e.currentDirection)return e.currentDirection=function getCurrentDirection(t,n){void 0===n&&(n=10);var e=null;Math.abs(t.y)>n?e="y":Math.abs(t.x)>n&&(e="x");return e}(f),void(null!==e.currentDirection&&(null===(o=(r=e.props).onDirectionLock)||void 0===o||o.call(r,e.currentDirection)));e.updateAxis("x",n.point,f),e.updateAxis("y",n.point,f),null===(s=(i=e.props).onDrag)||void 0===s||s.call(i,t,n),wt=t}},onSessionEnd:function(t,n){return e.stop(t,n)}},{transformPagePoint:u})},VisualElementDragControls2.prototype.resolveDragConstraints=function(){var t=this,n=this.props,e=n.dragConstraints,r=n.dragElastic,o=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!e&&(D(e)?this.resolveRefConstraints(o,e):function calcRelativeConstraints(t,n){var e=n.top,r=n.left,o=n.bottom,i=n.right;return{x:calcRelativeAxisConstraints(t.x,r,i),y:calcRelativeAxisConstraints(t.y,e,o)}}(o,e)),this.elastic=function resolveDragElastic(t){return!1===t?t=0:!0===t&&(t=.35),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&eachAxis((function(n){t.getAxisMotionValue(n)&&(t.constraints[n]=function rebaseAxisConstraints(t,n){var e={};return void 0!==n.min&&(e.min=n.min-t.min),void 0!==n.max&&(e.max=n.max-t.min),e}(o[n],t.constraints[n]))}))},VisualElementDragControls2.prototype.resolveRefConstraints=function(t,n){var e=this.props,r=e.onMeasureDragConstraints,o=e.transformPagePoint,i=n.current;this.constraintsBox=getBoundingBox(i,o);var s=function calcViewportConstraints(t,n){return{x:calcViewportAxisConstraints(t.x,n.x),y:calcViewportAxisConstraints(t.y,n.y)}}(t,this.constraintsBox);if(r){var u=r(A(s));this.hasMutatedConstraints=!!u,u&&(s=h(u))}return s},VisualElementDragControls2.prototype.cancelDrag=function(){var t,n;this.visualElement.unlockProjectionTarget(),null===(t=this.cancelLayout)||void 0===t||t.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(z.Drag,!1)},VisualElementDragControls2.prototype.stop=function(t,n){var e,r,o;null===(e=this.panSession)||void 0===e||e.end(),this.panSession=null;var i=this.isDragging;if(this.cancelDrag(),i){var s=n.velocity;this.animateDragEnd(s),null===(o=(r=this.props).onDragEnd)||void 0===o||o.call(r,t,n)}},VisualElementDragControls2.prototype.snapToCursor=function(t){var n=this;return eachAxis((function(e){if(shouldDrag(e,n.props.drag,n.currentDirection)){var r=n.getAxisMotionValue(e);if(!r)return n.cursorProgress[e]=.5,!0;var o=n.visualElement.getLayoutState().layout,i=o[e].max-o[e].min,s=o[e].min+i/2,u=t[e]-s;n.originPoint[e]=t[e],r.set(u)}})).includes(!0)},VisualElementDragControls2.prototype.updateAxis=function(t,n,e){if(shouldDrag(t,this.props.drag,this.currentDirection))return this.getAxisMotionValue(t)?this.updateAxisMotionValue(t,e):this.updateVisualElementAxis(t,n)},VisualElementDragControls2.prototype.updateAxisMotionValue=function(t,n){var e=this.getAxisMotionValue(t);if(n&&e){var r=this.originPoint[t]+n[t],o=this.constraints?applyConstraints(r,this.constraints[t],this.elastic[t]):r;e.set(o)}},VisualElementDragControls2.prototype.updateVisualElementAxis=function(t,n){var e,r=this.visualElement.getLayoutState().layout[t],o=r.max-r.min,i=this.cursorProgress[t],s=function calcConstrainedMinPoint(t,n,e,r,o){var i=t-n*e;return r?applyConstraints(i,r,o):i}(n[t],o,i,null===(e=this.constraints)||void 0===e?void 0:e[t],this.elastic[t]);this.visualElement.setProjectionTargetAxis(t,s,s+o)},VisualElementDragControls2.prototype.setProps=function(t){var n=t.drag,e=void 0!==n&&n,r=t.dragDirectionLock,o=void 0!==r&&r,i=t.dragPropagation,s=void 0!==i&&i,u=t.dragConstraints,l=void 0!==u&&u,p=t.dragElastic,f=void 0===p?.35:p,v=t.dragMomentum,d=void 0===v||v,m=L(t,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=S({drag:e,dragDirectionLock:o,dragPropagation:s,dragConstraints:l,dragElastic:f,dragMomentum:d},m)},VisualElementDragControls2.prototype.getAxisMotionValue=function(t){var n=this.props,e=n.layout,r=n.layoutId,o="_drag"+t.toUpperCase();return this.props[o]?this.props[o]:e||void 0!==r?void 0:this.visualElement.getValue(t,0)},VisualElementDragControls2.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},VisualElementDragControls2.prototype.isExternalDrag=function(){var t=this.props,n=t._dragX,e=t._dragY;return n||e},VisualElementDragControls2.prototype.animateDragEnd=function(t){var n=this,e=this.props,r=e.drag,o=e.dragMomentum,i=e.dragElastic,s=e.dragTransition,u=function convertToRelativeProjection(t,n){void 0===n&&(n=!0);var e,r=t.getProjectionParent();return!!r&&(n?removeBoxTransforms(e=calcRelativeOffset(r.projection.target,t.projection.target),r.getLatestValues()):e=calcRelativeOffset(r.getLayoutState().layout,t.getLayoutState().layout),eachAxis((function(n){return t.setProjectionTargetAxis(n,e[n].min,e[n].max,!0)})),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),l=this.constraints||{};if(u&&Object.keys(l).length&&this.isLayoutDrag()){var p=this.visualElement.getProjectionParent();if(p){var f=calcRelativeOffset(p.projection.targetFinal,l);eachAxis((function(t){var n=f[t],e=n.min,r=n.max;l[t]={min:isNaN(e)?void 0:e,max:isNaN(r)?void 0:r}}))}}var v=eachAxis((function(e){var p;if(shouldDrag(e,r,n.currentDirection)){var f=null!==(p=null==l?void 0:l[e])&&void 0!==p?p:{},v=i?200:1e6,d=i?40:1e7,m=S(S({type:"inertia",velocity:o?t[e]:0,bounceStiffness:v,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),f);return n.getAxisMotionValue(e)?n.startAxisValueAnimation(e,m):n.visualElement.startLayoutAnimation(e,m,u)}}));return Promise.all(v).then((function(){var t,e;null===(e=(t=n.props).onDragTransitionEnd)||void 0===e||e.call(t)}))},VisualElementDragControls2.prototype.stopMotion=function(){var t=this;eachAxis((function(n){var e=t.getAxisMotionValue(n);e?e.stop():t.visualElement.stopLayoutAnimation()}))},VisualElementDragControls2.prototype.startAxisValueAnimation=function(t,n){var e=this.getAxisMotionValue(t);if(e){var r=e.get();return e.set(r),e.set(r),startAnimation(t,e,0,n)}},VisualElementDragControls2.prototype.scalePoint=function(){var t=this,n=this.props,e=n.drag,r=n.dragConstraints;if(D(r)&&this.constraintsBox){this.stopMotion();var o={x:0,y:0};eachAxis((function(n){o[n]=calcOrigin(t.visualElement.projection.target[n],t.constraintsBox[n])})),this.updateConstraints((function(){eachAxis((function(n){if(shouldDrag(n,e,null)){var r=function calcPositionFromProgress(t,n,e){var r=t.max-t.min,o=mix(n.min,n.max-r,e);return{min:o,max:o+r}}(t.visualElement.projection.target[n],t.constraintsBox[n],o[n]),i=r.min,s=r.max;t.visualElement.setProjectionTargetAxis(n,i,s)}}))})),setTimeout(E,1)}},VisualElementDragControls2.prototype.updateConstraints=function(t){var n=this;this.cancelLayout=P((function(e,r){var o=M(n.visualElement);r((function(){return o.forEach((function(t){return t.resetTransform()}))})),e((function(){return C(n.visualElement)})),r((function(){return o.forEach((function(t){return t.restoreTransform()}))})),e((function(){n.resolveDragConstraints()})),t&&r(t)}))},VisualElementDragControls2.prototype.mount=function(t){var n=this,e=addPointerEvent(t.getInstance(),"pointerdown",(function(t){var e=n.props,r=e.drag,o=e.dragListener;r&&(void 0===o||o)&&n.start(t)})),r=addDomEvent(window,"resize",(function(){n.scalePoint()})),o=t.onLayoutUpdate((function(){n.isDragging&&n.resolveDragConstraints()})),i=t.prevDragCursor;return i&&this.start(wt,{cursorProgress:i}),function(){null==e||e(),null==r||r(),null==o||o(),n.cancelDrag()}},VisualElementDragControls2}();function shouldDrag(t,n,e){return!(!0!==n&&n!==t||null!==e&&e!==t)}export{z as A,removeItem as B,removeBoxTransforms as C,calcRelativeBox as D,isDraggable as E,applyBoxTransforms as F,invariant as G,getDefaultValueType as H,getBoundingBox as I,Tt as P,Mt as S,kt as V,mix as a,mixColor as b,ct as c,usePointerEvent as d,Lt as e,isDragActive as f,getValueTransition as g,pipe as h,isMouseEvent as i,addPointerEvent as j,N as k,linear as l,motionValue as m,G as n,getAnimatableNone as o,progress as p,checkIfParentHasChanged as q,calcRelativeOffset as r,startAnimation as s,eachAxis as t,useDomEvent as u,tweenAxis as v,resetBox as w,applyTreeDeltas as x,updateBoxDelta as y,addUniqueItem as z};
