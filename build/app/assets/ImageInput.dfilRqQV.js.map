{"version":3,"file":"ImageInput.dfilRqQV.js","sources":["../../../node_modules/react-avatar-editor/dist/index.js","../../../node_modules/compressorjs/dist/compressor.esm.js","../../../app/scenes/Settings/components/ImageUpload.tsx","../../../app/utils/compressImage.ts","../../../app/scenes/Settings/components/ImageInput.tsx"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t(require(\"prop-types\"),require(\"react\")):\"function\"==typeof define&&define.amd?define([\"prop-types\",\"react\"],t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).AvatarEditor=t(e.PropTypes,e.React)}(this,function(e,t){\"use strict\";function o(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var n=o(e),i=o(t);function r(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function a(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function y(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach(function(e){s(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if(null==e)return{};var o,n=function(e,t){if(null==e)return{};for(var o,n={},a=Object.keys(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(e),r=0;r<a.length;r++)o=a[r],0<=t.indexOf(o)||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o]);return n}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(r){var i=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t,o,n,a=h(r);return t=i?(e=h(this).constructor,Reflect.construct(a,arguments,e)):a.apply(this,arguments),o=this,!(n=t)||\"object\"!=typeof n&&\"function\"!=typeof n?d(o):n}}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],n=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){a=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return o}(e,t)||g(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(e,t){if(e){if(\"string\"==typeof e)return f(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===o&&e.constructor&&(o=e.constructor.name),\"Map\"===o||\"Set\"===o?Array.from(e):\"Arguments\"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function v(a,r){return new Promise(function(e,t){var o,n=new Image;n.onload=function(){return e(n)},n.onerror=t,!1==(null!==(o=a)&&!!o.match(/^\\s*data:([a-z]+\\/[a-z]+(;[a-z-]+=[a-z-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\\-._~:@/?%\\s]*\\s*$/i))&&r&&(n.crossOrigin=r),n.src=a})}var b,w=!(\"undefined\"==typeof window||\"undefined\"==typeof navigator||!(\"ontouchstart\"in window||0<navigator.msMaxTouchPoints)),M=\"undefined\"!=typeof File,O={touch:{react:{down:\"onTouchStart\",mouseDown:\"onMouseDown\",drag:\"onTouchMove\",move:\"onTouchMove\",mouseMove:\"onMouseMove\",up:\"onTouchEnd\",mouseUp:\"onMouseUp\"},native:{down:\"touchstart\",mouseDown:\"mousedown\",drag:\"touchmove\",move:\"touchmove\",mouseMove:\"mousemove\",up:\"touchend\",mouseUp:\"mouseup\"}},desktop:{react:{down:\"onMouseDown\",drag:\"onDragOver\",move:\"onMouseMove\",up:\"onMouseUp\"},native:{down:\"mousedown\",drag:\"dragStart\",move:\"mousemove\",up:\"mouseup\"}}},I=w?O.touch:O.desktop,P=\"undefined\"!=typeof window&&window.devicePixelRatio?window.devicePixelRatio:1,C={x:.5,y:.5},x=function(){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,i[\"default\"].Component);var e,t,o,n=p(a);function a(e){var v;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,a),s(d(v=n.call(this,e)),\"state\",{drag:!1,my:null,mx:null,image:C}),s(d(v),\"handleImageReady\",function(e){var t=v.getInitialSize(e.width,e.height);t.resource=e,t.x=.5,t.y=.5,t.backgroundColor=v.props.backgroundColor,v.setState({drag:!1,image:t},v.props.onImageReady),v.props.onLoadSuccess(t)}),s(d(v),\"clearImage\",function(){v.canvas.getContext(\"2d\").clearRect(0,0,v.canvas.width,v.canvas.height),v.setState({image:C})}),s(d(v),\"handleMouseDown\",function(e){(e=e||window.event).preventDefault(),v.setState({drag:!0,mx:null,my:null})}),s(d(v),\"handleMouseUp\",function(){v.state.drag&&(v.setState({drag:!1}),v.props.onMouseUp())}),s(d(v),\"handleMouseMove\",function(e){var t,o,n,a,r,i,s,u,h,c,l,d,p,g,f,m;e=e||window.event,!1!==v.state.drag&&(e.preventDefault(),n={mx:t=e.targetTouches?e.targetTouches[0].pageX:e.clientX,my:o=e.targetTouches?e.targetTouches[0].pageY:e.clientY},m=v.props.rotate,m=(m%=360)<0?m+360:m,v.state.mx&&v.state.my&&(a=v.state.mx-t,r=v.state.my-o,i=v.state.image.width*v.props.scale,s=v.state.image.height*v.props.scale,h=(u=v.getCroppingRect()).x,c=u.y,h*=i,c*=s,l=function(e){return e*(Math.PI/180)},d=Math.cos(l(m)),g=c+-a*(p=Math.sin(l(m)))+r*d,f={x:(h+a*d+r*p)/i+1/v.props.scale*v.getXScale()/2,y:g/s+1/v.props.scale*v.getYScale()/2},v.props.onPositionChange(f),n.image=y(y({},v.state.image),f)),v.setState(n),v.props.onMouseMove(e))}),s(d(v),\"setCanvas\",function(e){v.canvas=e}),v.canvas=null,v}return e=a,(t=[{key:\"componentDidMount\",value:function(){this.props.disableHiDPIScaling&&(P=1);var e,t,o=this.canvas.getContext(\"2d\");this.props.image&&this.loadImage(this.props.image),this.paint(o),document&&(e=!!function(){var t=!1;try{var e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});window.addEventListener(\"test\",e,e),window.removeEventListener(\"test\",e,e)}catch(e){t=!1}return t}()&&{passive:!1},t=I.native,document.addEventListener(t.move,this.handleMouseMove,e),document.addEventListener(t.up,this.handleMouseUp,e),w&&(document.addEventListener(t.mouseMove,this.handleMouseMove,e),document.addEventListener(t.mouseUp,this.handleMouseUp,e)))}},{key:\"componentDidUpdate\",value:function(e,t){this.props.image&&this.props.image!==e.image||this.props.width!==e.width||this.props.height!==e.height||this.props.backgroundColor!==e.backgroundColor?this.loadImage(this.props.image):this.props.image||t.image===C||this.clearImage();var o=this.canvas.getContext(\"2d\");o.clearRect(0,0,this.canvas.width,this.canvas.height),this.paint(o),this.paintImage(o,this.state.image,this.props.border),e.image===this.props.image&&e.width===this.props.width&&e.height===this.props.height&&e.position===this.props.position&&e.scale===this.props.scale&&e.rotate===this.props.rotate&&t.my===this.state.my&&t.mx===this.state.mx&&t.image.x===this.state.image.x&&t.image.y===this.state.image.y&&t.backgroundColor===this.state.backgroundColor||this.props.onImageChange()}},{key:\"componentWillUnmount\",value:function(){var e;document&&(e=I.native,document.removeEventListener(e.move,this.handleMouseMove,!1),document.removeEventListener(e.up,this.handleMouseUp,!1),w&&(document.removeEventListener(e.mouseMove,this.handleMouseMove,!1),document.removeEventListener(e.mouseUp,this.handleMouseUp,!1)))}},{key:\"isVertical\",value:function(){return!this.props.disableCanvasRotation&&this.props.rotate%180!=0}},{key:\"getBorders\",value:function(e){var t=0<arguments.length&&void 0!==e?e:this.props.border;return Array.isArray(t)?t:[t,t]}},{key:\"getDimensions\",value:function(){var e=this.props,t=e.width,o=e.height,n=e.rotate,a=e.border,r={},i=m(this.getBorders(a),2),s=i[0],u=i[1],h=t,c=o;return this.isVertical()?(r.width=c,r.height=h):(r.width=h,r.height=c),r.width+=2*s,r.height+=2*u,{canvas:r,rotate:n,width:t,height:o,border:a}}},{key:\"getImage\",value:function(){var e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;var o=document.createElement(\"canvas\");this.isVertical()?(o.width=e.height,o.height=e.width):(o.width=e.width,o.height=e.height);var n=o.getContext(\"2d\");return n.translate(o.width/2,o.height/2),n.rotate(this.props.rotate*Math.PI/180),n.translate(-o.width/2,-o.height/2),this.isVertical()&&n.translate((o.width-o.height)/2,(o.height-o.width)/2),t.backgroundColor&&(n.fillStyle=t.backgroundColor,n.fillRect(-e.x,-e.y,t.resource.width,t.resource.height)),n.drawImage(t.resource,-e.x,-e.y),o}},{key:\"getImageScaledToCanvas\",value:function(){var e=this.getDimensions(),t=e.width,o=e.height,n=document.createElement(\"canvas\");return this.isVertical()?(n.width=o,n.height=t):(n.width=t,n.height=o),this.paintImage(n.getContext(\"2d\"),this.state.image,0,1),n}},{key:\"getXScale\",value:function(){var e=this.props.width/this.props.height,t=this.state.image.width/this.state.image.height;return Math.min(1,e/t)}},{key:\"getYScale\",value:function(){var e=this.props.height/this.props.width,t=this.state.image.height/this.state.image.width;return Math.min(1,e/t)}},{key:\"getCroppingRect\",value:function(){var e=this.props.position||{x:this.state.image.x,y:this.state.image.y},t=1/this.props.scale*this.getXScale(),o=1/this.props.scale*this.getYScale(),n={x:e.x-t/2,y:e.y-o/2,width:t,height:o},a=0,r=1-n.width,i=0,s=1-n.height;return(this.props.disableBoundaryChecks||1<t||1<o)&&(a=-n.width,i=-n.height,s=r=1),y(y({},n),{},{x:Math.max(a,Math.min(n.x,r)),y:Math.max(i,Math.min(n.y,s))})}},{key:\"loadImage\",value:function(e){var t;M&&e instanceof File?this.loadingImage=(t=e,new Promise(function(o,n){var e=new FileReader;e.onload=function(e){try{var t=v(e.target.result);o(t)}catch(e){n(e)}},e.readAsDataURL(t)}).then(this.handleImageReady).catch(this.props.onLoadFailure)):\"string\"==typeof e&&(this.loadingImage=v(e,this.props.crossOrigin).then(this.handleImageReady).catch(this.props.onLoadFailure))}},{key:\"getInitialSize\",value:function(e,t){var o,n,a=this.getDimensions();return t/e<a.height/a.width?n=e*((o=this.getDimensions().height)/t):o=t*((n=this.getDimensions().width)/e),{height:o,width:n}}},{key:\"paintImage\",value:function(e,t,o,n){var a,r=3<arguments.length&&void 0!==n?n:P;t.resource&&(a=this.calculatePosition(t,o),e.save(),e.translate(e.canvas.width/2,e.canvas.height/2),e.rotate(this.props.rotate*Math.PI/180),e.translate(-e.canvas.width/2,-e.canvas.height/2),this.isVertical()&&e.translate((e.canvas.width-e.canvas.height)/2,(e.canvas.height-e.canvas.width)/2),e.scale(r,r),e.globalCompositeOperation=\"destination-over\",e.drawImage(t.resource,a.x,a.y,a.width,a.height),t.backgroundColor&&(e.fillStyle=t.backgroundColor,e.fillRect(a.x,a.y,a.width,a.height)),e.restore())}},{key:\"calculatePosition\",value:function(e,t){e=e||this.state.image;var o=m(this.getBorders(t),2),n=o[0],a=o[1],r=this.getCroppingRect(),i=e.width*this.props.scale,s=e.height*this.props.scale,u=-r.x*i,h=-r.y*s;return this.isVertical()?(u+=a,h+=n):(u+=n,h+=a),{x:u,y:h,height:s,width:i}}},{key:\"paint\",value:function(e){e.save(),e.scale(P,P),e.translate(0,0),e.fillStyle=\"rgba(\"+this.props.color.slice(0,4).join(\",\")+\")\";var t,o,n,a,r,i,s,u,h=this.props.borderRadius,c=this.getDimensions(),l=m(this.getBorders(c.border),2),d=l[0],p=l[1],g=c.canvas.height,f=c.canvas.width,h=Math.max(h,0);h=Math.min(h,f/2-d,g/2-p),e.beginPath(),t=e,a=f-2*(o=d),r=g-2*(n=p),0===(i=h)?t.rect(o,n,a,r):(s=a-i,u=r-i,t.translate(o,n),t.arc(i,i,i,Math.PI,1.5*Math.PI),t.lineTo(s,0),t.arc(s,i,i,1.5*Math.PI,2*Math.PI),t.lineTo(a,u),t.arc(s,u,i,2*Math.PI,.5*Math.PI),t.lineTo(i,r),t.arc(i,u,i,.5*Math.PI,Math.PI),t.translate(-o,-n)),e.rect(f,0,-f,g),e.fill(\"evenodd\"),e.restore()}},{key:\"render\",value:function(){var e=this.props,t=(e.scale,e.rotate,e.image,e.border,e.borderRadius,e.width,e.height,e.position,e.color,e.backgroundColor,e.style),o=(e.crossOrigin,e.onLoadFailure,e.onLoadSuccess,e.onImageReady,e.onImageChange,e.onMouseUp,e.onMouseMove,e.onPositionChange,e.disableBoundaryChecks,e.disableHiDPIScaling,e.disableCanvasRotation,l(e,[\"scale\",\"rotate\",\"image\",\"border\",\"borderRadius\",\"width\",\"height\",\"position\",\"color\",\"backgroundColor\",\"style\",\"crossOrigin\",\"onLoadFailure\",\"onLoadSuccess\",\"onImageReady\",\"onImageChange\",\"onMouseUp\",\"onMouseMove\",\"onPositionChange\",\"disableBoundaryChecks\",\"disableHiDPIScaling\",\"disableCanvasRotation\"])),n=this.getDimensions(),a={width:n.canvas.width,height:n.canvas.height,cursor:this.state.drag?\"grabbing\":\"grab\",touchAction:\"none\"},r={width:n.canvas.width*P,height:n.canvas.height*P,style:y(y({},a),t)};return r[I.react.down]=this.handleMouseDown,w&&(r[I.react.mouseDown]=this.handleMouseDown),i.default.createElement(\"canvas\",u({ref:this.setCanvas},r,o))}}])&&r(e.prototype,t),o&&r(e,o),a}();return s(x,\"propTypes\",{scale:n.default.number,rotate:n.default.number,image:n.default.oneOfType([n.default.string].concat(function(e){if(Array.isArray(e))return f(e)}(b=M?[n.default.instanceOf(File)]:[])||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(b)||g(b)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}())),border:n.default.oneOfType([n.default.number,n.default.arrayOf(n.default.number)]),borderRadius:n.default.number,width:n.default.number,height:n.default.number,position:n.default.shape({x:n.default.number,y:n.default.number}),color:n.default.arrayOf(n.default.number),backgroundColor:n.default.string,crossOrigin:n.default.oneOf([\"\",\"anonymous\",\"use-credentials\"]),onLoadFailure:n.default.func,onLoadSuccess:n.default.func,onImageReady:n.default.func,onImageChange:n.default.func,onMouseUp:n.default.func,onMouseMove:n.default.func,onPositionChange:n.default.func,disableBoundaryChecks:n.default.bool,disableHiDPIScaling:n.default.bool,disableCanvasRotation:n.default.bool}),s(x,\"defaultProps\",{scale:1,rotate:0,border:25,borderRadius:0,width:200,height:200,color:[0,0,0,.5],onLoadFailure:function(){},onLoadSuccess:function(){},onImageReady:function(){},onImageChange:function(){},onMouseUp:function(){},onMouseMove:function(){},onPositionChange:function(){},disableBoundaryChecks:!1,disableHiDPIScaling:!1,disableCanvasRotation:!0}),x});\n","/*!\n * Compressor.js v1.2.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-02-28T14:09:41.732Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar canvasToBlob = {exports: {}};\n\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n(function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  (function (window) {\n\n    var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n    var hasBlobConstructor = window.Blob && function () {\n      try {\n        return Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    }();\n    var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    }();\n    var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n    var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n      var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern);\n      if (!matches) {\n        throw new Error('invalid data URI');\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        });\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType);\n    };\n    if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n      if (CanvasPrototype.mozGetAsFile) {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this;\n          setTimeout(function () {\n            if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            } else {\n              callback(self.mozGetAsFile('blob', type));\n            }\n          });\n        };\n      } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n        if (CanvasPrototype.msToBlob) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.msToBlob(type));\n              }\n            });\n          };\n        } else {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            });\n          };\n        }\n      }\n    }\n    if (module.exports) {\n      module.exports = dataURLtoBlob;\n    } else {\n      window.dataURLtoBlob = dataURLtoBlob;\n    }\n  })(window);\n})(canvasToBlob);\nvar toBlob = canvasToBlob.exports;\n\nvar isBlob = function isBlob(value) {\n  if (typeof Blob === 'undefined') {\n    return false;\n  }\n  return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if output the original image instead of the compressed one\n   * when the size of the compressed image is greater than the original one's\n   * @type {boolean}\n   */\n  strict: true,\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n  /**\n   * Indicates if retain the image's Exif information after compressed.\n   * @type {boolean}\n  */\n  retainExif: false,\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n  /**\n   * Sets how the size of the image should be resized to the container\n   * specified by the `width` and `height` options.\n   * @type {string}\n   */\n  resize: 'none',\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n  /**\n   * Files whose file type is included in this list,\n   * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n   * @type {string｜Array}\n   */\n  convertTypes: ['image/png'],\n  /**\n   * PNG files over this size (5 MB by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * @type {number}\n   */\n  convertSize: 5000000,\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.fillStyle = '#fff';\n   * }\n   */\n  beforeDraw: null,\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.filter = 'grayscale(100%)';\n   * }\n   */\n  drew: null,\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) {\n   *   console.log(file);\n   * }\n   */\n  success: null,\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) {\n   *   console.log(err.message);\n   * }\n   */\n  error: null\n};\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\nvar slice = Array.prototype.slice;\n\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @returns {boolean} Returns the image extension.\n */\nfunction imageTypeToExtension(value) {\n  var extension = isImageType(value) ? value.substr(6) : '';\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n  return \".\".concat(extension);\n}\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i;\n  length += start;\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n  return str;\n}\nvar btoa = WINDOW.btoa;\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation;\n\n  // Ignores range error when the image does not have correct Exif information\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n        offset += 1;\n      }\n    }\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n      var _offset;\n      var i;\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (e) {\n    orientation = 1;\n  }\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n  }\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref) {\n  var aspectRatio = _ref.aspectRatio,\n    height = _ref.height,\n    width = _ref.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n    if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get Exif information from the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {Array} The read Exif information.\n */\nfunction getExif(arrayBuffer) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  var length = array.length;\n  var segments = [];\n  var start = 0;\n  while (start + 3 < length) {\n    var value = array[start];\n    var next = array[start + 1];\n\n    // SOS (Start of Scan)\n    if (value === 0xFF && next === 0xDA) {\n      break;\n    }\n\n    // SOI (Start of Image)\n    if (value === 0xFF && next === 0xD8) {\n      start += 2;\n    } else {\n      var offset = array[start + 2] * 256 + array[start + 3];\n      var end = start + offset + 2;\n      var segment = array.slice(start, end);\n      segments.push(segment);\n      start = end;\n    }\n  }\n  return segments.reduce(function (exifArray, current) {\n    if (current[0] === 0xFF && current[1] === 0xE1) {\n      return exifArray.concat(current);\n    }\n    return exifArray;\n  }, []);\n}\n\n/**\n * Insert Exif information into the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {Array} exifArray - The Exif information to insert.\n * @returns {ArrayBuffer} The transformed array buffer.\n */\nfunction insertExif(arrayBuffer, exifArray) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  if (array[2] !== 0xFF || array[3] !== 0xE0) {\n    return arrayBuffer;\n  }\n  var app0Length = array[4] * 256 + array[5];\n  var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));\n  return new Uint8Array(newArrayBuffer);\n}\n\nvar ArrayBuffer$1 = WINDOW.ArrayBuffer,\n  FileReader = WINDOW.FileReader;\nvar URL = WINDOW.URL || WINDOW.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\nvar AnotherCompressor = WINDOW.Compressor;\n\n/**\n * Creates a new image compressor.\n * @class\n */\nvar Compressor = /*#__PURE__*/function () {\n  /**\n   * The constructor of Compressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function Compressor(file, options) {\n    _classCallCheck(this, Compressor);\n    this.file = file;\n    this.exif = [];\n    this.image = new Image();\n    this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n    this.aborted = false;\n    this.result = null;\n    this.init();\n  }\n  _createClass(Compressor, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n      var file = this.file,\n        options = this.options;\n      if (!isBlob(file)) {\n        this.fail(new Error('The first argument must be a File or Blob object.'));\n        return;\n      }\n      var mimeType = file.type;\n      if (!isImageType(mimeType)) {\n        this.fail(new Error('The first argument must be an image File or Blob object.'));\n        return;\n      }\n      if (!URL || !FileReader) {\n        this.fail(new Error('The current browser does not support image compression.'));\n        return;\n      }\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n        options.retainExif = false;\n      }\n      var isJPEGImage = mimeType === 'image/jpeg';\n      var checkOrientation = isJPEGImage && options.checkOrientation;\n      var retainExif = isJPEGImage && options.retainExif;\n      if (URL && !checkOrientation && !retainExif) {\n        this.load({\n          url: URL.createObjectURL(file)\n        });\n      } else {\n        var reader = new FileReader();\n        this.reader = reader;\n        reader.onload = function (_ref) {\n          var target = _ref.target;\n          var result = target.result;\n          var data = {};\n          var orientation = 1;\n          if (checkOrientation) {\n            // Reset the orientation value to its default value 1\n            // as some iOS browsers will render image with its orientation\n            orientation = resetAndGetOrientation(result);\n            if (orientation > 1) {\n              _extends(data, parseOrientation(orientation));\n            }\n          }\n          if (retainExif) {\n            _this.exif = getExif(result);\n          }\n          if (checkOrientation || retainExif) {\n            if (!URL\n\n            // Generate a new URL with the default orientation value 1.\n            || orientation > 1) {\n              data.url = arrayBufferToDataURL(result, mimeType);\n            } else {\n              data.url = URL.createObjectURL(file);\n            }\n          } else {\n            data.url = result;\n          }\n          _this.load(data);\n        };\n        reader.onabort = function () {\n          _this.fail(new Error('Aborted to read the image with FileReader.'));\n        };\n        reader.onerror = function () {\n          _this.fail(new Error('Failed to read the image with FileReader.'));\n        };\n        reader.onloadend = function () {\n          _this.reader = null;\n        };\n        if (checkOrientation || retainExif) {\n          reader.readAsArrayBuffer(file);\n        } else {\n          reader.readAsDataURL(file);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(data) {\n      var _this2 = this;\n      var file = this.file,\n        image = this.image;\n      image.onload = function () {\n        _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n          naturalWidth: image.naturalWidth,\n          naturalHeight: image.naturalHeight\n        }));\n      };\n      image.onabort = function () {\n        _this2.fail(new Error('Aborted to load the image.'));\n      };\n      image.onerror = function () {\n        _this2.fail(new Error('Failed to load the image.'));\n      };\n\n      // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n      if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n        // Fix the `The operation is insecure` error (#57)\n        image.crossOrigin = 'anonymous';\n      }\n      image.alt = file.name;\n      image.src = data.url;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _this3 = this;\n      var naturalWidth = _ref2.naturalWidth,\n        naturalHeight = _ref2.naturalHeight,\n        _ref2$rotate = _ref2.rotate,\n        rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n        _ref2$scaleX = _ref2.scaleX,\n        scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n        _ref2$scaleY = _ref2.scaleY,\n        scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n      var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n      var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n      var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n      var minWidth = Math.max(options.minWidth, 0) || 0;\n      var minHeight = Math.max(options.minHeight, 0) || 0;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = options.width,\n        height = options.height;\n      if (is90DegreesRotated) {\n        var _ref3 = [maxHeight, maxWidth];\n        maxWidth = _ref3[0];\n        maxHeight = _ref3[1];\n        var _ref4 = [minHeight, minWidth];\n        minWidth = _ref4[0];\n        minHeight = _ref4[1];\n        var _ref5 = [height, width];\n        width = _ref5[0];\n        height = _ref5[1];\n      }\n      if (resizable) {\n        aspectRatio = width / height;\n      }\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: maxWidth,\n        height: maxHeight\n      }, 'contain');\n      maxWidth = _getAdjustedSizes.width;\n      maxHeight = _getAdjustedSizes.height;\n      var _getAdjustedSizes2 = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minWidth,\n        height: minHeight\n      }, 'cover');\n      minWidth = _getAdjustedSizes2.width;\n      minHeight = _getAdjustedSizes2.height;\n      if (resizable) {\n        var _getAdjustedSizes3 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        }, options.resize);\n        width = _getAdjustedSizes3.width;\n        height = _getAdjustedSizes3.height;\n      } else {\n        var _getAdjustedSizes4 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        });\n        var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n        width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n        var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n        height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n      }\n      width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n      height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n      var destX = -width / 2;\n      var destY = -height / 2;\n      var destWidth = width;\n      var destHeight = height;\n      var params = [];\n      if (resizable) {\n        var srcX = 0;\n        var srcY = 0;\n        var srcWidth = naturalWidth;\n        var srcHeight = naturalHeight;\n        var _getAdjustedSizes5 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: naturalWidth,\n          height: naturalHeight\n        }, {\n          contain: 'cover',\n          cover: 'contain'\n        }[options.resize]);\n        srcWidth = _getAdjustedSizes5.width;\n        srcHeight = _getAdjustedSizes5.height;\n        srcX = (naturalWidth - srcWidth) / 2;\n        srcY = (naturalHeight - srcHeight) / 2;\n        params.push(srcX, srcY, srcWidth, srcHeight);\n      }\n      params.push(destX, destY, destWidth, destHeight);\n      if (is90DegreesRotated) {\n        var _ref6 = [height, width];\n        width = _ref6[0];\n        height = _ref6[1];\n      }\n      canvas.width = width;\n      canvas.height = height;\n      if (!isImageType(options.mimeType)) {\n        options.mimeType = file.type;\n      }\n      var fillStyle = 'transparent';\n\n      // Converts PNG files over the `convertSize` to JPEGs.\n      if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n        options.mimeType = 'image/jpeg';\n      }\n      var isJPEGImage = options.mimeType === 'image/jpeg';\n      if (isJPEGImage) {\n        fillStyle = '#fff';\n      }\n\n      // Override the default fill color (#000, black)\n      context.fillStyle = fillStyle;\n      context.fillRect(0, 0, width, height);\n      if (options.beforeDraw) {\n        options.beforeDraw.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      context.save();\n      context.translate(width / 2, height / 2);\n      context.rotate(rotate * Math.PI / 180);\n      context.scale(scaleX, scaleY);\n      context.drawImage.apply(context, [image].concat(params));\n      context.restore();\n      if (options.drew) {\n        options.drew.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      var callback = function callback(blob) {\n        if (!_this3.aborted) {\n          var done = function done(result) {\n            return _this3.done({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          };\n          if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {\n            var next = function next(arrayBuffer) {\n              return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));\n            };\n            if (blob.arrayBuffer) {\n              blob.arrayBuffer().then(next).catch(function () {\n                _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));\n              });\n            } else {\n              var reader = new FileReader();\n              _this3.reader = reader;\n              reader.onload = function (_ref7) {\n                var target = _ref7.target;\n                next(target.result);\n              };\n              reader.onabort = function () {\n                _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));\n              };\n              reader.onerror = function () {\n                _this3.fail(new Error('Failed to read the compressed image with FileReader.'));\n              };\n              reader.onloadend = function () {\n                _this3.reader = null;\n              };\n              reader.readAsArrayBuffer(blob);\n            }\n          } else {\n            done(blob);\n          }\n        }\n      };\n      if (canvas.toBlob) {\n        canvas.toBlob(callback, options.mimeType, options.quality);\n      } else {\n        callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n      }\n    }\n  }, {\n    key: \"done\",\n    value: function done(_ref8) {\n      var naturalWidth = _ref8.naturalWidth,\n        naturalHeight = _ref8.naturalHeight,\n        result = _ref8.result;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      if (URL && image.src.indexOf('blob:') === 0) {\n        URL.revokeObjectURL(image.src);\n      }\n      if (result) {\n        // Returns original file if the result is greater than it and without size related options\n        if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n          result = file;\n        } else {\n          var date = new Date();\n          result.lastModified = date.getTime();\n          result.lastModifiedDate = date;\n          result.name = file.name;\n\n          // Convert the extension to match its type\n          if (result.name && result.type !== file.type) {\n            result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n          }\n        }\n      } else {\n        // Returns original file if the result is null in some cases.\n        result = file;\n      }\n      this.result = result;\n      if (options.success) {\n        options.success.call(this, result);\n      }\n    }\n  }, {\n    key: \"fail\",\n    value: function fail(err) {\n      var options = this.options;\n      if (options.error) {\n        options.error.call(this, err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n        if (this.reader) {\n          this.reader.abort();\n        } else if (!this.image.complete) {\n          this.image.onload = null;\n          this.image.onabort();\n        } else {\n          this.fail(new Error('The compression process has been aborted.'));\n        }\n      }\n    }\n\n    /**\n     * Get the no conflict compressor class.\n     * @returns {Compressor} The compressor class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Compressor = AnotherCompressor;\n      return Compressor;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      _extends(DEFAULTS, options);\n    }\n  }]);\n  return Compressor;\n}();\n\nexport { Compressor as default };\n","import invariant from \"invariant\";\nimport { observable } from \"mobx\";\nimport { observer } from \"mobx-react\";\nimport * as React from \"react\";\nimport AvatarEditor from \"react-avatar-editor\";\nimport Dropzone from \"react-dropzone\";\nimport styled from \"styled-components\";\nimport { s } from \"@shared/styles\";\nimport { AttachmentPreset } from \"@shared/types\";\nimport { AttachmentValidation } from \"@shared/validations\";\nimport RootStore from \"~/stores/RootStore\";\nimport Button from \"~/components/Button\";\nimport Flex from \"~/components/Flex\";\nimport LoadingIndicator from \"~/components/LoadingIndicator\";\nimport Modal from \"~/components/Modal\";\nimport withStores from \"~/components/withStores\";\nimport { compressImage } from \"~/utils/compressImage\";\nimport { uploadFile, dataUrlToBlob } from \"~/utils/files\";\n\nexport type Props = {\n  onSuccess: (url: string | null) => void | Promise<void>;\n  onError: (error: string) => void;\n  submitText?: string;\n  borderRadius?: number;\n};\n\n@observer\nclass ImageUpload extends React.Component<RootStore & Props> {\n  @observable\n  isUploading = false;\n\n  @observable\n  isCropping = false;\n\n  @observable\n  zoom = 1;\n\n  @observable\n  file: File;\n\n  avatarEditorRef = React.createRef<AvatarEditor>();\n\n  static defaultProps = {\n    submitText: \"Crop Image\",\n    borderRadius: 150,\n  };\n\n  onDropAccepted = async (files: File[]) => {\n    this.isCropping = true;\n    this.file = files[0];\n  };\n\n  handleCrop = () => {\n    this.isUploading = true;\n    // allow the UI to update before converting the canvas to a Blob\n    // for large images this can cause the page rendering to hang.\n    setTimeout(this.uploadImage, 0);\n  };\n\n  uploadImage = async () => {\n    const canvas = this.avatarEditorRef.current?.getImage();\n    invariant(canvas, \"canvas is not defined\");\n    const imageBlob = dataUrlToBlob(canvas.toDataURL());\n\n    try {\n      const compressed = await compressImage(imageBlob, {\n        maxHeight: 512,\n        maxWidth: 512,\n      });\n      const attachment = await uploadFile(compressed, {\n        name: this.file.name,\n        preset: AttachmentPreset.Avatar,\n      });\n      void this.props.onSuccess(attachment.url);\n    } catch (err) {\n      this.props.onError(err.message);\n    } finally {\n      this.isUploading = false;\n      this.isCropping = false;\n    }\n  };\n\n  handleClose = () => {\n    this.isUploading = false;\n    this.isCropping = false;\n  };\n\n  handleZoom = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n\n    if (target instanceof HTMLInputElement) {\n      this.zoom = parseFloat(target.value);\n    }\n  };\n\n  renderCropping() {\n    const { ui, submitText } = this.props;\n    return (\n      <Modal isOpen onRequestClose={this.handleClose} title=\"\">\n        <Flex auto column align=\"center\" justify=\"center\">\n          {this.isUploading && <LoadingIndicator />}\n          <AvatarEditorContainer>\n            <AvatarEditor\n              ref={this.avatarEditorRef}\n              image={this.file}\n              width={250}\n              height={250}\n              border={25}\n              borderRadius={this.props.borderRadius}\n              color={\n                ui.theme === \"light\" ? [255, 255, 255, 0.6] : [0, 0, 0, 0.6]\n              } // RGBA\n              scale={this.zoom}\n              rotate={0}\n            />\n          </AvatarEditorContainer>\n          <RangeInput\n            type=\"range\"\n            min=\"0.1\"\n            max=\"2\"\n            step=\"0.01\"\n            defaultValue=\"1\"\n            onChange={this.handleZoom}\n          />\n          <CropButton onClick={this.handleCrop} disabled={this.isUploading}>\n            {this.isUploading ? \"Uploading…\" : submitText}\n          </CropButton>\n        </Flex>\n      </Modal>\n    );\n  }\n\n  render() {\n    if (this.isCropping) {\n      return this.renderCropping();\n    }\n\n    return (\n      <Dropzone\n        accept={AttachmentValidation.avatarContentTypes.join(\", \")}\n        onDropAccepted={this.onDropAccepted}\n      >\n        {({ getRootProps, getInputProps }) => (\n          <div {...getRootProps()}>\n            <input {...getInputProps()} />\n            {this.props.children}\n          </div>\n        )}\n      </Dropzone>\n    );\n  }\n}\n\nconst AvatarEditorContainer = styled(Flex)`\n  margin-bottom: 30px;\n`;\n\nconst RangeInput = styled.input`\n  display: block;\n  width: 300px;\n  margin-bottom: 30px;\n  height: 4px;\n  cursor: var(--pointer);\n  color: inherit;\n  border-radius: 99999px;\n  background-color: #dee1e3;\n  appearance: none;\n\n  &::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    height: 16px;\n    width: 16px;\n    border-radius: 50%;\n    background: ${s(\"text\")};\n    cursor: var(--pointer);\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nconst CropButton = styled(Button)`\n  width: 300px;\n`;\n\nexport default withStores(ImageUpload);\n","import Compressor from \"compressorjs\";\n\ntype Options = {\n  maxWidth?: number;\n  maxHeight?: number;\n};\n\nexport const compressImage = async (\n  file: File | Blob,\n  options?: Options\n): Promise<Blob> =>\n  new Promise((resolve, reject) => {\n    new Compressor(file, { ...options, success: resolve, error: reject });\n  });\n","import * as React from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport styled from \"styled-components\";\nimport { s } from \"@shared/styles\";\nimport { Avatar, AvatarSize, IAvatar } from \"~/components/Avatar\";\nimport Button from \"~/components/Button\";\nimport Flex from \"~/components/Flex\";\nimport ImageUpload, { Props as ImageUploadProps } from \"./ImageUpload\";\n\ntype Props = ImageUploadProps & {\n  model: IAvatar;\n};\n\nexport default function ImageInput({ model, onSuccess, ...rest }: Props) {\n  const { t } = useTranslation();\n\n  return (\n    <Flex gap={8} justify=\"space-between\">\n      <ImageBox>\n        <ImageUpload onSuccess={onSuccess} {...rest}>\n          <StyledAvatar model={model} size={AvatarSize.Upload} />\n          <Flex auto align=\"center\" justify=\"center\" className=\"upload\">\n            {t(\"Upload\")}\n          </Flex>\n        </ImageUpload>\n      </ImageBox>\n      {model.avatarUrl && (\n        <Button onClick={() => onSuccess(null)} neutral>\n          {t(\"Remove\")}\n        </Button>\n      )}\n    </Flex>\n  );\n}\n\nconst avatarStyles = `\n  width: ${AvatarSize.Upload}px;\n  height: ${AvatarSize.Upload}px;\n`;\n\nconst StyledAvatar = styled(Avatar)`\n  border-radius: 8px;\n`;\n\nconst ImageBox = styled(Flex)`\n  ${avatarStyles};\n  position: relative;\n  font-size: 14px;\n  border-radius: 8px;\n  box-shadow: 0 0 0 1px ${s(\"backgroundSecondary\")};\n  background: ${s(\"background\")};\n  overflow: hidden;\n\n  .upload {\n    ${avatarStyles};\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    opacity: 0;\n    cursor: var(--pointer);\n    transition: all 250ms;\n  }\n\n  &:hover .upload {\n    opacity: 1;\n    background: rgba(0, 0, 0, 0.75);\n    color: ${(props) => props.theme.white};\n  }\n`;\n"],"names":["e","t","o","default","n","i","r","length","enumerable","configurable","writable","Object","defineProperty","key","s","value","u","assign","arguments","prototype","hasOwnProperty","call","apply","this","a","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","y","forEach","getOwnPropertyDescriptors","defineProperties","h","setPrototypeOf","getPrototypeOf","__proto__","c","l","indexOf","propertyIsEnumerable","d","ReferenceError","p","Reflect","construct","sham","Proxy","Date","toString","constructor","m","Array","isArray","Symbol","iterator","next","done","return","g","TypeError","f","slice","name","from","test","v","Promise","Image","onload","onerror","match","crossOrigin","src","b","w","window","navigator","msMaxTouchPoints","M","File","O","touch","react","down","mouseDown","drag","move","mouseMove","up","mouseUp","native","desktop","I","P","devicePixelRatio","C","x","create","Component","my","mx","image","getInitialSize","width","height","resource","backgroundColor","props","setState","onImageReady","onLoadSuccess","canvas","getContext","clearRect","event","preventDefault","state","onMouseUp","targetTouches","pageX","clientX","pageY","clientY","rotate","scale","getCroppingRect","Math","PI","cos","sin","getXScale","getYScale","onPositionChange","onMouseMove","disableHiDPIScaling","loadImage","paint","document","get","addEventListener","removeEventListener","passive","handleMouseMove","handleMouseUp","clearImage","paintImage","border","position","onImageChange","disableCanvasRotation","getBorders","isVertical","createElement","translate","fillStyle","fillRect","drawImage","getDimensions","min","disableBoundaryChecks","max","loadingImage","FileReader","target","result","readAsDataURL","then","handleImageReady","catch","onLoadFailure","calculatePosition","save","globalCompositeOperation","restore","color","join","borderRadius","beginPath","rect","arc","lineTo","fill","style","cursor","touchAction","handleMouseDown","ref","setCanvas","number","oneOfType","string","concat","instanceOf","arrayOf","shape","oneOf","func","bool","require$$0","require$$1","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread2","source","_defineProperty","_defineProperties","descriptor","_toPropertyKey","obj","_extends","bind","arg","_toPrimitive","input","hint","prim","toPrimitive","res","String","Number","module","CanvasPrototype","hasBlobConstructor","hasArrayBufferViewSupport","BlobBuilder","dataURIPattern","dataURLtoBlob","canvasToBlob","exports","HTMLCanvasElement","Blob","Boolean","Uint8Array","size","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","atob","ArrayBuffer","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","Error","decodeURIComponent","charCodeAt","type","append","getBlob","toBlob","mozGetAsFile","callback","quality","self","setTimeout","toDataURL","msToBlob","DEFAULTS","strict","checkOrientation","retainExif","maxWidth","Infinity","maxHeight","minWidth","minHeight","resize","mimeType","convertTypes","convertSize","beforeDraw","drew","success","error","WINDOW","isPositiveNumber","toArray","REGEXP_IMAGE_TYPE","isImageType","fromCharCode","btoa","arrayBufferToDataURL","chunks","uint8","subarray","resetAndGetOrientation","orientation","dataView","DataView","littleEndian","app1Start","ifdStart","getUint8","byteLength","offset","tiffOffset","getStringFromCharCode","start","str","endianness","getUint16","firstIFDOffset","getUint32","_offset","_length","setUint16","REGEXP_DECIMALS","normalizeDecimalNumber","times","round","getAdjustedSizes","_ref","aspectRatio","isValidWidth","isValidHeight","adjustedWidth","ArrayBuffer$1","URL","webkitURL","REGEXP_EXTENSION","AnotherCompressor","Compressor","file","options","_classCallCheck","instance","Constructor","exif","aborted","init","_createClass","protoProps","staticProps","_this","isBlob","isJPEGImage","reader","data","parseOrientation","scaleX","scaleY","getExif","array","segments","end","segment","reduce","exifArray","current","url","createObjectURL","load","onabort","fail","onloadend","readAsArrayBuffer","_this2","draw","naturalWidth","naturalHeight","userAgent","alt","_ref2","_this3","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","context","is90DegreesRotated","abs","resizable","_ref3","_ref4","_ref5","_getAdjustedSizes","_getAdjustedSizes2","_getAdjustedSizes3","_getAdjustedSizes4","_getAdjustedSizes4$wi","_getAdjustedSizes4$he","destX","floor","destY","destWidth","destHeight","params","srcX","srcY","srcWidth","srcHeight","_getAdjustedSizes5","contain","cover","_ref6","blob","insertExif","app0Length","newArrayBuffer","_ref7","_ref8","revokeObjectURL","date","lastModified","getTime","lastModifiedDate","replace","imageTypeToExtension","extension","substr","err","abort","complete","noConflict","setDefaults","ImageUpload","React","super","isUploading","isCropping","zoom","avatarEditorRef","onDropAccepted","async","files","handleCrop","uploadImage","getImage","invariant","imageBlob","dataUrlToBlob","compressed","resolve","reject","compressImage","attachment","uploadFile","preset","AttachmentPreset","Avatar","onSuccess","onError","message","handleClose","handleZoom","HTMLInputElement","parseFloat","renderCropping","ui","submitText","Modal","isOpen","onRequestClose","title","children","Flex","auto","column","align","justify","jsx","LoadingIndicator","AvatarEditorContainer","AvatarEditor","theme","RangeInput","step","defaultValue","onChange","CropButton","onClick","disabled","render","Dropzone","accept","AttachmentValidation","avatarContentTypes","getRootProps","getInputProps","jsxs","defaultProps","observable","__decorateClass","observer","styled","withConfig","componentId","Button","withStores","ImageInput","model","rest","useTranslation","gap","ImageBox","StyledAvatar","AvatarSize","Upload","className","avatarUrl","neutral","avatarStyles","white"],"mappings":"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","x_google_ignoreList":[0,1]}