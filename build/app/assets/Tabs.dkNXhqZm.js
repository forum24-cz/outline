import{ca as t,cb as e,r as o,n,C as a,a1 as r,X as i,j as s,d,z as c,cc as l,q as u,an as p,bl as f}from"./index.mlCxaiYE.js";import{N as h}from"./Item.dGEOVRdT.js";import{z as g,m}from"./DocumentContext.hhTeDqBR.js";import{i as v,g as y,s as S,P as x,t as w,a as L,S as C,c as b}from"./SharedLayoutContext.2BBc39h7.js";import{m as k,s as A,g as E,a as V,p as R,b as I,c as j,l as T,e as P}from"./VisualElementDragControls.jrFnrF4j.js";function createCrossfader(){var e=k(1),o={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},n=t({},o),a={},r={},i=!1,s=null,d=0;function startCrossfadeAnimation(n,a){var r=o.lead,d=o.follow;i=!0,s=null;var c=!1,onUpdate=function(){c=!0,r&&r.scheduleRender(),d&&d.scheduleRender()},onComplete=function(){i=!1,s=y().timestamp};return a=a&&E(a,"crossfade"),function animate(t,e,o){void 0===o&&(o={});var n=v(t)?t:k(t);return A("",n,e,o),{stop:function(){return n.stop()}}}(e,n,t(t({},a),{onUpdate:onUpdate,onComplete:function(){c?onComplete():(e.set(n),S.read(onComplete)),onUpdate()}}))}function updateCrossfade(){var t,n,i=y().timestamp,s=o.lead,c=o.follow;if(i!==d&&s){d=i;var l=s.getLatestValues();Object.assign(a,l);var u=c?c.getLatestValues():o.prevValues;Object.assign(r,u);var p=e.get(),f=null!==(t=l.opacity)&&void 0!==t?t:1,h=null!==(n=null==u?void 0:u.opacity)&&void 0!==n?n:1;o.crossfadeOpacity&&c?(a.opacity=V(!1!==c.isVisible?0:h,f,U(p)),r.opacity=o.preserveFollowOpacity?h:V(h,0,O(p))):c||(a.opacity=V(h,f,p)),function mixValues(t,e,o,n,a,r){for(var i=0;i<F;i++){var s="border"+B[i]+"Radius",d=getRadius(n,s),c=getRadius(o,s);if((void 0!==d||void 0!==c)&&(d||(d=0),c||(c=0),"number"==typeof d&&"number"==typeof c)){var l=Math.max(V(d,c,r),0);t[s]=e[s]=l}}if(n.rotate||o.rotate){var u=V(n.rotate||0,o.rotate||0,r);t.rotate=e.rotate=u}!a&&o.backgroundColor&&n.backgroundColor&&(t.backgroundColor=e.backgroundColor=I(n.backgroundColor,o.backgroundColor)(r))}(a,r,l,u||{},Boolean(c),p)}}return{isActive:function(){return a&&(i||y().timestamp===s)},fromLead:function(t){return startCrossfadeAnimation(0,t)},toLead:function(t){var a=0;return o.prevValues||o.follow?n.lead===o.follow&&n.follow===o.lead&&(a=1-e.get()):a=1,e.set(a),startCrossfadeAnimation(1,t)},reset:function(){return e.set(1)},stop:function(){return e.stop()},getCrossfadeState:function(t){return updateCrossfade(),t===o.lead?a:t===o.follow?r:void 0},setOptions:function(t){n=o,o=t,a={},r={}},getLatestValues:function(){return a}}}var U=compress(0,.5,j),O=compress(.5,.95,T);function compress(t,e,o){return function(n){return n<t?0:n>e?1:o(R(t,e,n))}}var B=["TopLeft","TopRight","BottomLeft","BottomRight"],F=B.length;function getRadius(t,e){var o;return null!==(o=t[e])&&void 0!==o?o:t.borderRadius}function layoutStack(){var e,o,n,a=new Set,r={leadIsExiting:!1},i=t({},r),s=createCrossfader(),d=!1;return{add:function(t){t.setCrossfader(s),a.add(t),n&&(t.prevDragCursor=n),r.lead||(r.lead=t)},remove:function(t){a.delete(t)},getLead:function(){return r.lead},updateSnapshot:function(){if(r.lead){e=s.isActive()?s.getLatestValues():r.lead.getLatestValues(),o=r.lead.prevViewportBox;var t=P.get(r.lead);t&&t.isDragging&&(n=t.cursorProgress)}},clearSnapshot:function(){n=o=void 0},updateLeadAndFollow:function(){var o,n,c;i=t({},r);for(var l=Array.from(a),u=l.length;u--;u>=0){var p=l[u];if(n&&(null!=c||(c=p)),null!=n||(n=p),n&&c)break}r.lead=n,r.follow=c,r.leadIsExiting=(null===(o=r.lead)||void 0===o?void 0:o.presence)===x.Exiting,s.setOptions({lead:n,follow:c,prevValues:e,crossfadeOpacity:(null==c?void 0:c.isPresenceRoot)||(null==n?void 0:n.isPresenceRoot)}),r.lead===i.follow||i.lead===r.lead&&i.leadIsExiting===r.leadIsExiting||(d=!0)},animate:function(t,e){var n;if(void 0===e&&(e=!1),t===r.lead){e?t.pointTo(r.lead):t.setVisibility(!0);var a={},i=null===(n=r.follow)||void 0===n?void 0:n.getProjectionParent();if(i&&(a.prevParent=i),t.presence===x.Entering?a.originBox=function getFollowViewportBox(){return r.follow?r.follow.prevViewportBox:o}():t.presence===x.Exiting&&(a.targetBox=function getFollowLayout(){var t;return null===(t=r.follow)||void 0===t?void 0:t.getLayoutState().layout}()),d){d=!1;var c=t.getDefaultTransition();t.presence===x.Entering?s.toLead(c):s.fromLead(c)}t.notifyLayoutReady(a)}else e?r.lead&&t.pointTo(r.lead):t.setVisibility(!1)}}}var D=function(n){function AnimateSharedLayout2(){var e=null!==n&&n.apply(this,arguments)||this;return e.children=new Set,e.stacks=new Map,e.hasMounted=!1,e.updateScheduled=!1,e.renderScheduled=!1,e.syncContext=t(t({},b()),{syncUpdate:function(t){return e.scheduleUpdate(t)},forceUpdate:function(){e.syncContext=t({},e.syncContext),e.scheduleUpdate(!0)},register:function(t){return e.addChild(t)},remove:function(t){return e.removeChild(t)}}),e}return e(AnimateSharedLayout2,n),AnimateSharedLayout2.prototype.componentDidMount=function(){this.hasMounted=!0},AnimateSharedLayout2.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},AnimateSharedLayout2.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},AnimateSharedLayout2.prototype.startLayoutAnimation=function(){var t=this;this.renderScheduled=this.updateScheduled=!1;var e=this.props.type;this.children.forEach((function(t){t.isPresent?t.presence!==x.Entering&&(t.presence=t.presence===x.Exiting?x.Entering:x.Present):t.presence=x.Exiting})),this.updateStacks();var o={layoutReady:function(o){void 0!==o.getLayoutId()?t.getStack(o).animate(o,"crossfade"===e):o.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach((function(e){return t.syncContext.add(e)})),this.syncContext.flush(o),this.stacks.forEach((function(t){return t.clearSnapshot()}))},AnimateSharedLayout2.prototype.updateStacks=function(){this.stacks.forEach((function(t){return t.updateLeadAndFollow()}))},AnimateSharedLayout2.prototype.scheduleUpdate=function(t){void 0===t&&(t=!1),!t&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(t){!function resetRotate(t){for(var e=!1,o={},n=0;n<w.length;n++){var a="rotate"+w[n];t.hasValue(a)&&0!==t.getStaticValue(a)&&(e=!0,o[a]=t.getStaticValue(a),t.setStaticValue(a,0))}if(e){for(var a in t.syncRender(),o)t.setStaticValue(a,o[a]);t.scheduleRender()}}(t),t.shouldResetTransform()&&t.resetTransform()})),this.children.forEach(L),this.stacks.forEach((function(t){return t.updateSnapshot()})),!t&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},AnimateSharedLayout2.prototype.addChild=function(t){this.children.add(t),this.addToStack(t),t.presence=this.hasMounted?x.Entering:x.Present},AnimateSharedLayout2.prototype.removeChild=function(t){this.scheduleUpdate(),this.children.delete(t),this.removeFromStack(t)},AnimateSharedLayout2.prototype.addToStack=function(t){var e=this.getStack(t);null==e||e.add(t)},AnimateSharedLayout2.prototype.removeFromStack=function(t){var e=this.getStack(t);null==e||e.remove(t)},AnimateSharedLayout2.prototype.getStack=function(t){var e=t.getLayoutId();if(void 0!==e)return!this.stacks.has(e)&&this.stacks.set(e,layoutStack()),this.stacks.get(e)},AnimateSharedLayout2.prototype.render=function(){return o.createElement(C.Provider,{value:this.syncContext},this.props.children)},AnimateSharedLayout2.contextType=g,AnimateSharedLayout2}(o.Component);const M=n(h).withConfig({componentId:"sc-1heetpp-0"})(["position:relative;display:inline-flex;align-items:center;font-weight:500;font-size:14px;cursor:var(--pointer);color:",";user-select:none;margin-right:24px;padding:6px 0;&:","{color:",";}"],a("textTertiary"),r,a("textSecondary")),z=n(m.div).withConfig({componentId:"sc-1heetpp-1"})(["position:absolute;bottom:0;left:0;right:0;height:3px;width:100%;border-radius:3px;background:",";"],a("textSecondary")),$={type:"spring",stiffness:500,damping:30},Tab=({children:t,exact:e,exactQueryString:o,...n})=>{const a={color:i().textSecondary};return s(M,{...n,exact:e||o,activeStyle:a,children:(e,a)=>d(c,{children:[t,e&&(!o||l(u.parse(a.search??""),u.parse(n.to.search)))&&s(z,{layoutId:"underline",initial:!1,transition:$})]})})},W=n.nav.withConfig({componentId:"sc-5rj63t-0"})(["border-bottom:1px solid ",';margin:12px 0;overflow-y:auto;white-space:nowrap;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}&:after{content:"";position:absolute;top:0;right:0;width:50px;height:100%;pointer-events:none;background:',";}"],a("divider"),(t=>t.$shadowVisible?`linear-gradient(\n      90deg,\n      ${p(1,t.theme.background)} 0%,\n      ${t.theme.background} 100%\n    )`:"transparent")),q=n.div.withConfig({componentId:"sc-5rj63t-1"})(["position:sticky;top:54px;margin:0 -8px;padding:0 8px;background:",";z-index:1;"],a("background"));n.span.withConfig({componentId:"sc-5rj63t-2"})(["border-left:1px solid ",";position:relative;top:2px;margin-right:24px;margin-top:6px;"],a("divider"));const Tabs=({children:t})=>{const e=o.useRef(),[n,a]=o.useState(!1),{width:r}=f(),i=o.useCallback((()=>{const t=e.current;if(!t)return;const o=t.scrollLeft,r=!(t.scrollWidth-t.clientWidth-o==0);r!==n&&a(r)}),[n]);return o.useEffect((()=>{i()}),[r,i]),s(D,{children:s(q,{children:s(W,{ref:e,onScroll:i,$shadowVisible:n,children:t})})})};export{Tabs as T,Tab as a};
