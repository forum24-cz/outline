import{n as e,a6 as t,C as o,a0 as i,a1 as n,N as s,L as a,a2 as r,F as c,o as l,r as d,a as m,d as p,a7 as h,z as u,j as f,a8 as g,T as w}from"./index.mlCxaiYE.js";import{u as x,a as y}from"./Item.dGEOVRdT.js";import{B as b}from"./Badge.sHfYRIgC.js";import{A as C,S as v,D}from"./Star.r69PtoVf.js";import{H as k}from"./Highlight.XZk1WX3z.js";import{u as I}from"./useBoolean.4JQO1FDN.js";import{u as j}from"./useCurrentUser.zlImhYTS.js";import{a as z,d as B,D as S}from"./DocumentContext.hhTeDqBR.js";const P=/<b\b[^>]*>(.*?)<\/b>/gi;function replaceResultMarks(e){return e.replace(new RegExp(P.source),"$1")}const R=e.div.withConfig({componentId:"sc-19isz9t-0"})(["flex-grow:1;flex-shrink:1;min-width:0;"]),H=e(t).withConfig({componentId:"sc-19isz9t-1"})(["display:none;align-items:center;margin:8px;flex-shrink:0;flex-grow:0;color:",";","{&:",',&[aria-expanded= "true"]{background:',";}}",";"],o("textSecondary"),i,n,o("sidebarControlHoverBackground"),s("tablet")`
    display: flex;
  `),L=e(a).withConfig({componentId:"sc-19isz9t-2"})(["display:flex;align-items:center;margin:10px -8px;padding:6px 8px;border-radius:8px;max-height:50vh;width:calc(100vw - 8px);cursor:var(--pointer);&:focus-visible{outline:none;}",";","{opacity:0;}","{opacity:",";}&:",",&:active,&:focus,&:focus-within{background:",";","{opacity:1;}","{opacity:0.5;&:","{opacity:1;}}}",""],s("tablet")`
    width: auto;
  `,H,C,(e=>e.$isStarred?"1 !important":0),n,o("listItemHoverBackground"),H,C,n,(e=>e.$menuOpen&&r(["background:",";","{opacity:1;}","{opacity:0.5;}"],o("listItemHoverBackground"),H,C))),T=e.h3.withConfig({componentId:"sc-19isz9t-3"})(["display:flex;justify-content:",";align-items:center;margin-top:0;margin-bottom:0.25em;white-space:nowrap;color:",";font-family:",";font-weight:500;"],(e=>e.rtl?"flex-end":"flex-start"),o("text"),o("fontFamily")),$=e(c).withConfig({componentId:"sc-19isz9t-4"})(["margin-left:4px;align-items:center;"]),O=e(k).withConfig({componentId:"sc-19isz9t-5"})(["max-width:90%;overflow:hidden;text-overflow:ellipsis;"]),N=e(k).withConfig({componentId:"sc-19isz9t-6"})(["display:block;color:",";font-size:15px;margin-top:-0.25em;margin-bottom:0.25em;max-height:90px;overflow:hidden;"],o("textSecondary")),A=l(d.forwardRef((function DocumentListItem(e,t){const{t:o}=m(),i=j(),n=z(),[s,a,r]=I();let c=d.useRef(null);t&&(c=t);const{focused:l,...C}=x(c,!1);y(l,c);const{document:k,showParentDocuments:A,showCollection:F,showPublished:M,showPin:W,showDraft:E=!0,showTemplate:J,highlight:K,context:U,...V}=e,q=!!K&&!!k.title.toLowerCase().includes(K.toLowerCase()),G=!k.isArchived&&!k.isTemplate,Q=B({document:k,user:i,currentContext:n});return p(L,{ref:c,dir:k.dir,role:"menuitem",$isStarred:k.isStarred,$menuOpen:s,to:{pathname:h(k),state:{title:k.titleWithDefault,sidebarContext:Q}},...V,...C,children:[p(R,{children:[p(T,{dir:k.dir,children:[k.icon&&p(u,{children:[f(g,{value:k.icon,color:k.color??void 0}),"Â "]}),f(O,{text:k.titleWithDefault,highlight:K,dir:k.dir}),k.isBadgedNew&&k.createdBy?.id!==i.id&&f(b,{yellow:!0,children:o("New")}),k.isDraft&&E&&f(w,{content:o("Only visible to you"),placement:"top",children:f(b,{children:o("Draft")})}),G&&f($,{children:f(v,{document:k})}),k.isTemplate&&J&&f(b,{primary:!0,children:o("Template")})]}),!q&&f(N,{text:U,highlight:K?P:void 0,processResult:replaceResultMarks}),f(D,{document:k,showCollection:F,showPublished:M,showParentDocuments:A,showLastViewed:!0})]}),f(H,{children:f(S,{document:k,showPin:W,onOpen:a,onClose:r,modal:!1})})]})})));export{A as D};
