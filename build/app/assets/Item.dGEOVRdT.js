import{o,r as a,a as i,u as d,Z as s,j as c,d as u,F as f,A as p,B as b,aM as h,b as S,aW as g,c6 as I,X as w,n as T,a1 as m,C as v,ai as E,z as R}from"./index.mlCxaiYE.js";const y=o((({onSubmit:o,children:h,submitText:S,savingText:g,danger:I,disabled:w=!1})=>{const[T,m]=a.useState(!1),{t:v}=i(),{dialogs:E}=d(),R=a.useCallback((async a=>{a.preventDefault(),m(!0);try{if(!1===await o())return;E.closeAllModals()}catch(i){s.error(i.message)}finally{m(!1)}}),[o,E]);return c("form",{onSubmit:R,children:u(f,{gap:12,column:!0,children:[c(p,{type:"secondary",children:h}),c(f,{justify:"flex-end",children:c(b,{type:"submit",disabled:T||w,danger:I,autoFocus:!0,children:T&&g?g:S??v("Confirm")})})]})})}));const x=h((function(){}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _,O,A,k,C,D,__assign=function(){return __assign=Object.assign||function __assign2(o){for(var a,i=1,d=arguments.length;i<d;i++)for(var s in a=arguments[i])Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s]);return o},__assign.apply(this,arguments)};(O=_||(_={})).ArrowLeft="ArrowLeft",O.ArrowRight="ArrowRight",O.ArrowUp="ArrowUp",O.ArrowDown="ArrowDown",O.Home="Home",O.End="End",(k=A||(A={})).PREVIOUS="PREVIOUS",k.NEXT="NEXT",k.VERY_FIRST="VERY_FIRST",k.VERY_LAST="VERY_LAST",k.PREVIOUS_ROW="PREVIOUS_ROW",k.NEXT_ROW="NEXT_ROW",k.FIRST_IN_ROW="FIRST_IN_ROW",k.LAST_IN_ROW="LAST_IN_ROW",(D=C||(C={})).REGISTER_TAB_STOP="REGISTER_TAB_STOP",D.UNREGISTER_TAB_STOP="UNREGISTER_TAB_STOP",D.KEY_DOWN="KEY_DOWN",D.CLICKED="CLICKED",D.TAB_STOP_UPDATED="TAB_STOP_UPDATED",D.OPTIONS_UPDATED="OPTIONS_UPDATED",D.FOCUSED="FOCUSED",D.ITEMS_UPDATED="ITEMS_UPDATED";function reducer(o,a){switch(a.type){case C.REGISTER_TAB_STOP:if(!(S=a.payload).domElementRef.current)return o;for(var i=-1,d=o.tabStops.length-1;d>=0;--d){var s=o.tabStops[d];if(s.id===S.id)return x(!1,"'".concat(S.id,"' tab stop already registered")),o;if(-1===i&&s.domElementRef.current&&4&s.domElementRef.current.compareDocumentPosition(S.domElementRef.current)){i=d+1;break}}return-1===i&&(i=0),(h=o.tabStops.slice()).splice(i,0,S),__assign(__assign({},o),{selectedId:getUpdatedSelectedId(h,o.selectedId),tabStops:h,rowStartMap:null});case C.UNREGISTER_TAB_STOP:var c=a.payload.id;return(h=o.tabStops.filter((function(o){return o.id!==c}))).length===o.tabStops.length?(x(!1,"'".concat(c,"' tab stop already unregistered")),o):__assign(__assign({},o),{allowFocusing:!1,selectedId:getUpdatedSelectedId(h,o.selectedId),tabStops:h,rowStartMap:null});case C.TAB_STOP_UPDATED:var u=a.payload,f=u.id,p=u.rowIndex,b=u.disabled;if(-1===(V=o.tabStops.findIndex((function(o){return o.id===f}))))return x(!1,"'".concat(f,"' tab stop not registered")),o;if((y=o.tabStops[V]).disabled===b&&y.rowIndex===p)return o;var h,S=__assign(__assign({},y),{rowIndex:p,disabled:b});return(h=o.tabStops.slice()).splice(V,1,S),__assign(__assign({},o),{selectedId:getUpdatedSelectedId(h,o.selectedId),tabStops:h,rowStartMap:null});case C.FOCUSED:return __assign(__assign({},o),{selectedId:getUpdatedSelectedId(o.tabStops,a.payload.id)});case C.ITEMS_UPDATED:return __assign(__assign({},o),{items:a.payload.items});case C.KEY_DOWN:var g=a.payload,I=g.id,w=g.key,T=g.ctrlKey;if(-1===(V=o.tabStops.findIndex((function(o){return o.id===I}))))return x(!1,"'".concat(I,"' tab stop not registered")),o;if((L=o.tabStops[V]).disabled)return o;var m=null!==L.rowIndex,v=V===findIndexOfVeryFirstActiveTabStop(o.tabStops),E=V===findIndexOfVeryLastActiveTabStop(o.tabStops),R=function getNavigationValue(o,a,i,d,s,c,u){switch(o){case _.ArrowLeft:return i||"horizontal"===d||"both"===d?!i&&s&&c?A.VERY_LAST:A.PREVIOUS:null;case _.ArrowRight:return i||"horizontal"===d||"both"===d?!i&&s&&u?A.VERY_FIRST:A.NEXT:null;case _.ArrowUp:return i?A.PREVIOUS_ROW:"vertical"===d||"both"===d?s&&c?A.VERY_LAST:A.PREVIOUS:null;case _.ArrowDown:return i?A.NEXT_ROW:"vertical"===d||"both"===d?s&&u?A.VERY_FIRST:A.NEXT:null;case _.Home:return!i||a?A.VERY_FIRST:A.FIRST_IN_ROW;case _.End:return!i||a?A.VERY_LAST:A.LAST_IN_ROW;default:return null}}(w,T,m,o.direction,o.loopAround,v,E);if(!R)return o;switch(R){case A.NEXT:for(d=V+1;d<o.tabStops.length;++d){var y=o.tabStops[d];if(m&&y.rowIndex!==L.rowIndex)break;if(!y.disabled)return selectTabStop(o,y)}break;case A.PREVIOUS:for(d=V-1;d>=0;--d){y=o.tabStops[d];if(m&&y.rowIndex!==L.rowIndex)break;if(!y.disabled)return selectTabStop(o,y)}break;case A.VERY_FIRST:var O=findIndexOfVeryFirstActiveTabStop(o.tabStops);if(O>-1)return selectTabStop(o,o.tabStops[O]);break;case A.VERY_LAST:var k=findIndexOfVeryLastActiveTabStop(o.tabStops);if(k>-1)return selectTabStop(o,o.tabStops[k]);break;case A.PREVIOUS_ROW:if(null===L.rowIndex||0===L.rowIndex)return o;if(void 0===(W=(U=o.rowStartMap||createRowStartMap(o)).get(L.rowIndex)))return o;var D=V-W;for(d=L.rowIndex-1;d>=0;--d){var F=U.get(d);if(void 0===F)return o;if((P=o.tabStops[F+D])&&!P.disabled)return selectTabStop(o,P,U)}return __assign(__assign({},o),{allowFocusing:!0,rowStartMap:U});case A.NEXT_ROW:var M=o.tabStops[o.tabStops.length-1].rowIndex;if(null===L.rowIndex||null===M||L.rowIndex===M)return o;if(void 0===(W=(U=o.rowStartMap||createRowStartMap(o)).get(L.rowIndex)))return o;for(D=V-W,d=L.rowIndex+1;d<=M;++d){var P,N=U.get(d);if(void 0===N)return o;if((P=o.tabStops[N+D])&&!P.disabled)return selectTabStop(o,P,U)}return __assign(__assign({},o),{allowFocusing:!0,rowStartMap:U});case A.FIRST_IN_ROW:if(null===L.rowIndex)return o;var W;if(void 0===(W=(U=o.rowStartMap||createRowStartMap(o)).get(L.rowIndex)))return o;for(d=W;d<o.tabStops.length;++d){if((y=o.tabStops[d]).rowIndex!==L.rowIndex)break;if(!y.disabled)return selectTabStop(o,o.tabStops[d],U)}break;case A.LAST_IN_ROW:if(null===L.rowIndex)return o;var U;for(d=(U=o.rowStartMap||createRowStartMap(o)).has(L.rowIndex+1)?(U.get(L.rowIndex+1)||0)-1:o.tabStops.length-1;d>=0;--d){if((y=o.tabStops[d]).rowIndex!==L.rowIndex)break;if(!y.disabled)return selectTabStop(o,o.tabStops[d],U)}}return o;case C.CLICKED:var V,L,$=a.payload.id;return-1===(V=o.tabStops.findIndex((function(o){return o.id===$})))?(x(!1,"'".concat($,"' tab stop not registered")),o):(L=o.tabStops[V]).disabled?o:selectTabStop(o,L,void 0,o.focusOnClick);case C.OPTIONS_UPDATED:return __assign(__assign({},o),a.payload);default:return o}}function findIndexOfVeryFirstActiveTabStop(o){return o.findIndex((function(o){return!o.disabled}))}function findIndexOfVeryLastActiveTabStop(o){for(var a=o.length-1;a>=0;--a){if(!o[a].disabled)return a}return-1}function getUpdatedSelectedId(o,a){if(null===a){var i=o.findIndex((function(o){return!o.disabled}));return-1===i?null:o[i].id}var d=o.findIndex((function(o){return o.id===a}));return-1===d||o[d].disabled?-1===(d=o.findIndex((function(o){return!o.disabled})))?null:o[d].id:a}function selectTabStop(o,a,i,d){return void 0===d&&(d=!0),__assign(__assign({},o),{allowFocusing:d,selectedId:a.id,rowStartMap:i||o.rowStartMap})}function createRowStartMap(o){for(var a=new Map,i=0;i<o.tabStops.length;++i){var d=o.tabStops[i].rowIndex;null===d||a.has(d)||a.set(d,i)}return a}var F={items:[],selectedId:null,allowFocusing:!1,tabStops:[],direction:"horizontal",focusOnClick:!1,loopAround:!1,rowStartMap:null},M=a.createContext({state:F,dispatch:function(){}}),Provider=function(o){var i=o.children,d=o.options,s=o.items,c=a.useReducer(reducer,__assign(__assign({},F),d)),u=c[0],f=c[1];a.useEffect((function(){f({type:C.ITEMS_UPDATED,payload:{items:s}})}),[s]),a.useEffect((function(){var o,a,i;f({type:C.OPTIONS_UPDATED,payload:{direction:null!==(o=null==d?void 0:d.direction)&&void 0!==o?o:F.direction,focusOnClick:null!==(a=null==d?void 0:d.focusOnClick)&&void 0!==a?a:F.focusOnClick,loopAround:null!==(i=null==d?void 0:d.loopAround)&&void 0!==i?i:F.loopAround}})}),[null==d?void 0:d.direction,null==d?void 0:d.focusOnClick,null==d?void 0:d.loopAround]);var p=a.useMemo((function(){return{state:u,dispatch:f}}),[u]);return S.createElement(M.Provider,{value:p},i)},P=0;function useRovingTabIndex(o,i,d){void 0===d&&(d=null);var s=a.useRef(null);function getId(){return s.current||(s.current=function uniqueId(){return"rti_".concat(++P)}()),s.current}var c=a.useRef(!1),u=a.useContext(M);a.useEffect((function(){var a=getId();return u.dispatch({type:C.REGISTER_TAB_STOP,payload:{id:a,domElementRef:o,rowIndex:d,disabled:i}}),function(){u.dispatch({type:C.UNREGISTER_TAB_STOP,payload:{id:a}})}}),[u.state.items]),a.useEffect((function(){c.current?u.dispatch({type:C.TAB_STOP_UPDATED,payload:{id:getId(),rowIndex:d,disabled:i}}):c.current=!0}),[d,i]);var f=a.useCallback((function(o){var a=_[o.key];a&&(u.dispatch({type:C.KEY_DOWN,payload:{id:getId(),key:a,ctrlKey:o.ctrlKey}}),o.preventDefault())}),[]),p=a.useCallback((function(o){u.dispatch({type:C.CLICKED,payload:{id:getId()}})}),[]),b=a.useCallback((function(o){u.dispatch({type:C.FOCUSED,payload:{id:getId()}})}),[]),h=getId()===u.state.selectedId;return{tabIndex:h?0:-1,focused:h&&u.state.allowFocusing,onKeyDown:f,onClick:p,onFocus:b}}function useFocusEffect(o,i){a.useEffect((function(){o&&i.current&&i.current.focus()}),[o])}const t=o=>"object"==typeof o&&null!=o&&1===o.nodeType,e$1=(o,a)=>(!a||"hidden"!==o)&&"visible"!==o&&"clip"!==o,n=(o,a)=>{if(o.clientHeight<o.scrollHeight||o.clientWidth<o.scrollWidth){const i=getComputedStyle(o,null);return e$1(i.overflowY,a)||e$1(i.overflowX,a)||(o=>{const a=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch(a){return null}})(o);return!!a&&(a.clientHeight<o.scrollHeight||a.clientWidth<o.scrollWidth)})(o)}return!1},o$1=(o,a,i,d,s,c,u,f)=>c<o&&u>a||c>o&&u<a?0:c<=o&&f<=i||u>=a&&f>=i?c-o-d:u>a&&f<i||c<o&&f>i?u-a+s:0,l=o=>{const a=o.parentElement;return null==a?o.getRootNode().host||null:a},r=(o,a)=>{var i,d,s,c;if("undefined"==typeof document)return[];const{scrollMode:u,block:f,inline:p,boundary:b,skipOverflowHiddenElements:h}=a,S="function"==typeof b?b:o=>o!==b;if(!t(o))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,I=[];let w=o;for(;t(w)&&S(w);){if(w=l(w),w===g){I.push(w);break}null!=w&&w===document.body&&n(w)&&!n(document.documentElement)||null!=w&&n(w,h)&&I.push(w)}const T=null!=(d=null==(i=window.visualViewport)?void 0:i.width)?d:innerWidth,m=null!=(c=null==(s=window.visualViewport)?void 0:s.height)?c:innerHeight,{scrollX:v,scrollY:E}=window,{height:R,width:y,top:x,right:_,bottom:O,left:A}=o.getBoundingClientRect(),{top:k,right:C,bottom:D,left:F}=(o=>{const a=window.getComputedStyle(o);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(o);let M="start"===f||"nearest"===f?x-k:"end"===f?O+D:x+R/2-k+D,P="center"===p?A+y/2-F+C:"end"===p?_+C:A-F;const N=[];for(let W=0;W<I.length;W++){const o=I[W],{height:a,width:i,top:d,right:s,bottom:c,left:b}=o.getBoundingClientRect();if("if-needed"===u&&x>=0&&A>=0&&O<=m&&_<=T&&x>=d&&O<=c&&A>=b&&_<=s)return N;const h=getComputedStyle(o),S=parseInt(h.borderLeftWidth,10),w=parseInt(h.borderTopWidth,10),k=parseInt(h.borderRightWidth,10),C=parseInt(h.borderBottomWidth,10);let D=0,F=0;const U="offsetWidth"in o?o.offsetWidth-o.clientWidth-S-k:0,V="offsetHeight"in o?o.offsetHeight-o.clientHeight-w-C:0,L="offsetWidth"in o?0===o.offsetWidth?0:i/o.offsetWidth:0,$="offsetHeight"in o?0===o.offsetHeight?0:a/o.offsetHeight:0;if(g===o)D="start"===f?M:"end"===f?M-m:"nearest"===f?o$1(E,E+m,m,w,C,E+M,E+M+R,R):M-m/2,F="start"===p?P:"center"===p?P-T/2:"end"===p?P-T:o$1(v,v+T,T,S,k,v+P,v+P+y,y),D=Math.max(0,D+E),F=Math.max(0,F+v);else{D="start"===f?M-d-w:"end"===f?M-c+C+V:"nearest"===f?o$1(d,c,a,w,C+V,M,M+R,R):M-(d+a/2)+V/2,F="start"===p?P-b-S:"center"===p?P-(b+i/2)+U/2:"end"===p?P-s+k+U:o$1(b,s,i,S,k+U,P,P+y,y);const{scrollLeft:u,scrollTop:h}=o;D=0===$?0:Math.max(0,Math.min(h+D/$,o.scrollHeight-a/$+V)),F=0===L?0:Math.max(0,Math.min(u+F/L,o.scrollWidth-i/L+U)),M+=h-D,P+=u-F}N.push({el:o,top:D,left:F})}return N};function e(o,a){if(!o.isConnected||!(o=>{let a=o;for(;a&&a.parentNode;){if(a.parentNode===document)return!0;a=a.parentNode instanceof ShadowRoot?a.parentNode.host:a.parentNode}return!1})(o))return;const i=(o=>{const a=window.getComputedStyle(o);return{top:parseFloat(a.scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0}})(o);if("object"==typeof(d=a)&&"function"==typeof d.behavior)return a.behavior(r(o,a));var d;const s="boolean"==typeof a||null==a?void 0:a.behavior;for(const{el:c,top:u,left:f}of r(o,(o=>{return!1===o?{block:"end",inline:"nearest"}:(a=o)===Object(a)&&0!==Object.keys(a).length?o:{block:"start",inline:"nearest"};var a})(a))){const o=u-i.top+i.bottom,a=f-i.left+i.right;c.scroll({top:o,left:a,behavior:s})}}const N=a.forwardRef((function NavLinkWithChildrenFunc({to:o,exact:a=!1,children:i,...d},s){return c(g,{path:"string"==typeof o?o:o?.pathname,exact:a,children:({match:u,location:f})=>c(I,{...d,to:o,exact:a,ref:s,children:i?i(d.isActive?d.isActive(u,f):u,f):null})})})),W=T.a.withConfig({componentId:"sc-18yokx8-0"})(["display:flex;padding:",";min-height:32px;margin:",";border-bottom:1px solid ",";&:last-child{border-bottom:0;}&:focus-visible{outline:none;}&:",",&:focus,&:focus-within{background:",";}cursor:",";"],(o=>!1===o.$border?0:"8px 0"),(o=>!1===o.$border?o.$small?"8px 0":"16px 0":0),(o=>!1===o.$border?"transparent":o.theme.divider),m,(o=>o.$hover?o.theme.backgroundSecondary:"inherit"),(o=>o.to||o.onClick?"var(--pointer)":"default")),U=T(f).withConfig({componentId:"sc-18yokx8-1"})(["padding:0 8px 0 0;max-height:32px;align-items:center;user-select:none;flex-shrink:0;align-self:center;color:",";"],v("text")),V=T.p.withConfig({componentId:"sc-18yokx8-2"})(["font-size:","px;font-weight:500;"," line-height:",";margin:0;"],(o=>o.$small?14:16),(o=>!1!==o.$ellipsis?E():""),(o=>o.$small?1.3:1.2)),L=T(f).withConfig({componentId:"sc-18yokx8-3"})(["flex-direction:column;flex-grow:1;color:",";"],v("text")),$=T.p.withConfig({componentId:"sc-18yokx8-4"})(["margin:0;font-size:","px;color:",";margin-top:-2px;"],(o=>o.$small?13:14),v("textTertiary")),B=T(f).withConfig({componentId:"sc-18yokx8-5"})(["align-self:center;justify-content:center;flex-shrink:0;color:",";"],v("textSecondary")),K=a.forwardRef((({image:o,title:i,subtitle:d,actions:s,small:f,border:p,to:b,keyboardNavigation:h,ellipsis:S,...g},I)=>{const T=w(),m=!d;let v=a.useRef(null);I&&(v=I);const{focused:E,...y}=useRovingTabIndex(v,!h&&!b);useFocusEffect(E,v);const x=a.useCallback((()=>{v.current&&e(v.current,{scrollMode:"if-needed",behavior:"auto",block:"center",boundary:window.document.body})}),[v]),content=a=>u(R,{children:[o&&c(U,{children:o}),u(L,{justify:m?"center":void 0,column:!m,$selected:a,children:[c(V,{$small:f,$ellipsis:S,children:i}),d&&c($,{$small:f,$selected:a,children:d})]}),s&&c(B,{$selected:a,gap:4,children:s})]});return c(W,b?{ref:v,$border:p,$small:f,activeStyle:{background:T.sidebarActiveBackground},...g,...y,onClick:o=>{g.onClick&&g.onClick(o),y.onClick(o)},onKeyDown:o=>{g.onKeyDown&&g.onKeyDown(o),y.onKeyDown(o)},onFocus:o=>{y.onFocus(o),x()},as:N,to:b,children:content}:{ref:v,$border:p,$small:f,$hover:!!g.onClick,...g,...y,onClick:g.onClick?o=>{g.onClick?.(o),y.onClick(o)}:void 0,onKeyDown:o=>{g.onKeyDown?.(o),y.onKeyDown(o)},onFocus:o=>{y.onFocus(o),x()},children:content(!1)})}));export{B as A,y as C,K as L,N,Provider as P,useFocusEffect as a,e,useRovingTabIndex as u};
