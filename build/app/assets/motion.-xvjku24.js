import{r as t,eX as e,eY as n,eZ as r,ca as a,cb as i,b as o}from"./index.mlCxaiYE.js";import{u,n as s,p as l,b as c,d as f,v as d,e as v,r as m,f as p,h as g,j as y,k as h,l as T,m as A,o as P,M as x,q as V,w as S,x as b,V as E,y as L,a as C,S as R,F as j,z as w,i as B,A as F,B as M,C as k,D,s as H,P as I,E as U,G as O,H as N,I as q,J as z,K as G,L as K,N as Z,O as $,Q as X,R as Y,T as W}from"./SharedLayoutContext.2BBc39h7.js";import{u as _,A as J,d as Q,i as tt,f as et,h as nt,j as rt,k as at,n as it,o as ot,m as ut,s as st,V as lt,P as ct,a as ft,q as dt,r as vt,t as mt,g as pt,v as gt,S as yt,w as ht,x as Tt,y as At,z as Pt,B as xt,C as Vt,D as St,E as bt,F as Et,G as Lt,H as Ct,I as Rt}from"./VisualElementDragControls.jrFnrF4j.js";function createHoverEvent(t,e,n){return function(r,a){var i;tt(r)&&!et()&&(null==n||n(r,a),null===(i=t.animationState)||void 0===i||i.setActive(J.Hover,e))}}var isNodeOrChild=function(t,e){return!!e&&(t===e||isNodeOrChild(t,e.parentElement))};var makeRenderlessComponent=function(t){return function(e){return t(e),null}},jt={tap:makeRenderlessComponent((function useTapGesture(e){var n=e.onTap,r=e.onTapStart,a=e.onTapCancel,i=e.whileTap,o=e.visualElement,s=n||r||a||i,l=t.useRef(!1),c=t.useRef(null);function removePointerEndListener(){var t;null===(t=c.current)||void 0===t||t.call(c),c.current=null}function checkPointerEnd(){var t;return removePointerEndListener(),l.current=!1,null===(t=o.animationState)||void 0===t||t.setActive(J.Tap,!1),!et()}function onPointerUp(t,e){checkPointerEnd()&&(isNodeOrChild(o.getInstance(),t.target)?null==n||n(t,e):null==a||a(t,e))}function onPointerCancel(t,e){checkPointerEnd()&&(null==a||a(t,e))}Q(o,"pointerdown",s?function onPointerDown(t,e){var n;removePointerEndListener(),l.current||(l.current=!0,c.current=nt(rt(window,"pointerup",onPointerUp),rt(window,"pointercancel",onPointerCancel)),null==r||r(t,e),null===(n=o.animationState)||void 0===n||n.setActive(J.Tap,!0))}:void 0),u(removePointerEndListener)})),focus:makeRenderlessComponent((function useFocusGesture(t){var e=t.whileFocus,n=t.visualElement;_(n,"focus",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(J.Focus,!0)}:void 0),_(n,"blur",e?function(){var t;null===(t=n.animationState)||void 0===t||t.setActive(J.Focus,!1)}:void 0)})),hover:makeRenderlessComponent((function useHoverGesture(t){var e=t.onHoverStart,n=t.onHoverEnd,r=t.whileHover,a=t.visualElement;Q(a,"pointerenter",e||r?createHoverEvent(a,!0,e):void 0),Q(a,"pointerleave",n||r?createHoverEvent(a,!1,n):void 0)}))};function shallowCompare(t,e){if(!Array.isArray(e))return!1;var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var testValueType=function(t){return function(e){return e.test(t)}},wt=[s,l,c,f,d,v,{test:function(t){return"auto"===t},parse:function(t){return t}}],findDimensionValueType=function(t){return wt.find(testValueType(t))},Bt=e(e([],n(wt)),[at,it]),findValueType=function(t){return Bt.find(testValueType(t))};function setMotionValue(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ut(n))}function getOriginFromTransition(t,e){if(e)return(e[t]||e.default||e).from}function animateVariant(t,e,r){var i;void 0===r&&(r={});var o=m(t,e,r.custom),u=(o||{}).transition,s=void 0===u?t.getDefaultTransition()||{}:u;r.transitionOverride&&(s=r.transitionOverride);var l=o?function(){return animateTarget(t,o,r)}:function(){return Promise.resolve()},c=(null===(i=t.variantChildren)||void 0===i?void 0:i.size)?function(n){void 0===n&&(n=0);var i=s.delayChildren,o=void 0===i?0:i,u=s.staggerChildren,l=s.staggerDirection;return function animateChildren(t,e,n,r,i,o){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var u=[],s=(t.variantChildren.size-1)*r,l=1===i?function(t){return void 0===t&&(t=0),t*r}:function(t){return void 0===t&&(t=0),s-t*r};return Array.from(t.variantChildren).sort(sortByTreeOrder).forEach((function(t,r){u.push(animateVariant(t,e,a(a({},o),{delay:n+l(r)})).then((function(){return t.notifyAnimationComplete(e)})))})),Promise.all(u)}(t,e,o+n,u,l,r)}:function(){return Promise.resolve()},f=s.when;if(f){var d=n("beforeChildren"===f?[l,c]:[c,l],2),v=d[0],p=d[1];return v().then(p)}return Promise.all([l(),c(r.delay)])}function animateTarget(t,e,n){var i,o=void 0===n?{}:n,u=o.delay,s=void 0===u?0:u,l=o.transitionOverride,c=o.type,f=t.makeTargetAnimatable(e),d=f.transition,v=void 0===d?t.getDefaultTransition():d,g=f.transitionEnd,y=r(f,["transition","transitionEnd"]);l&&(v=l);var h=[],T=c&&(null===(i=t.animationState)||void 0===i?void 0:i.getState()[c]);for(var A in y){var P=t.getValue(A),x=y[A];if(!(!P||void 0===x||T&&shouldBlockAnimation(T,A))){var V=st(A,P,x,a({delay:s},v));h.push(V)}}return Promise.all(h).then((function(){g&&function setTarget(t,e){var n=m(t,e),i=n?t.makeTargetAnimatable(n,!1):{},o=i.transitionEnd,u=void 0===o?{}:o;i.transition;var s=r(i,["transitionEnd","transition"]);for(var l in s=a(a({},s),u))setMotionValue(t,l,p(s[l]))}(t,g)}))}function sortByTreeOrder(t,e){return t.sortNodePosition(e)}function shouldBlockAnimation(t,e){var n=t.protectedKeys,r=t.needsAnimating,a=n.hasOwnProperty(e)&&!0!==r[e];return r[e]=!1,a}var Ft=[J.Animate,J.Hover,J.Tap,J.Drag,J.Focus,J.Exit],Mt=e([],n(Ft)).reverse(),kt=Ft.length;function animateList(t){return function(e){return Promise.all(e.map((function(e){var n=e.animation,r=e.options;return function animateVisualElement(t,e,n){var r;if(void 0===n&&(n={}),t.notifyAnimationStart(),Array.isArray(e)){var a=e.map((function(e){return animateVariant(t,e,n)}));r=Promise.all(a)}else if("string"==typeof e)r=animateVariant(t,e,n);else{var i="function"==typeof e?m(t,e,n.custom):e;r=animateTarget(t,i,n)}return r.then((function(){return t.notifyAnimationComplete(e)}))}(t,n,r)})))}}function createAnimationState(t){var i=animateList(t),o=function createState(){var t;return(t={})[J.Animate]=createTypeState(!0),t[J.Hover]=createTypeState(),t[J.Tap]=createTypeState(),t[J.Drag]=createTypeState(),t[J.Focus]=createTypeState(),t[J.Exit]=createTypeState(),t}(),u={},s=!0,buildResolvedTypeValues=function(e,n){var i=m(t,n);if(i){i.transition;var o=i.transitionEnd,u=r(i,["transition","transitionEnd"]);e=a(a(a({},e),u),o)}return e};function animateChanges(r,l){for(var c,f=t.getProps(),d=t.getVariantContext(!0)||{},v=[],m=new Set,p={},A=1/0,_loop_1=function(i){var u=Mt[i],P=o[u],x=null!==(c=f[u])&&void 0!==c?c:d[u],V=T(x),S=u===l?P.isActive:null;!1===S&&(A=i);var b=x===d[u]&&x!==f[u]&&V;if(b&&s&&t.manuallyAnimateOnMount&&(b=!1),P.protectedKeys=a({},p),!P.isActive&&null===S||!x&&!P.prevProp||g(x)||"boolean"==typeof x)return"continue";var E=function variantsHaveChanged(t,e){if("string"==typeof e)return e!==t;if(h(e))return!shallowCompare(e,t);return!1}(P.prevProp,x)||u===l&&P.isActive&&!b&&V||i>A&&V,L=Array.isArray(x)?x:[x],C=L.reduce(buildResolvedTypeValues,{});!1===S&&(C={});var R=P.prevResolvedValues,j=void 0===R?{}:R,w=a(a({},j),C),markToAnimate=function(t){E=!0,m.delete(t),P.needsAnimating[t]=!0};for(var B in w){var F=C[B],M=j[B];p.hasOwnProperty(B)||(F!==M?y(F)&&y(M)?shallowCompare(F,M)?P.protectedKeys[B]=!0:markToAnimate(B):void 0!==F?markToAnimate(B):m.add(B):void 0!==F&&m.has(B)?markToAnimate(B):P.protectedKeys[B]=!0)}P.prevProp=x,P.prevResolvedValues=C,P.isActive&&(p=a(a({},p),C)),s&&t.blockInitialAnimation&&(E=!1),E&&!b&&v.push.apply(v,e([],n(L.map((function(t){return{animation:t,options:a({type:u},r)}})))))},P=0;P<kt;P++)_loop_1(P);if(u=a({},p),m.size){var x={};m.forEach((function(e){var n=t.getBaseTarget(e);void 0!==n&&(x[e]=n)})),v.push({animation:x})}var V=Boolean(v.length);return s&&!1===f.initial&&!t.manuallyAnimateOnMount&&(V=!1),s=!1,V?i(v):Promise.resolve()}return{isAnimated:function isAnimated(t){return void 0!==u[t]},animateChanges:animateChanges,setActive:function setActive(e,n,r){var a;return o[e].isActive===n?Promise.resolve():(null===(a=t.variantChildren)||void 0===a||a.forEach((function(t){var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,n)})),o[e].isActive=n,animateChanges(r,e))},setAnimateFunction:function setAnimateFunction(e){i=e(t)},getState:function(){return o}}}function createTypeState(t){return void 0===t&&(t=!1),{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Dt={animation:makeRenderlessComponent((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=createAnimationState(n)),g(r)&&t.useEffect((function(){return r.subscribe(n)}),[r])})),exit:makeRenderlessComponent((function(e){var r=e.custom,a=e.visualElement,i=n(A(),2),o=i[0],u=i[1],s=t.useContext(P);t.useEffect((function(){var t,e,n=null===(t=a.animationState)||void 0===t?void 0:t.setActive(J.Exit,!o,{custom:null!==(e=null==s?void 0:s.custom)&&void 0!==e?e:r});!o&&(null==n||n.then(u))}),[o])}))};var Ht={pan:makeRenderlessComponent((function usePanGesture(e){var n=e.onPan,r=e.onPanStart,a=e.onPanEnd,i=e.onPanSessionStart,o=e.visualElement,s=n||r||a||i,l=t.useRef(null),c=t.useContext(x).transformPagePoint,f={onSessionStart:i,onStart:r,onMove:n,onEnd:function(t,e){l.current=null,a&&a(t,e)}};t.useEffect((function(){null!==l.current&&l.current.updateHandlers(f)})),Q(o,"pointerdown",s&&function onPointerDown(t){l.current=new ct(t,f,{transformPagePoint:c})}),u((function(){return l.current&&l.current.end()}))})),drag:makeRenderlessComponent((function useDrag(e){var n=e.dragControls,r=e.visualElement,i=t.useContext(x).transformPagePoint,o=V((function(){return new lt({visualElement:r})}));o.setProps(a(a({},e),{transformPagePoint:i})),t.useEffect((function(){return n&&n.subscribe(o)}),[o]),t.useEffect((function(){return o.mount(r)}),[])}))};function isCSSVariable(t){return"string"==typeof t&&t.startsWith("var(--")}var It=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function getVariableValue(t,e,r){var a=n(function parseCSSVariable(t){var e=It.exec(t);if(!e)return[,];var r=n(e,3);return[r[1],r[2]]}(t),2),i=a[0],o=a[1];if(i){var u=window.getComputedStyle(e).getPropertyValue(i);return u?u.trim():isCSSVariable(o)?getVariableValue(o,e):o}}function pixelsToPercent(t,e){return t/(e.max-e.min)*100}var Ut="_$css";var Ot={process:function correctBorderRadius(t,e,n){var r=n.target;if("string"==typeof t){if(!l.test(t))return t;t=parseFloat(t)}return pixelsToPercent(t,r.x)+"% "+pixelsToPercent(t,r.y)+"%"}},Nt={borderRadius:a(a({},Ot),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomLeftRadius:Ot,borderBottomRightRadius:Ot,boxShadow:{process:function correctBoxShadow(t,e){var n=e.delta,r=e.treeScale,a=t,i=t.includes("var("),o=[];i&&(t=t.replace(It,(function(t){return o.push(t),Ut})));var u=it.parse(t);if(u.length>5)return a;var s=it.createTransformer(t),l="number"!=typeof u[0]?1:0,c=n.x.scale*r.x,f=n.y.scale*r.y;u[0+l]/=c,u[1+l]/=f;var d=ft(c,f,.5);"number"==typeof u[2+l]&&(u[2+l]/=d),"number"==typeof u[3+l]&&(u[3+l]/=d);var v=s(u);if(i){var m=0;v=v.replace(Ut,(function(){var t=o[m];return m++,t}))}return v}}},qt=function(t){function Animate2(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameTarget=S(),e.currentAnimationTarget=S(),e.isAnimating={x:!1,y:!1},e.stopAxisAnimation={x:void 0,y:void 0},e.isAnimatingTree=!1,e.animate=function(t,n,i){void 0===i&&(i={});var o=i.originBox,u=i.targetBox,s=i.visibilityAction,l=i.shouldStackAnimate,c=i.onComplete,f=i.prevParent,d=r(i,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),v=e.props,m=v.visualElement,p=v.layout;if(!1===l)return e.isAnimatingTree=!1,e.safeToRemove();if(!e.isAnimatingTree||!0===l){l&&(e.isAnimatingTree=!0),n=o||n,t=u||t;var g=!1,y=m.getProjectionParent();if(y){var h=y.prevViewportBox,T=y.getLayoutState().layout;f&&(u&&(T=f.getLayoutState().layout),o&&!dt(f,y)&&f.prevViewportBox&&(h=f.prevViewportBox)),h&&function isProvidedCorrectDataForRelativeSharedLayout(t,e,n){return t||!t&&!(e||n)}(f,o,u)&&(g=!0,n=vt(h,n),t=vt(T,t))}var A=function hasMoved(t,e){return!(isZeroBox(t)||isZeroBox(e)||axisIsEqual(t.x,e.x)&&axisIsEqual(t.y,e.y))}(n,t),P=mt((function(r){var i,o;if("position"===p){var u=t[r].max-t[r].min;n[r].max=n[r].min+u}if(!m.projection.isTargetLocked)return void 0===s?A?e.animateAxis(r,t[r],n[r],a(a({},d),{isRelative:g})):(null===(o=(i=e.stopAxisAnimation)[r])||void 0===o||o.call(i),m.setProjectionTargetAxis(r,t[r].min,t[r].max,g)):void m.setVisibility(s===E.Show)}));return m.syncRender(),Promise.all(P).then((function(){e.isAnimatingTree=!1,c&&c(),m.notifyLayoutAnimationComplete()}))}},e}return i(Animate2,t),Animate2.prototype.componentDidMount=function(){var t=this,e=this.props.visualElement;e.animateMotionValue=st,e.enableLayoutProjection(),this.unsubLayoutReady=e.onLayoutUpdate(this.animate),e.layoutSafeToRemove=function(){return t.safeToRemove()},b(Nt)},Animate2.prototype.componentWillUnmount=function(){var t=this;this.unsubLayoutReady(),mt((function(e){var n,r;return null===(r=(n=t.stopAxisAnimation)[e])||void 0===r?void 0:r.call(n)}))},Animate2.prototype.animateAxis=function(t,e,n,r){var a,i,o=this,u=void 0===r?{}:r,s=u.transition,l=u.isRelative;if(!this.isAnimating[t]||!axisIsEqual(e,this.currentAnimationTarget[t])){null===(i=(a=this.stopAxisAnimation)[t])||void 0===i||i.call(a),this.isAnimating[t]=!0;var c=this.props.visualElement,f=this.frameTarget[t],d=c.getProjectionAnimationProgress()[t];d.clearListeners(),d.set(0),d.set(0);var frame=function(){var r=d.get()/1e3;gt(f,n,e,r),c.setProjectionTargetAxis(t,f.min,f.max,l)};frame();var v=d.onChange(frame);this.stopAxisAnimation[t]=function(){o.isAnimating[t]=!1,d.stop(),v()},this.currentAnimationTarget[t]=e;var m=s||c.getDefaultTransition()||Gt;return st("x"===t?"layoutX":"layoutY",d,1e3,m&&pt(m,"layout")).then(this.stopAxisAnimation[t])}},Animate2.prototype.safeToRemove=function(){var t,e;null===(e=(t=this.props).safeToRemove)||void 0===e||e.call(t)},Animate2.prototype.render=function(){return null},Animate2}(t.Component);var zt={min:0,max:0};function isZeroBox(t){return axisIsEqual(t.x,zt)&&axisIsEqual(t.y,zt)}function axisIsEqual(t,e){return t.min===e.min&&t.max===e.max}var Gt={duration:.45,ease:[.4,0,.1,1]};var Kt=function(t){function Measure2(){return null!==t&&t.apply(this,arguments)||this}return i(Measure2,t),Measure2.prototype.componentDidMount=function(){var t=this.props,e=t.syncLayout,n=t.framerSyncLayout,r=t.visualElement;L(e)&&e.register(r),L(n)&&n.register(r),r.onUnmount((function(){L(e)&&e.remove(r),L(n)&&n.remove(r)}))},Measure2.prototype.getSnapshotBeforeUpdate=function(){var t=this.props,e=t.syncLayout,n=t.visualElement;return L(e)?e.syncUpdate():(C(n),e.add(n)),null},Measure2.prototype.componentDidUpdate=function(){var t=this.props.syncLayout;L(t)||t.flush()},Measure2.prototype.render=function(){return null},Measure2}(o.Component);var Zt={measureLayout:function MeasureContextProvider(e){var n=t.useContext(R),r=t.useContext(j);return o.createElement(Kt,a({},e,{syncLayout:n,framerSyncLayout:r}))},layoutAnimation:function AnimateLayoutContextProvider(e){var r=n(A(),2)[1];return t.createElement(qt,a({},e,{safeToRemove:r}))}};function createLayoutState(){return{isHydrated:!1,layout:S(),layoutCorrected:S(),treeScale:{x:1,y:1},delta:w(),deltaFinal:w(),deltaTransform:""}}var $t=createLayoutState();function buildLayoutProjectionTransform(t,e,n){var r=t.x,a=t.y,i="translate3d("+r.translate/e.x+"px, "+a.translate/e.y+"px, 0) ";if(n){var o=n.rotate,u=n.rotateX,s=n.rotateY;o&&(i+="rotate("+o+") "),u&&(i+="rotateX("+u+") "),s&&(i+="rotateY("+s+") ")}return i+="scale("+r.scale+", "+a.scale+")",n||i!==Xt?i:""}function buildLayoutProjectionTransformOrigin(t){var e=t.deltaFinal;return 100*e.x.origin+"% "+100*e.y.origin+"% 0"}var Xt=buildLayoutProjectionTransform($t.delta,$t.treeScale,{x:1,y:1}),Yt=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var Wt=function(){function FlatTree2(){this.children=[],this.isDirty=!1}return FlatTree2.prototype.add=function(t){Pt(this.children,t),this.isDirty=!0},FlatTree2.prototype.remove=function(t){xt(this.children,t),this.isDirty=!0},FlatTree2.prototype.forEach=function(t){this.isDirty&&this.children.sort(F),this.isDirty=!1,this.children.forEach(t)},FlatTree2}();var visualElement=function(t){var r=t.treeType,i=void 0===r?"":r,o=t.build,u=t.getBaseTarget,s=t.makeTargetAnimatable,l=t.measureViewportBox,c=t.render,f=t.readValueFromInstance,d=t.resetTransform,v=t.restoreTransform,m=t.removeValueFromRenderState,p=t.sortNodePosition,g=t.scrapeMotionValuesFromProps;return function(t,r){var y=t.parent,h=t.props,A=t.presenceId,P=t.blockInitialAnimation,x=t.visualState;void 0===r&&(r={});var V,b,E,L,C,R,j=x.latestValues,w=x.renderState,F=function createLifecycles(){var t=Yt.map((function(){return new yt})),r={},a={clearAllListeners:function(){return t.forEach((function(t){return t.clear()}))},updatePropListeners:function(t){return Yt.forEach((function(e){var n;null===(n=r[e])||void 0===n||n.call(r);var i="on"+e,o=t[i];o&&(r[e]=a[i](o))}))}};return t.forEach((function(t,r){a["on"+Yt[r]]=function(e){return t.add(e)},a["notify"+Yt[r]]=function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t.notify.apply(t,e([],n(r)))}})),a}(),U={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:S(),targetFinal:S()},O=U,N=j,q=createLayoutState(),z=!1,G=new Map,K=new Map,Z={},$=a({},j);function render(){V&&(Q.isProjectionReady()&&(Et(O.targetFinal,O.target,N),At(q.deltaFinal,q.layoutCorrected,O.targetFinal,j)),triggerBuild(),c(V,w))}function triggerBuild(){var t=j;if(L&&L.isActive()){var e=L.getCrossfadeState(Q);e&&(t=e)}o(Q,w,t,O,q,r,h)}function update(){F.notifyUpdate(j)}function updateTreeLayoutProjection(){Q.layoutTree.forEach(fireUpdateLayoutProjection)}var X=g(h);for(var Y in X){var W=X[Y];void 0!==j[Y]&&B(W)&&W.set(j[Y],!1)}var _=M(h),J=k(h),Q=a(a({treeType:i,current:null,depth:y?y.depth+1:0,parent:y,children:new Set,path:y?e(e([],n(y.path)),[y]):[],layoutTree:y?y.layoutTree:new Wt,presenceId:A,projection:U,variantChildren:J?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==y?void 0:y.isMounted()),blockInitialAnimation:P,isMounted:function(){return Boolean(V)},mount:function(t){V=Q.current=t,Q.pointTo(Q),J&&y&&!_&&(R=null==y?void 0:y.addVariantChild(Q)),null==y||y.children.add(Q)},unmount:function(){D.update(update),D.render(render),D.preRender(Q.updateLayoutProjection),K.forEach((function(t){return t()})),Q.stopLayoutAnimation(),Q.layoutTree.remove(Q),null==R||R(),null==y||y.children.delete(Q),null==E||E(),F.clearAllListeners()},addVariantChild:function(t){var e,n=Q.getClosestVariantNode();if(n)return null===(e=n.variantChildren)||void 0===e||e.add(t),function(){return n.variantChildren.delete(t)}},sortNodePosition:function(t){return p&&i===t.treeType?p(Q.getInstance(),t.getInstance()):0},getClosestVariantNode:function(){return J?Q:null==y?void 0:y.getClosestVariantNode()},scheduleUpdateLayoutProjection:y?y.scheduleUpdateLayoutProjection:function(){return H.preRender(Q.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return h.layoutId},getInstance:function(){return V},getStaticValue:function(t){return j[t]},setStaticValue:function(t,e){return j[t]=e},getLatestValues:function(){return j},setVisibility:function(t){Q.isVisible!==t&&(Q.isVisible=t,Q.scheduleRender())},makeTargetAnimatable:function(t,e){return void 0===e&&(e=!0),s(Q,t,h,e)},addValue:function(t,e){Q.hasValue(t)&&Q.removeValue(t),G.set(t,e),j[t]=e.get(),function bindToMotionValue(t,e){var n=e.onChange((function(e){j[t]=e,h.onUpdate&&H.update(update,!1,!0)})),r=e.onRenderRequest(Q.scheduleRender);K.set(t,(function(){n(),r()}))}(t,e)},removeValue:function(t){var e;G.delete(t),null===(e=K.get(t))||void 0===e||e(),K.delete(t),delete j[t],m(t,w)},hasValue:function(t){return G.has(t)},getValue:function(t,e){var n=G.get(t);return void 0===n&&void 0!==e&&(n=ut(e),Q.addValue(t,n)),n},forEachValue:function(t){return G.forEach(t)},readValue:function(t){var e;return null!==(e=j[t])&&void 0!==e?e:f(V,t,r)},setBaseTarget:function(t,e){$[t]=e},getBaseTarget:function(t){if(u){var e=u(h,t);if(void 0!==e&&!B(e))return e}return $[t]}},F),{build:function(){return triggerBuild(),w},scheduleRender:function(){H.render(render,!1,!0)},syncRender:render,setProps:function(t){h=t,F.updatePropListeners(t),Z=function updateMotionValuesFromProps(t,e,n){var r;for(var a in e){var i=e[a],o=n[a];if(B(i))t.addValue(a,i);else if(B(o))t.addValue(a,ut(i));else if(o!==i)if(t.hasValue(a)){var u=t.getValue(a);!u.hasAnimated&&u.set(i)}else t.addValue(a,ut(null!==(r=t.getStaticValue(a))&&void 0!==r?r:i))}for(var a in n)void 0===e[a]&&t.removeValue(a);return e}(Q,g(h),Z)},getProps:function(){return h},getVariant:function(t){var e;return null===(e=h.variants)||void 0===e?void 0:e[t]},getDefaultTransition:function(){return h.transition},getVariantContext:function(t){if(void 0===t&&(t=!1),t)return null==y?void 0:y.getVariantContext();if(!_){var e=(null==y?void 0:y.getVariantContext())||{};return void 0!==h.initial&&(e.initial=h.initial),e}for(var n={},r=0;r<te;r++){var a=Qt[r],i=h[a];(T(i)||!1===i)&&(n[a]=i)}return n},enableLayoutProjection:function(){U.isEnabled=!0,Q.layoutTree.add(Q)},lockProjectionTarget:function(){U.isTargetLocked=!0},unlockProjectionTarget:function(){Q.stopLayoutAnimation(),U.isTargetLocked=!1},getLayoutState:function(){return q},setCrossfader:function(t){L=t},isProjectionReady:function(){return U.isEnabled&&U.isHydrated&&q.isHydrated},startLayoutAnimation:function(t,e,n){void 0===n&&(n=!1);var r=Q.getProjectionAnimationProgress()[t],a=n?U.relativeTarget[t]:U.target[t],i=a.min,o=a.max-i;return r.clearListeners(),r.set(i),r.set(i),r.onChange((function(e){Q.setProjectionTargetAxis(t,e,e+o,n)})),Q.animateMotionValue(t,r,0,e)},stopLayoutAnimation:function(){mt((function(t){return Q.getProjectionAnimationProgress()[t].stop()}))},measureViewportBox:function(t){void 0===t&&(t=!0);var e=l(V,r);return t||Vt(e,j),e},getProjectionAnimationProgress:function(){return C||(C={x:ut(0),y:ut(0)}),C},setProjectionTargetAxis:function(t,e,n,r){var a;void 0===r&&(r=!1),r?(U.relativeTarget||(U.relativeTarget=S()),a=U.relativeTarget[t]):(U.relativeTarget=void 0,a=U.target[t]),U.isHydrated=!0,a.min=e,a.max=n,z=!0,F.notifySetAxisTarget()},rebaseProjectionTarget:function(t,e){void 0===e&&(e=q.layout);var n=Q.getProjectionAnimationProgress(),r=n.x,a=n.y,i=!(U.relativeTarget||U.isTargetLocked||r.isAnimating()||a.isAnimating());(t||i)&&mt((function(t){var n=e[t],r=n.min,a=n.max;Q.setProjectionTargetAxis(t,r,a)}))},notifyLayoutReady:function(t){!function setCurrentViewportBox(t){var e=t.getProjectionParent();if(e){var n=vt(e.getLayoutState().layout,t.getLayoutState().layout);mt((function(e){t.setProjectionTargetAxis(e,n[e].min,n[e].max,!0)}))}else t.rebaseProjectionTarget()}(Q),Q.notifyLayoutUpdate(q.layout,Q.prevViewportBox||q.layout,t)},resetTransform:function(){return d(Q,V,h)},restoreTransform:function(){return v(V,w)},updateLayoutProjection:function updateLayoutProjection(){if(Q.isProjectionReady()){var t=q.delta,e=q.treeScale,n=e.x,r=e.y,a=q.deltaTransform;!function updateLayoutDeltas(t,e,n,r){var a=t.delta,i=t.layout,o=t.layoutCorrected,u=t.treeScale,s=e.target;ht(o,i),Tt(o,u,n),At(a,o,s,r)}(q,O,Q.path,j),z&&Q.notifyViewportBoxUpdate(O.target,t),z=!1;var i=buildLayoutProjectionTransform(t,e);i===a&&n===e.x&&r===e.y||Q.scheduleRender(),q.deltaTransform=i}},updateTreeLayoutProjection:function(){Q.layoutTree.forEach(fireResolveRelativeTargetBox),H.preRender(updateTreeLayoutProjection,!1,!0)},getProjectionParent:function(){if(void 0===b){for(var t=!1,e=Q.path.length-1;e>=0;e--){var n=Q.path[e];if(n.projection.isEnabled){t=n;break}}b=t}return b},resolveRelativeTargetBox:function(){var t=Q.getProjectionParent();if(U.relativeTarget&&t&&(St(U,t.projection),bt(t))){var e=U.target;Et(e,e,t.getLatestValues())}},shouldResetTransform:function(){return Boolean(h._layoutResetTransform)},pointTo:function(t){O=t.projection,N=t.getLatestValues(),null==E||E(),E=nt(t.onSetAxisTarget(Q.scheduleUpdateLayoutProjection),t.onLayoutAnimationComplete((function(){var t;Q.isPresent?Q.presence=I.Present:null===(t=Q.layoutSafeToRemove)||void 0===t||t.call(Q)})))},isPresent:!0,presence:I.Entering});return Q}};function fireResolveRelativeTargetBox(t){t.resolveRelativeTargetBox()}function fireUpdateLayoutProjection(t){t.updateLayoutProjection()}var _t,Jt,Qt=e(["initial"],n(Ft)),te=Qt.length,ee=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=function(t){return ee.has(t)},setAndResetVelocity=function(t,e){t.set(e,!1),t.set(e)},isNumOrPxType=function(t){return t===s||t===l};(Jt=_t||(_t={})).width="width",Jt.height="height",Jt.left="left",Jt.right="right",Jt.top="top",Jt.bottom="bottom";var getPosFromMatrix=function(t,e){return parseFloat(t.split(", ")[e])},getTranslateFromMatrix=function(t,e){return function(n,r){var a=r.transform;if("none"===a||!a)return 0;var i=a.match(/^matrix3d\((.+)\)$/);if(i)return getPosFromMatrix(i[1],e);var o=a.match(/^matrix\((.+)\)$/);return o?getPosFromMatrix(o[1],t):0}},ne=new Set(["x","y","z"]),re=U.filter((function(t){return!ne.has(t)}));var ae={width:function(t){var e=t.x;return e.max-e.min},height:function(t){var e=t.y;return e.max-e.min},top:function(t,e){var n=e.top;return parseFloat(n)},left:function(t,e){var n=e.left;return parseFloat(n)},bottom:function(t,e){var n=t.y,r=e.top;return parseFloat(r)+(n.max-n.min)},right:function(t,e){var n=t.x,r=e.left;return parseFloat(r)+(n.max-n.min)},x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},checkAndConvertChangedValueTypes=function(t,e,r,i){void 0===r&&(r={}),void 0===i&&(i={}),e=a({},e),i=a({},i);var o=Object.keys(e).filter(isPositionalKey),u=[],s=!1,c=[];if(o.forEach((function(n){var a=t.getValue(n);if(t.hasValue(n)){var o,f=r[n],d=e[n],v=findDimensionValueType(f);if(y(d))for(var m=d.length,p=null===d[0]?1:0;p<m;p++)o?Lt(findDimensionValueType(d[p])===o):o=findDimensionValueType(d[p]);else o=findDimensionValueType(d);if(v!==o)if(isNumOrPxType(v)&&isNumOrPxType(o)){var g=a.get();"string"==typeof g&&a.set(parseFloat(g)),"string"==typeof d?e[n]=parseFloat(d):Array.isArray(d)&&o===l&&(e[n]=d.map(parseFloat))}else(null==v?void 0:v.transform)&&(null==o?void 0:o.transform)&&(0===f||0===d)?0===f?a.set(o.transform(f)):e[n]=v.transform(d):(s||(u=function removeNonTranslationalTransform(t){var e=[];return re.forEach((function(n){var r=t.getValue(n);void 0!==r&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),e.length&&t.syncRender(),e}(t),s=!0),c.push(n),i[n]=void 0!==i[n]?i[n]:e[n],setAndResetVelocity(a,d))}})),c.length){var f=function(t,e,n){var r=e.measureViewportBox(),a=e.getInstance(),i=getComputedStyle(a),o=i.display,u={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===o&&e.setStaticValue("display",t.display||"block"),e.syncRender();var s=e.measureViewportBox();return n.forEach((function(n){var a=e.getValue(n);setAndResetVelocity(a,ae[n](r,u)),t[n]=ae[n](s,i)})),t}(e,t,c);return u.length&&u.forEach((function(e){var r=n(e,2),a=r[0],i=r[1];t.getValue(a).set(i)})),t.syncRender(),{target:f,transitionEnd:i}}return{target:e,transitionEnd:i}};function unitConversion(t,e,n,r){return function(t){return Object.keys(t).some(isPositionalKey)}(e)?checkAndConvertChangedValueTypes(t,e,n,r):{target:e,transitionEnd:r}}var parseDomVariant=function(t,e,n,i){var o=function resolveCSSVariables(t,e,n){var i,o=r(e,[]),u=t.getInstance();if(!(u instanceof HTMLElement))return{target:o,transitionEnd:n};for(var s in n&&(n=a({},n)),t.forEachValue((function(t){var e=t.get();if(isCSSVariable(e)){var n=getVariableValue(e,u);n&&t.set(n)}})),o){var l=o[s];if(isCSSVariable(l)){var c=getVariableValue(l,u);c&&(o[s]=c,n&&(null!==(i=n[s])&&void 0!==i||(n[s]=l)))}}return{target:o,transitionEnd:n}}(t,e,i);return unitConversion(t,e=o.target,n,i=o.transitionEnd)};var ie={treeType:"dom",readValueFromInstance:function(t,e){if(O(e)){var n=Ct(e);return n&&n.default||0}var r=function getComputedStyle$1(t){return window.getComputedStyle(t)}(t);return(N(e)?r.getPropertyValue(e):r[e])||0},sortNodePosition:function(t,e){return 2&t.compareDocumentPosition(e)?1:-1},getBaseTarget:function(t,e){var n;return null===(n=t.style)||void 0===n?void 0:n[e]},measureViewportBox:function(t,e){var n=e.transformPagePoint;return Rt(t,n)},resetTransform:function(t,e,n){var r=n.transformTemplate;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform:function(t,e){t.style.transform=e.style.transform},removeValueFromRenderState:function(t,e){var n=e.vars,r=e.style;delete n[t],delete r[t]},makeTargetAnimatable:function(t,e,n,i){var o=n.transformValues;void 0===i&&(i=!0);var u=e.transition,s=e.transitionEnd,l=r(e,["transition","transitionEnd"]),c=function getOrigin(t,e,n){var r,a,i={};for(var o in t)i[o]=null!==(r=getOriginFromTransition(o,e))&&void 0!==r?r:null===(a=n.getValue(o))||void 0===a?void 0:a.get();return i}(l,u||{},t);if(o&&(s&&(s=o(s)),l&&(l=o(l)),c&&(c=o(c))),i){!function checkTargetForNewValues(t,e,n){var r,a,i,o,u=Object.keys(e).filter((function(e){return!t.hasValue(e)})),s=u.length;if(s)for(var l=0;l<s;l++){var c=u[l],f=e[c],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(a=null!==(r=n[c])&&void 0!==r?r:t.readValue(c))&&void 0!==a?a:e[c]),null!=d&&("string"==typeof d&&/^\-?\d*\.?\d+$/.test(d)?d=parseFloat(d):!findValueType(d)&&it.test(f)&&(d=ot(c,f)),t.addValue(c,ut(d)),null!==(i=(o=n)[c])&&void 0!==i||(o[c]=d),t.setBaseTarget(c,d))}}(t,l,c);var f=parseDomVariant(t,l,c,s);s=f.transitionEnd,l=f.target}return a({transition:u,transitionEnd:s},l)},scrapeMotionValuesFromProps:q,build:function(t,e,n,r,a,i,o){void 0!==t.isVisible&&(e.style.visibility=t.isVisible?"visible":"hidden");var u=r.isEnabled&&a.isHydrated;z(e,n,r,a,i,o.transformTemplate,u?buildLayoutProjectionTransform:void 0,u?buildLayoutProjectionTransformOrigin:void 0)},render:G},oe=visualElement(ie),ue=visualElement(a(a({},ie),{getBaseTarget:function(t,e){return t[e]},readValueFromInstance:function(t,e){var n;return O(e)?(null===(n=Ct(e))||void 0===n?void 0:n.default)||0:(e=K.has(e)?e:Z(e),t.getAttribute(e))},scrapeMotionValuesFromProps:$,build:function(t,e,n,r,a,i,o){var u=r.isEnabled&&a.isHydrated;X(e,n,r,a,i,o.transformTemplate,u?buildLayoutProjectionTransform:void 0,u?buildLayoutProjectionTransformOrigin:void 0)},render:Y})),se=a(a({renderer:function(t,e){return W(t)?ue(e,{enableHardwareAcceleration:!1}):oe(e,{enableHardwareAcceleration:!0})}},Dt),jt),le=a(a(a({},se),Ht),Zt);export{le as default};
