import{o as e,r as a,u as t,a as r,Z as n,e as s,d as o,z as i,j as l,A as c,am as d,I as m,F as u,B as h,aO as p,aP as g,h as b,H as y,aQ as f,ao as S}from"./index.mlCxaiYE.js";import{I as C}from"./InputSelectNew.MYEDp3D-.js";import{S as P}from"./Scene.tZk0YIWv.js";import{S as v}from"./Switch.3DOmHSIs.js";import{u as L}from"./useCurrentTeam.fRZpnoZU.js";import{u as w}from"./useCurrentUser.zlImhYTS.js";import{u as k}from"./usePolicy.wYF8wJNp.js";import{u as j}from"./index.esm.XsAbwjVB.js";import{S as D}from"./SettingRow.96ERny3f.js";import"./InputSelectPermission.lb2lIKIy.js";import"./PopoverDisclosure.OO70kItq.js";import"./DocumentContext.hhTeDqBR.js";import"./PlaceholderText.UNfhMHoO.js";import"./LoadingIndicatorBar.mGaD64ZX.js";import"./TeamLogo.qV1feKYB.js";import"./useBoolean.4JQO1FDN.js";import"./Badge.sHfYRIgC.js";import"./Item.dGEOVRdT.js";import"./Time.rp9cc_zo.js";import"./SharedLayoutContext.2BBc39h7.js";const E=e((function UserDelete({onSubmit:e}){const[p,g]=a.useState(!1),{auth:b}=t(),{t:y}=r(),{register:f,handleSubmit:S,formState:C}=j(),P=a.useCallback((async e=>{e.preventDefault();try{await b.requestDeleteUser(),g(!0)}catch(a){n.error(a.message)}}),[b]),v=a.useCallback((async a=>{try{await b.deleteUser(a),await b.logout(),e()}catch(t){n.error(t.message)}}),[b,e]),L=f("code",{required:s.EMAIL_ENABLED}),w=s.APP_NAME;return o("form",{onSubmit:S(v),children:[p?o(i,{children:[l(c,{as:"p",type:"secondary",children:l(d,{children:"A confirmation code has been sent to your email address, please enter the code below to permanently destroy your account."})}),l(m,{placeholder:y("Confirmation code"),autoComplete:"off",autoFocus:!0,maxLength:8,required:!0,...L})]}):l(i,{children:l(c,{as:"p",type:"secondary",children:o(d,{children:["Are you sure? Deleting your account will destroy identifying data associated with your user and cannot be undone. You will be immediately logged out of ",{appName:w}," and all your API tokens will be revoked."]})})}),l(u,{justify:"flex-end",children:s.EMAIL_ENABLED&&!p?o(h,{type:"submit",onClick:P,neutral:!0,children:[y("Continue"),"…"]}):l(h,{type:"submit",disabled:C.isSubmitting||!C.isValid,danger:!0,children:C.isSubmitting?`${y("Deleting")}…`:y("Delete my account")})})]})}));const x=e((function Preferences(){const{t:e}=r(),{ui:s,dialogs:m}=t(),u=w(),j=L(),x=k(u.id),A=a.useMemo((()=>p.map((e=>({type:"item",label:e.label,value:e.value})))),[]),B=a.useMemo((()=>[{type:"item",label:e("Light"),value:g.Light},{type:"item",label:e("Dark"),value:g.Dark},{type:"item",label:e("System"),value:g.System}]),[e]),handlePreferenceChange=(a=!1)=>async t=>{u.setPreference(t.target.name,a?!t.target.checked:t.target.checked),await u.save(),n.success(e("Preferences saved"))},I=a.useCallback((async a=>{await u.save({language:a}),n.success(e("Preferences saved"))}),[e,u]),N=a.useCallback((a=>{s.setTheme(a),n.success(e("Preferences saved"))}),[e,s]);return o(P,{title:e("Preferences"),icon:l(b.SettingsIcon,{}),children:[l(y,{children:e("Preferences")}),l(c,{as:"p",type:"secondary",children:l(d,{children:"Manage settings that affect your personal experience."})}),l(y,{as:"h2",children:e("Display")}),l(D,{label:e("Language"),name:"language",description:l(i,{children:o(d,{children:["Choose the interface language. Community translations are accepted though our"," ",l("a",{href:"https://translate.getoutline.com",target:"_blank",rel:"noreferrer",children:"translation portal"}),"."]})}),children:l(C,{options:A,value:u.language,onChange:I,ariaLabel:e("Language"),label:e("Language"),hideLabel:!0})}),l(D,{name:"theme",label:e("Appearance"),description:e("Choose your preferred interface color scheme."),children:l(C,{options:B,value:s.theme,onChange:N,ariaLabel:e("Appearance"),label:e("Appearance"),hideLabel:!0})}),l(D,{name:f.UseCursorPointer,label:e("Use pointer cursor"),description:e("Show a hand cursor when hovering over interactive elements."),children:l(v,{id:f.UseCursorPointer,name:f.UseCursorPointer,checked:u.getPreference(f.UseCursorPointer),onChange:handlePreferenceChange(!1)})}),l(D,{name:f.CodeBlockLineNumers,label:e("Show line numbers"),description:e("Show line numbers on code blocks in documents."),border:!1,children:l(v,{id:f.CodeBlockLineNumers,name:f.CodeBlockLineNumers,checked:u.getPreference(f.CodeBlockLineNumers),onChange:handlePreferenceChange(!1)})}),l(y,{as:"h2",children:e("Behavior")}),l(D,{name:f.SeamlessEdit,label:e("Separate editing"),description:e("When enabled, documents have a separate editing mode. When disabled, documents are always editable when you have permission."),children:l(v,{id:f.SeamlessEdit,name:f.SeamlessEdit,checked:!u.getPreference(f.SeamlessEdit,j.getPreference(S.SeamlessEdit)),onChange:handlePreferenceChange(!0)})}),l(D,{name:f.RememberLastPath,label:e("Remember previous location"),description:e("Automatically return to the document you were last viewing when the app is re-opened."),children:l(v,{id:f.RememberLastPath,name:f.RememberLastPath,checked:!!u.getPreference(f.RememberLastPath),onChange:handlePreferenceChange(!1)})}),l(D,{border:!1,name:f.EnableSmartText,label:e("Smart text replacements"),description:e("Auto-format text by replacing shortcuts with symbols, dashes, smart quotes, and other typographical elements."),children:l(v,{id:f.EnableSmartText,name:f.EnableSmartText,checked:!!u.getPreference(f.EnableSmartText),onChange:handlePreferenceChange(!1)})}),x.delete&&o(i,{children:[l(y,{as:"h2",children:e("Danger")}),l(D,{name:"delete",label:e("Delete account"),description:e("You may delete your account at any time, note that this is unrecoverable"),children:l("span",{children:o(h,{onClick:()=>{m.openModal({title:e("Delete account"),content:l(E,{onSubmit:m.closeAllModals})})},neutral:!0,children:[e("Delete account"),"…"]})})})]})]})}));export{x as default};
